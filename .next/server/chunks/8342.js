"use strict";exports.id=8342,exports.ids=[8342],exports.modules={26002:(e,t,a)=>{a.d(t,{J:()=>p});var s=a(10326),n=a(17577),r=a(29752),i=a(91664),l=a(38443),d=a(29280),c=a(3719),o=a(19381),m=a(42553),u=a(48275),x=a(51223);function p(){let[e,t]=(0,n.useState)([]),[a,p]=(0,n.useState)(!0),[f,y]=(0,n.useState)(new Date().getFullYear()),[g,h]=(0,n.useState)(!1),j=async e=>{h(!0);try{let a=await u.U.requestTaxDocument(f,e);t(e=>[...e,a])}catch(e){console.error("Failed to request tax document:",e)}finally{h(!1)}},b=async(e,t)=>{try{let a=await u.U.downloadTaxDocument(e),s=window.URL.createObjectURL(a),n=document.createElement("a");n.href=s,n.download=t,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(s),document.body.removeChild(n)}catch(e){console.error("Failed to download document:",e)}},N=new Date().getFullYear(),v=Array.from({length:5},(e,t)=>N-t);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(c.Z,{className:"w-6 h-6"}),"Tax Documents"]}),s.jsx("p",{className:"text-gray-600",children:"Generate and download your Canadian tax forms"})]}),s.jsx("div",{className:"flex items-center gap-4",children:(0,s.jsxs)(d.Ph,{value:f.toString(),onValueChange:e=>y(parseInt(e)),children:[s.jsx(d.i4,{className:"w-32",children:s.jsx(d.ki,{})}),s.jsx(d.Bw,{children:v.map(e=>s.jsx(d.Ql,{value:e.toString(),children:e},e))})]})})]}),s.jsx(r.Zb,{children:s.jsx(r.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[s.jsx(o.Z,{className:"w-6 h-6 text-amber-600 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-medium text-gray-900 mb-2",children:["Tax Year ",f," Information"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("p",{children:"• T4A forms are required for Canadian tax filing if you earned more than $500"}),s.jsx("p",{children:"• Documents are typically available by February 28th of the following year"}),s.jsx("p",{children:"• You can request documents once your earnings data is finalized"}),s.jsx("p",{children:"• All amounts are reported in Canadian dollars (CAD)"})]})]})]})})}),(0,s.jsxs)(r.Zb,{children:[s.jsx(r.Ol,{children:s.jsx(r.ll,{children:"Request Tax Documents"})}),s.jsx(r.aY,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(r.Zb,{className:"border-dashed",children:(0,s.jsxs)(r.aY,{className:"p-4 text-center",children:[s.jsx(c.Z,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"T4A Statement"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Statement of Pension, Retirement, Annuity, and Other Income"}),s.jsx(i.z,{onClick:()=>j("T4A"),disabled:g,size:"sm",className:"w-full",children:"Request T4A"})]})}),s.jsx(r.Zb,{className:"border-dashed",children:(0,s.jsxs)(r.aY,{className:"p-4 text-center",children:[s.jsx(c.Z,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"T5018 Statement"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Statement of Contract Payments"}),s.jsx(i.z,{onClick:()=>j("T5018"),disabled:g,size:"sm",variant:"outline",className:"w-full",children:"Request T5018"})]})})]})})]}),(0,s.jsxs)(r.Zb,{children:[s.jsx(r.Ol,{children:(0,s.jsxs)(r.ll,{children:["Your Tax Documents (",f,")"]})}),s.jsx(r.aY,{children:a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===e.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx(c.Z,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents found"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["No tax documents have been generated for ",f," yet."]})]}):s.jsx("div",{className:"space-y-4",children:e.map(e=>s.jsx("div",{className:"border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h4",{className:"font-medium text-gray-900",children:["Tax Summary - ",e.year]}),s.jsx(l.C,{variant:"outline",className:"bg-green-50 text-green-700",children:"Available"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Gross Income:"}),s.jsx("div",{className:"font-medium",children:(0,x.xG)(e.summary?.totalGrossIncome||0)})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Platform Fees:"}),s.jsx("div",{className:"font-medium",children:(0,x.xG)(e.summary?.totalPlatformFeesWithTax||0)})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600",children:"GST/HST on Fees:"}),s.jsx("div",{className:"font-medium",children:(0,x.xG)(e.summary?.gstHstOnPlatformFees||0)})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Net Income:"}),s.jsx("div",{className:"font-medium text-green-600",children:(0,x.xG)(e.summary?.netIncome||0)})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[(0,s.jsxs)("span",{children:["Year: ",e.year]}),(0,s.jsxs)("span",{children:["Province: ",e.gstHstInfo?.province||"ON"]}),e.gstHstInfo?.hasGstHstNumber?s.jsx(l.C,{variant:"outline",className:"text-green-600",children:"GST/HST Registered - Tax Exempt"}):(0,s.jsxs)(l.C,{variant:"outline",className:"text-orange-600",children:["GST/HST Applies (",e.gstHstInfo?.totalTaxRate?(100*e.gstHstInfo.totalTaxRate).toFixed(1):13,"%)"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:e.documentUrl&&(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>b(e.id,`${e.type}-${e.year}.pdf`),children:[s.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Download"]})})]})},e.id))})})]})]})}},38443:(e,t,a)=>{a.d(t,{C:()=>l});var s=a(10326);a(17577);var n=a(79360),r=a(51223);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return s.jsx("div",{className:(0,r.cn)(i({variant:t}),e),...a})}},29752:(e,t,a)=>{a.d(t,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>o,ll:()=>d});var s=a(10326),n=a(17577),r=a(51223);let i=n.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=n.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let d=n.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let c=n.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let o=n.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",n.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},41190:(e,t,a)=>{a.d(t,{I:()=>i});var s=a(10326),n=a(17577),r=a(51223);let i=n.forwardRef(({className:e,type:t,...a},n)=>s.jsx("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...a}));i.displayName="Input"},29280:(e,t,a)=>{a.d(t,{Bw:()=>f,Ph:()=>o,Ql:()=>y,i4:()=>u,ki:()=>m});var s=a(10326),n=a(17577),r=a(38785),i=a(941),l=a(96633),d=a(32933),c=a(51223);let o=r.fC;r.ZA;let m=r.B4,u=n.forwardRef(({className:e,children:t,...a},n)=>(0,s.jsxs)(r.xz,{ref:n,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(r.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=r.xz.displayName;let x=n.forwardRef(({className:e,...t},a)=>s.jsx(r.u_,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(l.Z,{className:"h-4 w-4"})}));x.displayName=r.u_.displayName;let p=n.forwardRef(({className:e,...t},a)=>s.jsx(r.$G,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=r.$G.displayName;let f=n.forwardRef(({className:e,children:t,position:a="popper",...n},i)=>s.jsx(r.h_,{children:(0,s.jsxs)(r.VY,{ref:i,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...n,children:[s.jsx(x,{}),s.jsx(r.l_,{className:(0,c.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(p,{})]})}));f.displayName=r.VY.displayName,n.forwardRef(({className:e,...t},a)=>s.jsx(r.__,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=r.__.displayName;let y=n.forwardRef(({className:e,children:t,...a},n)=>(0,s.jsxs)(r.ck,{ref:n,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(r.wU,{children:s.jsx(d.Z,{className:"h-4 w-4"})})}),s.jsx(r.eT,{children:t})]}));y.displayName=r.ck.displayName,n.forwardRef(({className:e,...t},a)=>s.jsx(r.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=r.Z0.displayName},50384:(e,t,a)=>{a.d(t,{SP:()=>c,dr:()=>d,mQ:()=>l,nU:()=>o});var s=a(10326),n=a(17577),r=a(28407),i=a(51223);let l=r.fC,d=n.forwardRef(({className:e,...t},a)=>s.jsx(r.aV,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));d.displayName=r.aV.displayName;let c=n.forwardRef(({className:e,...t},a)=>s.jsx(r.xz,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=r.xz.displayName;let o=n.forwardRef(({className:e,...t},a)=>s.jsx(r.VY,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));o.displayName=r.VY.displayName},48275:(e,t,a)=>{a.d(t,{U:()=>r});var s=a(55137);class n{async getPayments(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,a])=>{null!=a&&t.append(e,a.toString())}),s.apiClient.get(`/payments?${t.toString()}`)}async getPayment(e){return s.apiClient.get(`/payments/${e}`)}async getPaymentsByProject(e){return s.apiClient.get(`/payments/project/${e}`)}async getPaymentsByContract(e){return s.apiClient.get(`/payments/contract/${e}`)}async getReceipt(e){return s.apiClient.get(`/payments/${e}/receipt`)}async downloadReceipt(e,t="pdf"){return s.apiClient.getBlob(`/payments/${e}/receipt/download`,{params:{format:t}})}async generateReceipt(e){return s.apiClient.post(`/payments/${e}/receipt/generate`)}async sendReceiptByEmail(e,t){return s.apiClient.post(`/payments/${e}/receipt/send`,{email:t})}async fundEscrow(e,t){return s.apiClient.post("/payments/escrow/fund",{contractId:e,amount:t})}async releaseMilestonePayment(e){return s.apiClient.post(`/payments/milestone/${e}/release`)}async requestRefund(e,t){return s.apiClient.post(`/payments/${e}/refund`,{reason:t})}async requestWithdrawal(e,t){return s.apiClient.post("/payments/withdraw",{amount:e,bankAccountId:t})}async getWithdrawalHistory(){return s.apiClient.get("/payments/withdrawals")}async getBankAccounts(){return s.apiClient.get("/payments/bank-accounts")}async addBankAccount(e){return s.apiClient.post("/payments/bank-accounts",e)}async verifyBankAccount(e,t){return s.apiClient.post(`/payments/bank-accounts/${e}/verify`,{microDeposits:t})}async deleteBankAccount(e){return s.apiClient.delete(`/payments/bank-accounts/${e}`)}async getTaxDocuments(e){let t=e?`?year=${e}`:"";return s.apiClient.get(`/payments/tax-documents${t}`)}async getTaxDocument(e){return s.apiClient.get(`/payments/tax-documents/${e}`)}async downloadTaxDocument(e){return s.apiClient.getBlob(`/payments/tax-documents/${e}/download`)}async requestTaxDocument(e,t){return s.apiClient.post("/payments/tax-documents/request",{year:e,type:t})}async getPaymentStats(e,t){let a=new URLSearchParams;return e&&a.append("dateFrom",e),t&&a.append("dateTo",t),s.apiClient.get(`/payments/stats?${a.toString()}`)}async getEarningsReport(e){return s.apiClient.get(`/payments/earnings-report?year=${e}`)}async getAllPayments(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,a])=>{null!=a&&t.append(e,a.toString())}),s.apiClient.get(`/payments/admin/all?${t.toString()}`)}async processPayment(e){return s.apiClient.post(`/payments/admin/${e}/process`)}async cancelPayment(e,t){return s.apiClient.post(`/payments/admin/${e}/cancel`,{reason:t})}async generateTaxDocuments(e,t){return s.apiClient.post("/payments/admin/tax-documents/generate",{year:e,userIds:t})}}let r=new n},42553:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(17577);let n=s.forwardRef(function({title:e,titleId:t,...a},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))})}};