"use strict";exports.id=8734,exports.ids=[8734],exports.modules={2474:(e,s,a)=>{a.d(s,{m:()=>q});var l=a(10326),t=a(17577),i=a(29752),n=a(91664),r=a(41190),c=a(38443),d=a(9280),o=a(10143),m=a(33261),x=a(99731),h=a(41179),u=a(43404),p=a(81367),j=a(2560),g=a(35966),f=a(86421),v=a(50108),N=a(96229),y=a(42553),w=a(35310),b=a(89430),C=a(49544),D=a(51223),k=a(24118),z=a(73891),Z=a(74222),S=a(30002);function F({file:e,onClose:s}){let{data:a}=(0,C.lI)(e.id),{download:t}=(0,C.Rr)(),i=async()=>{try{await t(e.id)}catch(e){console.error("Download failed:",e)}},r=()=>e.mimeType.startsWith("image/")?l.jsx(z.Z,{className:"w-8 h-8 text-blue-500"}):e.mimeType.startsWith("video/")?l.jsx(Z.Z,{className:"w-8 h-8 text-purple-500"}):e.mimeType.startsWith("audio/")?l.jsx(S.Z,{className:"w-8 h-8 text-green-500"}):l.jsx(g.Z,{className:"w-8 h-8 text-gray-500"});return l.jsx(k.Vq,{open:!0,onOpenChange:s,children:(0,l.jsxs)(k.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(k.fK,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(k.$N,{className:"flex items-center gap-3",children:[r(),(0,l.jsxs)("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:e.originalName}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[(e.fileSize/1024/1024).toFixed(2)," MB • ",e.mimeType]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(n.z,{variant:"outline",size:"sm",onClick:i,children:[l.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,l.jsxs)(n.z,{variant:"outline",size:"sm",children:[l.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"Share"]})]})]})}),(0,l.jsxs)("div",{className:"space-y-6",children:[l.jsx("div",{className:"border rounded-lg p-4",children:(()=>{if(!a?.canPreview)return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 rounded-lg",children:[r(),l.jsx("p",{className:"mt-4 text-gray-600",children:"Preview not available for this file type"}),(0,l.jsxs)(n.z,{onClick:i,className:"mt-4",children:[l.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"Download to View"]})]});switch(a.previewType){case"image":return l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:a.previewUrl,alt:e.originalName,className:"max-w-full max-h-96 object-contain rounded-lg"})});case"video":return l.jsx("video",{src:a.previewUrl,controls:!0,className:"w-full max-h-96 rounded-lg",children:"Your browser does not support the video tag."});case"pdf":return l.jsx("iframe",{src:a.previewUrl,className:"w-full h-96 rounded-lg border",title:e.originalName});case"text":return l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg h-64 overflow-auto",children:l.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:a.previewUrl})});default:return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 rounded-lg",children:[r(),l.jsx("p",{className:"mt-4 text-gray-600",children:"Preview not available"})]})}})()}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"File Information"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"File Name:"}),l.jsx("span",{className:"font-medium",children:e.originalName})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"File Size:"}),(0,l.jsxs)("span",{className:"font-medium",children:[(e.fileSize/1024/1024).toFixed(2)," MB"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"File Type:"}),l.jsx("span",{className:"font-medium",children:e.mimeType})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Category:"}),l.jsx(c.C,{variant:"secondary",children:e.category})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Uploaded:"}),l.jsx("span",{className:"font-medium",children:(0,D.p6)(e.uploadedAt)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Access Level:"}),l.jsx(c.C,{variant:"outline",children:e.accessLevel.replace("_"," ")})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Additional Details"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[e.metadata.description&&(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-600 block mb-1",children:"Description:"}),l.jsx("p",{className:"text-gray-900",children:e.metadata.description})]}),e.metadata.tags.length>0&&(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-gray-600 block mb-2",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.metadata.tags.map(e=>l.jsx(c.C,{variant:"secondary",className:"text-xs",children:e},e))})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Downloads:"}),l.jsx("span",{className:"font-medium",children:e.downloadCount||0})]}),e.virusScanStatus&&(0,l.jsxs)("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Virus Scan:"}),l.jsx(c.C,{variant:"clean"===e.virusScanStatus?"default":"destructive",className:"text-xs",children:e.virusScanStatus})]})]})]})]}),e.versions&&e.versions.length>0&&(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Version History"}),l.jsx("div",{className:"space-y-2",children:e.versions.map((s,a)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-medium",children:["Version ",e.versions.length-a]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,D.p6)(s.createdAt)," • ",(s.fileSize/1024/1024).toFixed(2)," MB"]}),s.changeNotes&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.changeNotes})]}),l.jsx(n.z,{variant:"outline",size:"sm",children:"Download"})]},s.id))})]})]})]})})}var I=a(74723),P=a(74064),A=a(770),_=a(44794),L=a(29280),$=a(61994),B=a(66447),U=a(19381);let T=A.Ry({expiresIn:A.Rx().min(1).max(365),maxAccesses:A.Rx().min(1).max(1e3).optional(),password:A.Z_().optional(),allowDownload:A.O7().default(!0),allowPreview:A.O7().default(!0)});function M({file:e,onClose:s}){let[a,i]=(0,t.useState)(null),[c,o]=(0,t.useState)(!1),x=(0,C.Ze)(),{register:h,handleSubmit:u,watch:p,setValue:j,formState:{errors:g}}=(0,I.cI)({resolver:(0,P.F)(T),defaultValues:{expiresIn:7,allowDownload:!0,allowPreview:!0}}),f=p(),v=async s=>{try{let a=await x.mutateAsync({fileId:e.id,options:s});i(a.shareUrl||null)}catch(e){console.error("Failed to create share link:",e)}},w=async()=>{a&&(await navigator.clipboard.writeText(a),o(!0),setTimeout(()=>o(!1),2e3))};return a?l.jsx(k.Vq,{open:!0,onOpenChange:s,children:(0,l.jsxs)(k.cZ,{className:"max-w-md",children:[l.jsx(k.fK,{children:(0,l.jsxs)(k.$N,{className:"flex items-center gap-2",children:[l.jsx(b.Z,{className:"w-5 h-5"}),"Share Link Created"]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)(m.bZ,{className:"border-green-200 bg-green-50",children:[l.jsx($.Z,{className:"w-4 h-4 text-green-600"}),l.jsx(m.X,{className:"text-green-800",children:"Share link has been created successfully!"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx(_._,{children:"Share Link"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[l.jsx(r.I,{value:a,readOnly:!0,className:"font-mono text-sm"}),l.jsx(n.z,{variant:"outline",size:"sm",onClick:w,className:"shrink-0",children:c?l.jsx($.Z,{className:"w-4 h-4"}):l.jsx(B.Z,{className:"w-4 h-4"})})]}),c&&l.jsx("p",{className:"text-sm text-green-600",children:"Link copied to clipboard!"})]}),(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 text-sm",children:[l.jsx("h4",{className:"font-medium",children:"Link Settings:"}),(0,l.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,l.jsxs)("li",{children:["• Expires in ",f.expiresIn," day",1!==f.expiresIn?"s":""]}),f.maxAccesses&&(0,l.jsxs)("li",{children:["• Maximum ",f.maxAccesses," access",1!==f.maxAccesses?"es":""]}),f.password&&l.jsx("li",{children:"• Password protected"}),(0,l.jsxs)("li",{children:["• Download ",f.allowDownload?"allowed":"disabled"]}),(0,l.jsxs)("li",{children:["• Preview ",f.allowPreview?"allowed":"disabled"]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[l.jsx(n.z,{variant:"outline",onClick:s,children:"Close"}),(0,l.jsxs)(n.z,{onClick:w,children:[l.jsx(B.Z,{className:"w-4 h-4 mr-2"}),"Copy Link"]})]})]})]})}):l.jsx(k.Vq,{open:!0,onOpenChange:s,children:(0,l.jsxs)(k.cZ,{className:"max-w-md",children:[l.jsx(k.fK,{children:(0,l.jsxs)(k.$N,{className:"flex items-center gap-2",children:[l.jsx(b.Z,{className:"w-5 h-5"}),"Create Share Link"]})}),(0,l.jsxs)("form",{onSubmit:u(v),className:"space-y-4",children:[l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(b.Z,{className:"w-5 h-5 text-blue-600"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:e.originalName}),(0,l.jsxs)("p",{className:"text-xs text-gray-600",children:[(e.fileSize/1024/1024).toFixed(2)," MB"]})]})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx(_._,{htmlFor:"expiresIn",children:"Link Expiration"}),(0,l.jsxs)(L.Ph,{value:f.expiresIn?.toString(),onValueChange:e=>j("expiresIn",parseInt(e)),children:[l.jsx(L.i4,{children:l.jsx(L.ki,{placeholder:"Select expiration"})}),l.jsx(L.Bw,{children:[{value:1,label:"1 day"},{value:3,label:"3 days"},{value:7,label:"1 week"},{value:14,label:"2 weeks"},{value:30,label:"1 month"},{value:90,label:"3 months"},{value:365,label:"1 year"}].map(e=>l.jsx(L.Ql,{value:e.value.toString(),children:e.label},e.value))})]}),g.expiresIn&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.expiresIn.message})]}),(0,l.jsxs)("div",{children:[l.jsx(_._,{htmlFor:"maxAccesses",children:"Maximum Access Count (Optional)"}),l.jsx(r.I,{...h("maxAccesses",{valueAsNumber:!0}),type:"number",placeholder:"Unlimited",min:"1",max:"1000"}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Leave empty for unlimited access"}),g.maxAccesses&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.maxAccesses.message})]}),(0,l.jsxs)("div",{children:[l.jsx(_._,{htmlFor:"password",children:"Password Protection (Optional)"}),l.jsx(r.I,{...h("password"),type:"password",placeholder:"Enter password"}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Add a password to restrict access"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[l.jsx(_._,{children:"Permissions"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(d.X,{id:"allowPreview",checked:f.allowPreview,onCheckedChange:e=>j("allowPreview",e)}),(0,l.jsxs)(_._,{htmlFor:"allowPreview",className:"flex items-center gap-2 cursor-pointer",children:[l.jsx(N.Z,{className:"w-4 h-4"}),"Allow preview"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(d.X,{id:"allowDownload",checked:f.allowDownload,onCheckedChange:e=>j("allowDownload",e)}),(0,l.jsxs)(_._,{htmlFor:"allowDownload",className:"flex items-center gap-2 cursor-pointer",children:[l.jsx(y.Z,{className:"w-4 h-4"}),"Allow download"]})]})]})]}),(0,l.jsxs)(m.bZ,{className:"border-blue-200 bg-blue-50",children:[l.jsx(U.Z,{className:"w-4 h-4 text-blue-600"}),l.jsx(m.X,{className:"text-blue-800",children:"Anyone with this link will be able to access the file according to the permissions you set."})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[l.jsx(n.z,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),l.jsx(n.z,{type:"submit",disabled:x.isPending,children:x.isPending?"Creating Link...":(0,l.jsxs)(l.Fragment,{children:[l.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"Create Share Link"]})})]})]})]})})}function q({projectId:e,conversationId:s,applicationId:a,contractId:c,escrowId:f,milestoneId:v,showUpload:N=!0,allowBulkOperations:y=!0,viewMode:w="grid",className:b}){let[D,k]=(0,t.useState)(""),[z,Z]=(0,t.useState)([]),[S,I]=(0,t.useState)(w),[P,A]=(0,t.useState)("all"),[_,L]=(0,t.useState)(null),[$,B]=(0,t.useState)(null),{data:U=[],isLoading:T,error:q}=(0,C.Yg)({projectId:e,conversationId:s,applicationId:a,contractId:c,escrowId:f,milestoneId:v}),{download:E}=(0,C.Rr)(),K=(0,C.BU)();(0,C.Ze)();let{formatFileSize:V,getFileIcon:X,isPreviewable:W}=(0,C.MZ)(),{bulkDelete:Y}=(0,C.LO)(),Q=U.filter(e=>{let s=e.originalName.toLowerCase().includes(D.toLowerCase())||e.metadata.description?.toLowerCase().includes(D.toLowerCase())||e.metadata.tags.some(e=>e.toLowerCase().includes(D.toLowerCase())),a="all"===P||e.category===P;return s&&a}),G=(e,s)=>{s?Z(s=>[...s,e]):Z(s=>s.filter(s=>s!==e))},H=async()=>{if(0!==z.length)try{await Y(z),Z([])}catch(e){console.error("Bulk delete failed:",e)}},J=async e=>{try{await E(e.id)}catch(e){console.error("Download failed:",e)}},ee=async e=>{try{await K.mutateAsync(e.id)}catch(e){console.error("Delete failed:",e)}},es=async e=>{B(e)},ea=[{value:"all",label:"All Files"},{value:"document",label:"Documents"},{value:"image",label:"Images"},{value:"video",label:"Videos"},{value:"audio",label:"Audio"},{value:"archive",label:"Archives"},{value:"code",label:"Code"},{value:"design",label:"Design"},{value:"other",label:"Other"}];return T?l.jsx("div",{className:"flex items-center justify-center p-8",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading files..."})]})}):q?l.jsx(m.bZ,{className:"border-red-200 bg-red-50",children:l.jsx(m.X,{className:"text-red-800",children:"Failed to load files. Please try again."})}):(0,l.jsxs)("div",{className:b,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Files"}),(0,l.jsxs)("p",{className:"text-gray-600",children:[Q.length," file",1!==Q.length?"s":"",U.length!==Q.length&&` (${U.length} total)`]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center border rounded-lg",children:[l.jsx(n.z,{variant:"grid"===S?"default":"ghost",size:"sm",onClick:()=>I("grid"),className:"rounded-r-none",children:l.jsx(x.Z,{className:"w-4 h-4"})}),l.jsx(n.z,{variant:"list"===S?"default":"ghost",size:"sm",onClick:()=>I("list"),className:"rounded-l-none",children:l.jsx(h.Z,{className:"w-4 h-4"})})]}),y&&z.length>0&&(0,l.jsxs)(n.z,{variant:"destructive",size:"sm",onClick:H,children:[l.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Delete (",z.length,")"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"relative flex-1 max-w-md",children:[l.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx(r.I,{placeholder:"Search files...",value:D,onChange:e=>k(e.target.value),className:"pl-10"})]}),(0,l.jsxs)(o.h_,{children:[l.jsx(o.$F,{asChild:!0,children:(0,l.jsxs)(n.z,{variant:"outline",size:"sm",children:[l.jsx(j.Z,{className:"w-4 h-4 mr-2"}),ea.find(e=>e.value===P)?.label]})}),l.jsx(o.AW,{children:ea.map(e=>l.jsx(o.Xi,{onClick:()=>A(e.value),children:e.label},e.value))})]})]}),y&&Q.length>0&&(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4 p-3 bg-gray-50 rounded-lg",children:[l.jsx(d.X,{checked:z.length===Q.length&&Q.length>0,onCheckedChange:e=>{e?Z(Q.map(e=>e.id)):Z([])}}),(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["Select all (",Q.length," files)"]})]}),0===Q.length?l.jsx(i.Zb,{children:(0,l.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(g.Z,{className:"w-12 h-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No files found"}),l.jsx("p",{className:"text-gray-600 text-center",children:D||"all"!==P?"Try adjusting your search or filters":"Upload some files to get started"})]})}):"grid"===S?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Q.map(e=>l.jsx(R,{file:e,selected:z.includes(e.id),onSelect:y?s=>G(e.id,s):void 0,onPreview:()=>L(e),onDownload:()=>J(e),onShare:()=>es(e),onDelete:()=>ee(e),formatFileSize:V,getFileIcon:X,isPreviewable:W},e.id))}):l.jsx(i.Zb,{children:l.jsx(i.aY,{className:"p-0",children:l.jsx("div",{className:"divide-y",children:Q.map(e=>l.jsx(O,{file:e,selected:z.includes(e.id),onSelect:y?s=>G(e.id,s):void 0,onPreview:()=>L(e),onDownload:()=>J(e),onShare:()=>es(e),onDelete:()=>ee(e),formatFileSize:V,getFileIcon:X,isPreviewable:W},e.id))})})}),_&&l.jsx(F,{file:_,onClose:()=>L(null)}),$&&l.jsx(M,{file:$,onClose:()=>B(null)})]})}function R({file:e,selected:s,onSelect:a,onPreview:t,onDownload:r,onShare:m,onDelete:x,formatFileSize:h,getFileIcon:p,isPreviewable:j}){return l.jsx(i.Zb,{className:"group hover:shadow-md transition-shadow",children:(0,l.jsxs)(i.aY,{className:"p-4",children:[a&&l.jsx("div",{className:"flex justify-end mb-2",children:l.jsx(d.X,{checked:s,onCheckedChange:a})}),l.jsx("div",{className:"flex items-center justify-center h-16 mb-3",children:e.thumbnailUrl?l.jsx("img",{src:e.thumbnailUrl,alt:e.originalName,className:"max-h-16 max-w-full object-contain rounded"}):l.jsx("span",{className:"text-4xl",children:p(e.mimeType)})}),(0,l.jsxs)("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-medium text-sm truncate",title:e.originalName,children:e.originalName}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[l.jsx("span",{children:h(e.fileSize)}),l.jsx(c.C,{variant:"secondary",className:"text-xs",children:e.category})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[l.jsx(f.Z,{className:"w-3 h-3"}),l.jsx("span",{children:(0,D.p6)(e.uploadedAt)})]}),e.metadata.tags.length>0&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[l.jsx(v.Z,{className:"w-3 h-3"}),l.jsx("span",{className:"truncate",children:e.metadata.tags.join(", ")})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-3 border-t",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[j(e.mimeType)&&l.jsx(n.z,{variant:"ghost",size:"sm",onClick:t,children:l.jsx(N.Z,{className:"w-4 h-4"})}),l.jsx(n.z,{variant:"ghost",size:"sm",onClick:r,children:l.jsx(y.Z,{className:"w-4 h-4"})})]}),(0,l.jsxs)(o.h_,{children:[l.jsx(o.$F,{asChild:!0,children:l.jsx(n.z,{variant:"ghost",size:"sm",children:l.jsx(w.Z,{className:"w-4 h-4"})})}),(0,l.jsxs)(o.AW,{children:[(0,l.jsxs)(o.Xi,{onClick:m,children:[l.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"Share"]}),l.jsx(o.VD,{}),(0,l.jsxs)(o.Xi,{onClick:x,className:"text-red-600",children:[l.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]})})}function O({file:e,selected:s,onSelect:a,onPreview:t,onDownload:i,onShare:r,onDelete:o,formatFileSize:m,getFileIcon:x,isPreviewable:h}){return(0,l.jsxs)("div",{className:"flex items-center gap-4 p-4 hover:bg-gray-50",children:[a&&l.jsx(d.X,{checked:s,onCheckedChange:a}),l.jsx("div",{className:"flex-shrink-0",children:e.thumbnailUrl?l.jsx("img",{src:e.thumbnailUrl,alt:e.originalName,className:"w-10 h-10 object-cover rounded"}):l.jsx("span",{className:"text-2xl",children:x(e.mimeType)})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium truncate",children:e.originalName}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[l.jsx("span",{children:m(e.fileSize)}),l.jsx(c.C,{variant:"secondary",className:"text-xs",children:e.category}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[l.jsx(f.Z,{className:"w-3 h-3"}),l.jsx("span",{children:(0,D.p6)(e.uploadedAt)})]}),e.metadata.tags.length>0&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[l.jsx(v.Z,{className:"w-3 h-3"}),l.jsx("span",{className:"truncate",children:e.metadata.tags.slice(0,2).join(", ")}),e.metadata.tags.length>2&&(0,l.jsxs)("span",{children:["+",e.metadata.tags.length-2]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[h(e.mimeType)&&l.jsx(n.z,{variant:"ghost",size:"sm",onClick:t,children:l.jsx(N.Z,{className:"w-4 h-4"})}),l.jsx(n.z,{variant:"ghost",size:"sm",onClick:i,children:l.jsx(y.Z,{className:"w-4 h-4"})}),l.jsx(n.z,{variant:"ghost",size:"sm",onClick:r,children:l.jsx(b.Z,{className:"w-4 h-4"})}),l.jsx(n.z,{variant:"ghost",size:"sm",onClick:o,children:l.jsx(u.Z,{className:"w-4 h-4"})})]})]})}},4925:(e,s,a)=>{a.d(s,{p:()=>y});var l=a(10326),t=a(17577),i=a(29752),n=a(91664),r=a(41190),c=a(82015),d=a(44794),o=a(38443),m=a(33269),x=a(33261),h=a(76),u=a(11573),p=a(84625),j=a(83401),g=a(19381),f=a(72591),v=a(49544),N=a(51223);function y({projectId:e,conversationId:s,messageId:a,applicationId:y,contractId:w,escrowId:b,milestoneId:C,category:D,accessLevel:k="project_members",maxFiles:z=10,maxSize:Z=104857600,acceptedTypes:S=["image/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","video/mp4","video/webm"],onFilesUploaded:F,className:I}){let[P,A]=(0,t.useState)([]),[_,L]=(0,t.useState)(!1),$=(0,t.useRef)(null),{upload:B,isUploading:U,uploadProgress:T}=(0,v.FL)(),{formatFileSize:M,getFileIcon:q,isPreviewable:R}=(0,v.MZ)(),{isDragOver:O,dragHandlers:E}=(0,v.Fd)({onFilesDropped:K,acceptedTypes:S,maxFiles:z,maxSize:Z});function K(e){let s=e.map(e=>({...e,id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,status:"pending"}));A(e=>[...e,...s].slice(0,z))}function V(e,s){A(a=>a.map(a=>a.id===e?{...a,...s}:a))}async function X(){for(let l of P.filter(e=>"pending"===e.status))try{V(l.id,{status:"uploading",progress:0});let t=await B({file:l,options:{projectId:e,conversationId:s,messageId:a,applicationId:y,contractId:w,escrowId:b,milestoneId:C,category:D,accessLevel:k,description:l.description,tags:l.tags}});V(l.id,{status:"completed",progress:100,uploadedFile:t})}catch(e){V(l.id,{status:"error",error:e instanceof Error?e.message:"Upload failed"})}let l=P.filter(e=>"completed"===e.status&&e.uploadedFile).map(e=>e.uploadedFile);l.length>0&&F&&F(l)}let W=P.length>0,Y=P.some(e=>"pending"===e.status),Q=P.some(e=>"completed"===e.status),G=P.reduce((e,s)=>e+s.size,0);return(0,l.jsxs)("div",{className:(0,N.cn)("space-y-4",I),children:[l.jsx(i.Zb,{className:(0,N.cn)("border-2 border-dashed transition-colors cursor-pointer",O?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400",W&&"border-solid border-gray-200"),...E,onClick:()=>$.current?.click(),children:(0,l.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-8",children:[l.jsx("input",{ref:$,type:"file",multiple:!0,accept:S.join(","),onChange:function(e){K(Array.from(e.target.files||[])),$.current&&($.current.value="")},className:"hidden"}),W?(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(u.Z,{className:"w-5 h-5 text-gray-600"}),(0,l.jsxs)("span",{className:"font-medium",children:[P.length," file",1!==P.length?"s":""," selected"]}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:["(",M(G),")"]})]}),l.jsx(n.z,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),L(!_)},children:_?"Hide Details":"Show Details"})]}),!_&&l.jsx("div",{className:"text-center",children:(0,l.jsxs)(n.z,{variant:"outline",onClick:e=>{e.stopPropagation(),$.current?.click()},children:[l.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Add More Files"]})})]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(h.Z,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop files here or click to browse"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Support for ",S.length>3?"multiple file types":S.join(", ")]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Max ",z," files"]}),l.jsx("span",{children:"•"}),(0,l.jsxs)("span",{children:["Up to ",M(Z)," each"]})]})]})]})]})}),W&&_&&l.jsx(i.Zb,{children:l.jsx(i.aY,{className:"pt-6",children:l.jsx("div",{className:"space-y-4",children:P.map(e=>(0,l.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("span",{className:"text-2xl",children:q(e.type)}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:e.name}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx("span",{children:M(e.size)}),l.jsx("span",{children:"•"}),l.jsx("span",{children:e.type}),R(e.type)&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx(o.C,{variant:"secondary",className:"text-xs",children:"Previewable"})]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:["pending"===e.status&&l.jsx(o.C,{variant:"secondary",children:"Pending"}),"uploading"===e.status&&l.jsx(o.C,{variant:"secondary",children:"Uploading..."}),"completed"===e.status&&(0,l.jsxs)(o.C,{variant:"default",className:"bg-green-100 text-green-800",children:[l.jsx(j.Z,{className:"w-3 h-3 mr-1"}),"Uploaded"]}),"error"===e.status&&(0,l.jsxs)(o.C,{variant:"destructive",children:[l.jsx(g.Z,{className:"w-3 h-3 mr-1"}),"Error"]}),l.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void A(e=>e.filter(e=>e.id!==s))},disabled:"uploading"===e.status,children:l.jsx(f.Z,{className:"w-4 h-4"})})]})]}),"uploading"===e.status&&l.jsx("div",{className:"mb-3",children:l.jsx(m.E,{value:T[e.id]||0,className:"h-2"})}),"error"===e.status&&e.error&&(0,l.jsxs)(x.bZ,{className:"border-red-200 bg-red-50 mb-3",children:[l.jsx(g.Z,{className:"w-4 h-4 text-red-600"}),l.jsx(x.X,{className:"text-red-800",children:e.error})]}),"pending"===e.status&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[l.jsx(d._,{htmlFor:`description-${e.id}`,className:"text-sm",children:"Description (optional)"}),l.jsx(c.g,{id:`description-${e.id}`,placeholder:"Describe this file...",value:e.description||"",onChange:s=>V(e.id,{description:s.target.value}),rows:2,className:"mt-1"})]}),(0,l.jsxs)("div",{children:[l.jsx(d._,{htmlFor:`tags-${e.id}`,className:"text-sm",children:"Tags (optional)"}),l.jsx(r.I,{id:`tags-${e.id}`,placeholder:"Enter tags separated by commas",value:e.tags?.join(", ")||"",onChange:s=>{let a=s.target.value.split(",").map(e=>e.trim()).filter(Boolean);V(e.id,{tags:a})},className:"mt-1"})]})]})]},e.id))})})}),W&&(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:Q&&l.jsx(n.z,{variant:"outline",onClick:function(){A(e=>e.filter(e=>"completed"!==e.status))},children:"Clear Completed"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(n.z,{variant:"outline",onClick:()=>A([]),disabled:U,children:"Clear All"}),(0,l.jsxs)(n.z,{onClick:X,disabled:!Y||U,children:[l.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Upload ",P.filter(e=>"pending"===e.status).length," File",1!==P.filter(e=>"pending"===e.status).length?"s":""]})]})]})]})}},33269:(e,s,a)=>{a.d(s,{E:()=>r});var l=a(10326),t=a(17577),i=a(87273),n=a(51223);let r=t.forwardRef(({className:e,value:s,...a},t)=>l.jsx(i.fC,{ref:t,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:l.jsx(i.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));r.displayName=i.fC.displayName},29280:(e,s,a)=>{a.d(s,{Bw:()=>p,Ph:()=>o,Ql:()=>j,i4:()=>x,ki:()=>m});var l=a(10326),t=a(17577),i=a(38785),n=a(941),r=a(96633),c=a(32933),d=a(51223);let o=i.fC;i.ZA;let m=i.B4,x=t.forwardRef(({className:e,children:s,...a},t)=>(0,l.jsxs)(i.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,l.jsx(i.JO,{asChild:!0,children:l.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=i.xz.displayName;let h=t.forwardRef(({className:e,...s},a)=>l.jsx(i.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:l.jsx(r.Z,{className:"h-4 w-4"})}));h.displayName=i.u_.displayName;let u=t.forwardRef(({className:e,...s},a)=>l.jsx(i.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:l.jsx(n.Z,{className:"h-4 w-4"})}));u.displayName=i.$G.displayName;let p=t.forwardRef(({className:e,children:s,position:a="popper",...t},n)=>l.jsx(i.h_,{children:(0,l.jsxs)(i.VY,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...t,children:[l.jsx(h,{}),l.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),l.jsx(u,{})]})}));p.displayName=i.VY.displayName,t.forwardRef(({className:e,...s},a)=>l.jsx(i.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.__.displayName;let j=t.forwardRef(({className:e,children:s,...a},t)=>(0,l.jsxs)(i.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(i.wU,{children:l.jsx(c.Z,{className:"h-4 w-4"})})}),l.jsx(i.eT,{children:s})]}));j.displayName=i.ck.displayName,t.forwardRef(({className:e,...s},a)=>l.jsx(i.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},73002:(e,s,a)=>{a.d(s,{x:()=>l.apiClient});var l=a(55137)},49544:(e,s,a)=>{a.d(s,{LO:()=>b,Ze:()=>N,BU:()=>y,Rr:()=>v,Fd:()=>C,lI:()=>w,FL:()=>g,MZ:()=>D,Yg:()=>f});var l=a(17577),t=a(44976),i=a(10119),n=a(20108);async function r(e,s={}){var a,l;(function(e){if(e.size>104857600)throw Error("File size exceeds maximum allowed size of 100MB");if(!["image/jpeg","image/png","image/gif","image/webp","image/svg+xml","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","text/csv","application/json","application/xml","video/mp4","video/webm","video/quicktime","audio/mpeg","audio/wav","audio/ogg","application/zip","application/x-rar-compressed","application/x-7z-compressed"].includes(e.type))throw Error(`File type ${e.type} is not allowed`)})(e);let t=`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=`${t}_${e.name.replace(/[^a-zA-Z0-9.-]/g,"_").toLowerCase()}`,n=s.category||((a=e.type).startsWith("image/")?"image":a.startsWith("video/")?"video":a.startsWith("audio/")?"audio":a.includes("pdf")||a.includes("document")||a.includes("text")?"document":a.includes("zip")||a.includes("rar")||a.includes("7z")?"archive":a.includes("javascript")||a.includes("json")||a.includes("xml")?"code":"other"),r={id:t,fileName:i,originalName:e.name,fileSize:e.size,mimeType:e.type,fileUrl:"",uploadedBy:"current_user_id",uploadedAt:new Date,projectId:s.projectId,conversationId:s.conversationId,messageId:s.messageId,applicationId:s.applicationId,contractId:s.contractId,escrowId:s.escrowId,milestoneId:s.milestoneId,category:n,status:"uploading",metadata:{hasPreview:!1,isProcessed:!1,virusScanStatus:"pending",tags:s.tags||[],description:s.description},accessLevel:s.accessLevel||"project_members",downloadCount:0};try{let a=await c(e,i,{contentType:e.type,metadata:{originalName:e.name,uploadedBy:r.uploadedBy,category:n,projectId:s.projectId}});if(r.fileUrl=a.url,r.status="processing","image"===n||"video"===n)try{let s=await d(a.url,e.type);r.thumbnailUrl=s}catch(e){console.warn("Failed to generate thumbnail:",e)}if("image"===n){let s=await o(e);r.metadata.width=s.width,r.metadata.height=s.height}else if("video"===n){let s=await m(e);r.metadata.width=s.width,r.metadata.height=s.height,r.metadata.duration=s.duration}else if("document"===n){let s=await x(e);r.metadata.pages=s.pages}let t=await h(a.url);if(r.metadata.virusScanStatus=t.status,"infected"===t.status)throw r.status="failed",await u(a.url),Error("File failed virus scan");return r.status="ready",r.metadata.isProcessed=!0,r.metadata.hasPreview=(l=e.type,["image/jpeg","image/png","image/gif","image/webp","application/pdf","text/plain","text/csv","video/mp4","video/webm"].includes(l)),await p(r),console.log("File uploaded successfully:",r),r}catch(e){throw r.status="failed",console.error("File upload failed:",e),e}}async function c(e,s,a){return{url:`https://storage.example.com/files/${s}`}}async function d(e,s){return`https://storage.example.com/thumbnails/${Date.now()}.jpg`}async function o(e){return{width:1920,height:1080}}async function m(e){return{width:1920,height:1080,duration:120}}async function x(e){return{pages:10}}async function h(e){return{status:"clean"}}async function u(e){console.log("Deleted from cloud storage:",e)}async function p(e){console.log("Saved file record:",e.id)}var j=a(73002);function g(){let e=(0,t.NL)(),[s,a]=(0,l.useState)({}),n=(0,i.D)({mutationFn:async e=>{let{file:s,options:l={}}=e,t=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;a(e=>({...e,[t]:0}));try{let e=setInterval(()=>{a(e=>{let s=e[t]||0;return s<90?{...e,[t]:s+10}:e})},200),i=await r(s,l);return clearInterval(e),a(e=>({...e,[t]:100})),setTimeout(()=>{a(e=>{let{[t]:s,...a}=e;return a})},2e3),{...i,tempId:t}}catch(e){throw a(e=>{let{[t]:s,...a}=e;return a}),e}},onSuccess:(s,a)=>{a.options?.projectId&&e.invalidateQueries({queryKey:["files","project",a.options.projectId]}),a.options?.conversationId&&e.invalidateQueries({queryKey:["files","conversation",a.options.conversationId]}),a.options?.applicationId&&e.invalidateQueries({queryKey:["files","application",a.options.applicationId]})}});return{upload:n.mutateAsync,isUploading:n.isPending,uploadProgress:s,error:n.error}}function f(e){return(0,n.a)({queryKey:["files",e],queryFn:async()=>(await j.x.get("/files",{params:e})).data,enabled:Object.values(e).some(Boolean)})}function v(){let e=(0,i.D)({mutationFn:async e=>(await j.x.post(`/files/${e}/download`)).data.downloadUrl,onSuccess:e=>{let s=document.createElement("a");s.href=e,s.download="",document.body.appendChild(s),s.click(),document.body.removeChild(s)}});return{download:e.mutateAsync,isDownloading:e.isPending,error:e.error}}function N(){return(0,i.D)({mutationFn:async e=>(await j.x.post(`/files/${e.fileId}/share`,e.options)).data})}function y(){let e=(0,t.NL)();return(0,i.D)({mutationFn:async e=>{await j.x.delete(`/files/${e}`)},onSuccess:(s,a)=>{e.invalidateQueries({queryKey:["files"]}),e.removeQueries({queryKey:["files",a]})}})}function w(e){return(0,n.a)({queryKey:["files",e,"preview"],queryFn:async()=>(await j.x.get(`/files/${e}/preview`)).data,enabled:!!e})}function b(){let e=(0,t.NL)(),s=(0,i.D)({mutationFn:async e=>{await j.x.post("/files/bulk-delete",{fileIds:e})},onSuccess:()=>{e.invalidateQueries({queryKey:["files"]})}}),a=(0,i.D)({mutationFn:async e=>{await j.x.post("/files/bulk-move",e)},onSuccess:()=>{e.invalidateQueries({queryKey:["files"]})}});return{bulkDelete:s.mutateAsync,bulkMove:a.mutateAsync,isBulkDeleting:s.isPending,isBulkMoving:a.isPending}}function C(e){let[s,a]=(0,l.useState)(!1),t=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),a(!0)},[]);return{isDragOver:s,dragHandlers:{onDragEnter:t,onDragLeave:(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),a(!1)},[]),onDragOver:(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),onDrop:(0,l.useCallback)(s=>{s.preventDefault(),s.stopPropagation(),a(!1);let l=Array.from(s.dataTransfer.files),t=l;e.acceptedTypes&&(t=l.filter(s=>e.acceptedTypes.some(e=>s.type.match(e)))),e.maxFiles&&t.length>e.maxFiles&&(t=t.slice(0,e.maxFiles)),e.maxSize&&(t=t.filter(s=>s.size<=e.maxSize)),t.length>0&&e.onFilesDropped(t)},[e])}}}function D(){return{formatFileSize:(0,l.useCallback)(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][s]},[]),getFileIcon:(0,l.useCallback)(e=>e.startsWith("image/")?"\uD83D\uDDBC️":e.startsWith("video/")?"\uD83C\uDFA5":e.startsWith("audio/")?"\uD83C\uDFB5":e.includes("pdf")?"\uD83D\uDCC4":e.includes("document")||e.includes("word")?"\uD83D\uDCDD":e.includes("spreadsheet")||e.includes("excel")?"\uD83D\uDCCA":e.includes("presentation")||e.includes("powerpoint")?"\uD83D\uDCC8":e.includes("zip")||e.includes("rar")?"\uD83D\uDDDC️":e.includes("code")||e.includes("javascript")||e.includes("json")?"\uD83D\uDCBB":"\uD83D\uDCC1",[]),isPreviewable:(0,l.useCallback)(e=>["image/jpeg","image/png","image/gif","image/webp","application/pdf","text/plain","text/csv","video/mp4","video/webm"].includes(e),[])}}}};