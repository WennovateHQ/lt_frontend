"use strict";exports.id=1968,exports.ids=[1968],exports.modules={1968:(e,t,a)=>{a.d(t,{L:()=>y});var s=a(10326),r=a(17577),n=a(29752),i=a(91664),l=a(38443),c=a(50384),o=a(48258),d=a(54998),m=a(90216),u=a(19381),f=a(59675),x=a(61994),p=a(43404),g=a(17222),h=a(51223);function y(){let[e,t]=(0,r.useState)([]),[a,y]=(0,r.useState)(!0),[b,v]=(0,r.useState)(0),[N,j]=(0,r.useState)("all"),w=async e=>{try{await g.c.markAsRead(e),t(t=>t.map(t=>e.includes(t.id)?{...t,read:!0,readAt:new Date().toISOString()}:t)),v(t=>Math.max(0,t-e.length))}catch(e){console.error("Failed to mark notifications as read:",e)}},C=async()=>{try{await g.c.markAllAsRead(),t(e=>e.map(e=>({...e,read:!0,readAt:new Date().toISOString()}))),v(0)}catch(e){console.error("Failed to mark all as read:",e)}},k=async a=>{try{await g.c.deleteNotification(a),t(e=>e.filter(e=>e.id!==a));let s=e.find(e=>e.id===a);s&&!s.read&&v(e=>Math.max(0,e-1))}catch(e){console.error("Failed to delete notification:",e)}},S=e=>{switch(e){case"message":return s.jsx(o.Z,{className:"w-5 h-5 text-blue-600"});case"application":return s.jsx(d.Z,{className:"w-5 h-5 text-green-600"});case"project":return s.jsx(d.Z,{className:"w-5 h-5 text-purple-600"});case"payment":return s.jsx(m.Z,{className:"w-5 h-5 text-yellow-600"});case"system":return s.jsx(u.Z,{className:"w-5 h-5 text-red-600"});default:return s.jsx(f.Z,{className:"w-5 h-5 text-gray-600"})}},R=e=>{switch(e){case"message":return"bg-blue-100 text-blue-800";case"application":return"bg-green-100 text-green-800";case"project":return"bg-purple-100 text-purple-800";case"payment":return"bg-yellow-100 text-yellow-800";case"system":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Z="unread"===N?e.filter(e=>!e.read):e;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(f.Z,{className:"w-6 h-6"}),"Notifications",b>0&&s.jsx(l.C,{className:"bg-red-500 text-white",children:b})]}),s.jsx("p",{className:"text-gray-600",children:"Stay updated with your latest activities"})]}),b>0&&(0,s.jsxs)(i.z,{variant:"outline",onClick:C,children:[s.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Mark All Read"]})]}),(0,s.jsxs)(c.mQ,{value:N,onValueChange:e=>j(e),children:[(0,s.jsxs)(c.dr,{children:[s.jsx(c.SP,{value:"all",children:"All Notifications"}),(0,s.jsxs)(c.SP,{value:"unread",children:["Unread (",b,")"]})]}),s.jsx(c.nU,{value:N,className:"space-y-4",children:a?s.jsx(n.Zb,{children:s.jsx(n.aY,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):0===Z.length?s.jsx(n.Zb,{children:(0,s.jsxs)(n.aY,{className:"p-6 text-center",children:[s.jsx(f.Z,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"unread"===N?"No unread notifications":"No notifications"}),s.jsx("p",{className:"text-gray-600",children:"unread"===N?"You're all caught up!":"We'll notify you when something important happens."})]})}):s.jsx("div",{className:"space-y-3",children:Z.map(e=>s.jsx(n.Zb,{className:`cursor-pointer transition-colors ${e.read?"hover:bg-gray-50":"bg-blue-50 border-blue-200"}`,onClick:()=>!e.read&&w([e.id]),children:s.jsx(n.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:S(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:`font-medium ${e.read?"text-gray-700":"text-gray-900"}`,children:e.title}),s.jsx(l.C,{className:`text-xs ${R(e.type)}`,children:e.type}),!e.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),s.jsx("p",{className:`text-sm ${e.read?"text-gray-600":"text-gray-700"}`,children:e.message}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:(0,h.SY)(e.createdAt)}),s.jsx("div",{className:"flex items-center gap-2",children:e.emailSent&&s.jsx(l.C,{variant:"outline",className:"text-xs",children:"Email sent"})})]})]}),s.jsx("div",{className:"shrink-0",children:s.jsx(i.z,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),k(e.id)},className:"text-gray-400 hover:text-red-600",children:s.jsx(p.Z,{className:"w-4 h-4"})})})]})})},e.id))})})]})]})}},38443:(e,t,a)=>{a.d(t,{C:()=>l});var s=a(10326);a(17577);var r=a(79360),n=a(51223);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return s.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...a})}},29752:(e,t,a)=>{a.d(t,{Ol:()=>l,SZ:()=>o,Zb:()=>i,aY:()=>d,ll:()=>c});var s=a(10326),r=a(17577),n=a(51223);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},50384:(e,t,a)=>{a.d(t,{SP:()=>o,dr:()=>c,mQ:()=>l,nU:()=>d});var s=a(10326),r=a(17577),n=a(28407),i=a(51223);let l=n.fC,c=r.forwardRef(({className:e,...t},a)=>s.jsx(n.aV,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));c.displayName=n.aV.displayName;let o=r.forwardRef(({className:e,...t},a)=>s.jsx(n.xz,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));o.displayName=n.xz.displayName;let d=r.forwardRef(({className:e,...t},a)=>s.jsx(n.VY,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=n.VY.displayName},17222:(e,t,a)=>{a.d(t,{c:()=>n});var s=a(55137);class r{async getNotifications(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,a])=>{null!=a&&t.append(e,a.toString())}),s.apiClient.get(`/notifications?${t.toString()}`)}async getUnreadCount(){return s.apiClient.get("/notifications/unread-count")}async markAsRead(e){return s.apiClient.post("/notifications/mark-read",{notificationIds:e})}async markAllAsRead(){return s.apiClient.post("/notifications/mark-all-read")}async deleteNotification(e){return s.apiClient.delete(`/notifications/${e}`)}async deleteAllRead(){return s.apiClient.delete("/notifications/read")}async getPreferences(){return s.apiClient.get("/notifications/preferences")}async updatePreferences(e){return s.apiClient.put("/notifications/preferences",e)}async unsubscribeFromEmails(e){return s.apiClient.post("/notifications/unsubscribe",{token:e})}async resubscribeToEmails(){return s.apiClient.post("/notifications/resubscribe")}async createNotification(e){return s.apiClient.post("/notifications/admin",e)}async sendBulkNotification(e){return s.apiClient.post("/notifications/admin/bulk",e)}async getEmailTemplates(){return s.apiClient.get("/notifications/admin/templates")}async createEmailTemplate(e){return s.apiClient.post("/notifications/admin/templates",e)}async updateEmailTemplate(e,t){return s.apiClient.put(`/notifications/admin/templates/${e}`,t)}async deleteEmailTemplate(e){return s.apiClient.delete(`/notifications/admin/templates/${e}`)}async testEmailTemplate(e,t){return s.apiClient.post(`/notifications/admin/templates/${e}/test`,t)}async getNotificationStats(){return s.apiClient.get("/notifications/admin/stats")}}let n=new r},48258:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(17577);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))})},43404:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(17577);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})}};