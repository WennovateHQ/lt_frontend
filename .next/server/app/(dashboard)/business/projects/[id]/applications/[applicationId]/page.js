(()=>{var e={};e.id=9147,e.ids=[9147],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},81721:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(47711),s(6989),s(35866),s(65161);var a=s(23191),r=s(88716),n=s(37922),l=s.n(n),i=s(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["(dashboard)",{children:["business",{children:["projects",{children:["[id]",{children:["applications",{children:["[applicationId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,47711)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\business\\projects\\[id]\\applications\\[applicationId]\\page.tsx"]}]},{}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6989)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,65161)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\business\\projects\\[id]\\applications\\[applicationId]\\page.tsx"],p="/(dashboard)/business/projects/[id]/applications/[applicationId]/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/business/projects/[id]/applications/[applicationId]/page",pathname:"/business/projects/[id]/applications/[applicationId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},52975:(e,t,s)=>{Promise.resolve().then(s.bind(s,18456))},18456:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var a=s(10326),r=s(17577),n=s(35047),l=s(90434),i=s(91664),c=s(79763),o=s(38443),d=s(82015),p=s(44794),u=s(29752),x=s(3719),m=s(7710),h=s(83401),j=s(72591),g=s(60882),f=s(48939),b=s(96229),v=s(14526),w=s(41964);let y=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))});var N=s(82252),C=s(65934),k=s(51223),T=s(86421),E=s(84625);function S({applicationId:e,projectId:t}){let[n,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),[p,u]=(0,r.useState)(null),m=async()=>{try{d(!0);let{apiClient:t}=await Promise.resolve().then(s.bind(s,55137)),a=await t.get(`/applications/${e}/contract`);console.log("Contract response:",a),a.hasContract&&a.contractId?c({id:a.contractId,status:a.contractStatus||"UNKNOWN",title:"Contract",createdAt:new Date().toISOString(),businessSignedAt:a.isFullySigned?new Date().toISOString():void 0,talentSignedAt:a.isFullySigned?new Date().toISOString():void 0}):c(null)}catch(e){e.response?.status===404?c(null):(console.error("Failed to check for contract:",e),u("Failed to check contract status"))}finally{d(!1)}};if(o)return a.jsx("div",{className:"flex items-center justify-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})});if(p)return(0,a.jsxs)("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-red-600 text-sm",children:p}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:m,className:"mt-2",children:"Try Again"})]});if(!n)return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx(i.z,{asChild:!0,className:"w-full",children:(0,a.jsxs)(l.default,{href:`/business/projects/${t}/contracts/create?applicationId=${e}`,children:[a.jsx(E.Z,{className:"h-4 w-4 mr-2"}),"Create Contract"]})}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Create a contract to formalize the agreement"})]});let j=(e=>{if(!e)return{label:"Unknown",color:"text-gray-600",icon:x.Z};switch(e.toLowerCase()){case"draft":return{label:"Draft",color:"text-gray-600",icon:x.Z};case"pending_signatures":return{label:"Waiting for Signatures",color:"text-yellow-600",icon:T.Z};case"active":return{label:"Active",color:"text-green-600",icon:h.Z};case"completed":return{label:"Completed",color:"text-blue-600",icon:h.Z};default:return{label:e,color:"text-gray-600",icon:x.Z}}})(n.status),g=j.icon;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx(g,{className:`h-4 w-4 ${j.color}`}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Contract Created"}),a.jsx("p",{className:`text-xs ${j.color}`,children:j.label})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx(i.z,{variant:"outline",size:"sm",asChild:!0,className:"w-full",children:(0,a.jsxs)(l.default,{href:`/business/contracts/${n.id}`,children:[a.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"View Contract"]})}),"pending_signatures"===n.status&&(0,a.jsxs)("div",{className:"text-xs text-center text-gray-500 mt-1",children:[n.businessSignedAt&&!n.talentSignedAt&&"Waiting for talent to sign",!n.businessSignedAt&&"Waiting for signatures"]}),"active"===n.status&&(0,a.jsxs)(i.z,{variant:"outline",size:"sm",className:"w-full",children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Manage Project"]})]})]})}function Z({application:e,talentProfile:t,onStatusUpdate:s,onScheduleInterview:l,onSendMessage:c,onRefresh:T}){let[E,Z]=(0,r.useState)(null),[R,P]=(0,r.useState)(""),[L,A]=(0,r.useState)(!1),[D,I]=(0,r.useState)(!1),[$,O]=(0,r.useState)(!1),[z,_]=(0,r.useState)(null),[q,B]=(0,r.useState)(!1),W=(0,n.useRouter)(),M=(0,C.VD)(),F=(0,N.iQ)(e.status),U=async e=>{Z(e),"accepted"!==e&&"rejected"!==e&&await Y(e)},Y=async(t,a,r)=>{try{A(!0),await M.mutateAsync({applicationId:e.id,newStatus:t,notes:a,metadata:r}),s?.(t,a),Z(null),P(""),setTimeout(()=>{T?.()||window.location.reload()},1e3)}catch(e){console.error("Failed to update application status:",e)}finally{A(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[t.avatar?a.jsx("img",{src:t.avatar,alt:t.displayName||"Talent",className:"w-16 h-16 rounded-full"}):a.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(g.Z,{className:"h-8 w-8 text-gray-400"})}),a.jsx("div",{className:"absolute -bottom-1 -right-1",children:a.jsx(o.C,{className:F.bgColor+" "+F.color,children:F.label})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.displayName||`${t.firstName||""} ${t.lastName||""}`.trim()||t.email||"Talent"}),a.jsx("button",{onClick:()=>{O(!$)},className:"text-gray-400 hover:text-red-500",children:$?a.jsx(w.Z,{className:"h-5 w-5 text-red-500"}):a.jsx(f.Z,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex items-center space-x-2 mb-2",children:a.jsx("button",{onClick:()=>{let e=window.location.pathname;window.location.href=`/business/talent/${t.id}?returnTo=${encodeURIComponent(e)}`},className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"View Full Profile"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[t.rating&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[a.jsx(y,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{children:t.rating.toFixed(1)}),(0,a.jsxs)("span",{children:["(",t.completedProjects||0," projects)"]})]}),a.jsx("span",{children:"•"})]}),a.jsx("span",{children:t.location?.city||"Location not specified"}),t.responseTime&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:["Responds in ",t.responseTime]})]})]}),t.successRate&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Success Rate:"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[t.successRate,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Applied ",(0,k.SY)(e.createdAt||e.appliedAt)]}),e.viewedByClient&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-500 mt-1",children:[a.jsx(b.Z,{className:"h-3 w-3"}),a.jsx("span",{children:"Viewed"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:(0,a.jsxs)(u.ll,{className:"flex items-center space-x-2",children:[a.jsx(v.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Proposal Summary"})]})}),(0,a.jsxs)(u.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"hourly"===e.rateType?"Proposed Rate:":"Proposed Budget:"}),a.jsx("p",{className:"font-medium text-lg",children:"hourly"===e.rateType?`${(0,k.xG)(e.proposedRate||0)}/hr`:(0,k.xG)(e.proposedBudget||0)})]}),e.estimatedHours&&"hourly"===e.rateType&&(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Estimated Hours:"}),(0,a.jsxs)("p",{className:"font-medium",children:[e.estimatedHours,"h"]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Timeline:"}),a.jsx("p",{className:"font-medium",children:e.timeline||e.project?.duration||"Not specified"})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Start Date:"}),a.jsx("p",{className:"font-medium",children:e.startDate?(0,k.p6)(e.startDate):e.project?.startDate?(0,k.p6)(e.project.startDate):"Not specified"})]})]}),"hourly"===e.rateType&&e.estimatedHours&&e.proposedRate&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Estimated Project Value:"}),a.jsx("span",{className:"font-semibold text-blue-600",children:(0,k.xG)(e.proposedRate*e.estimatedHours)})]})}),"fixed"===e.rateType&&e.proposedBudget&&a.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Project Budget:"}),a.jsx("span",{className:"font-semibold text-green-600",children:(0,k.xG)(e.proposedBudget)})]})})]})]}),(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:(0,a.jsxs)(u.ll,{className:"flex items-center space-x-2",children:[a.jsx(x.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Cover Letter"})]})}),a.jsx(u.aY,{children:(0,a.jsxs)("div",{className:"prose prose-sm max-w-none",children:[a.jsx("p",{className:`text-gray-700 ${D?"":"line-clamp-4"}`,children:e.coverLetter}),e.coverLetter.length>200&&a.jsx("button",{onClick:()=>I(!D),className:"text-blue-600 hover:text-blue-700 text-sm mt-2",children:D?"Show less":"Read more"})]})})]}),e.proposedApproach&&(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:a.jsx(u.ll,{children:"Proposed Approach"})}),a.jsx(u.aY,{children:a.jsx("div",{className:"prose prose-sm max-w-none",children:a.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 font-sans",children:e.proposedApproach})})})]}),e.questions&&(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:a.jsx(u.ll,{children:"Questions from Candidate"})}),a.jsx(u.aY,{children:(0,a.jsxs)("div",{className:"border-l-4 border-blue-200 pl-4",children:[a.jsx("p",{className:"text-gray-700 font-medium",children:"Additional Questions/Comments:"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2 whitespace-pre-wrap",children:e.questions})]})})]}),e.attachments&&e.attachments.length>0&&(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:a.jsx(u.ll,{children:"Attachments"})}),a.jsx(u.aY,{children:a.jsx("div",{className:"space-y-2",children:e.attachments.map((e,t)=>{let s="string"==typeof e?e.split("/").pop()||`attachment-${t+1}`:e.fileName||`attachment-${t+1}`,r="string"==typeof e?e:e.url;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(x.Z,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-700",children:s}),"object"==typeof e&&e.fileSize&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",(e.fileSize/1024/1024).toFixed(1)," MB)"]})]}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>{let e="http://localhost:5000/api".replace("/api",""),t=r.startsWith("http")?r:`${e}${r}`;console.log("\uD83D\uDCE5 Download URL:",t),window.open(t,"_blank")},children:"Download"})]},e.id||s||t)})})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:a.jsx(u.ll,{children:"Actions"})}),(0,a.jsxs)(u.aY,{className:"space-y-3",children:[(()=>{let t=e.status;switch("string"==typeof t?t.toLowerCase():t){case"pending":case"submitted":case"under_review":return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)(i.z,{variant:"outline",onClick:()=>U("shortlisted"),disabled:L,className:"w-full",children:[a.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Shortlist"]}),(0,a.jsxs)(i.z,{variant:"outline",onClick:()=>U("accepted"),disabled:L,className:"w-full text-green-600 hover:text-green-700",children:[a.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Accept Candidate"]}),(0,a.jsxs)(i.z,{variant:"outline",onClick:()=>U("rejected"),disabled:L,className:"w-full text-red-600 hover:text-red-700",children:[a.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Decline"]})]});case"shortlisted":return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)(i.z,{onClick:()=>U("accepted"),disabled:L,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Accept Candidate"]}),(0,a.jsxs)(i.z,{variant:"outline",onClick:()=>U("rejected"),disabled:L,className:"w-full text-red-600 hover:text-red-700",children:[a.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Decline"]})]});case"accepted":return a.jsx(S,{applicationId:e.id,projectId:e.projectId});default:return null}})(),"accepted"!==e.status.toLowerCase()?null:q?(0,a.jsxs)(i.z,{disabled:!0,className:"w-full",variant:"outline",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Checking Contract..."]}):z?z.needsContract?(0,a.jsxs)(i.z,{onClick:()=>{W.push(`/business/projects/${e.projectId}/contracts/create?applicationId=${e.id}`)},className:"w-full",variant:"outline",children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Create Contract"]}):z.hasContract&&!z.canMessage?(0,a.jsxs)(i.z,{disabled:!0,className:"w-full",variant:"outline",children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Waiting for Signatures"]}):z.canMessage&&z.contractId?(0,a.jsxs)(i.z,{onClick:async()=>{if(c)c();else try{W.push(`/business/messages?conversationId=${z.contractId}`)}catch(e){console.error("Failed to open conversation:",e),alert("Failed to open conversation. Please try again.")}},className:"w-full",children:[a.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Send Message"]}):null:null]})]}),(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:a.jsx(u.ll,{children:"Skills"})}),a.jsx(u.aY,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{let e=t.skills||[];return 0===e.length?a.jsx("p",{className:"text-gray-500 text-sm",children:"No skills listed"}):e.map((e,t)=>{let s=e.skill?.name||e.name||e.skillName||`Skill ${t+1}`,r=e.level?` (Level ${e.level})`:"";return(0,a.jsxs)(o.C,{variant:"secondary",children:[s,r]},e.id||e.skillId||t)})})()})})]}),(0,a.jsxs)(u.Zb,{children:[a.jsx(u.Ol,{children:a.jsx(u.ll,{children:"Rate Information"})}),(0,a.jsxs)(u.aY,{className:"space-y-3",children:[t.hourlyRate&&(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Hourly Rate:"}),(0,a.jsxs)("p",{className:"font-medium",children:[(0,k.xG)(t.hourlyRate),"/hr"]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"This Proposal:"}),a.jsx("p",{className:"font-medium text-lg",children:"hourly"===e.rateType?`${(0,k.xG)(e.proposedRate||0)}/hr`:(0,k.xG)(e.proposedBudget||0)})]})]})]})]})]}),("accepted"===E||"rejected"===E)&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(u.Zb,{className:"w-full max-w-md",children:[a.jsx(u.Ol,{children:a.jsx(u.ll,{children:"accepted"===E?"Accept Candidate":"Decline Application"})}),(0,a.jsxs)(u.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"action-notes",children:"accepted"===E?"Welcome Message":"Feedback (Optional)"}),a.jsx(d.g,{id:"action-notes",value:R,onChange:e=>P(e.target.value),placeholder:"accepted"===E?"Welcome to the team! Here's what happens next...":"Thank you for your interest. We've decided to move forward with another candidate..."})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(i.z,{onClick:()=>Y(E,R),disabled:L,className:"accepted"===E?"bg-green-600 hover:bg-green-700":"",children:"accepted"===E?"Accept Candidate":"Decline Application"}),a.jsx(i.z,{variant:"outline",onClick:()=>Z(null),children:"Cancel"})]})]})]})})]})}function R(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),[s,o]=(0,r.useState)(null),d=e.id,p=e.applicationId,{data:u,isLoading:x,error:m,refetch:h}=(0,C.IX)(p),j=async(e,t)=>{console.log("Status updated:",e,t)},g=async e=>{console.log("Interview scheduled for:",e)};return x?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(l.default,{href:`/business/projects/${d}/applications`,children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Back to Applications"]})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Application Review"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[u?.project?.title||"Loading..."," • ",u?.project?.business?.profile?.companyName||u?.project?.business?.profile?.displayName||"Loading..."]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(l.default,{href:`/business/projects/${d}/applications`,children:a.jsx(i.z,{variant:"outline",children:"View All Applications"})}),a.jsx(l.default,{href:`/business/projects/${d}`,children:a.jsx(i.z,{variant:"outline",children:"View Project"})})]})]}),u&&s?a.jsx(Z,{application:u,talentProfile:s,onStatusUpdate:j,onScheduleInterview:g,onSendMessage:()=>{console.log("Opening message interface for talent:",s?.id),s?.id?t.push(`/business/messages?talentId=${s.id}&applicationId=${p}`):alert("Unable to start conversation - talent information not available")},onRefresh:()=>h()}):a.jsx("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading application details..."}),m&&a.jsx("p",{className:"text-red-600 mt-2",children:m instanceof Error?m.message:String(m)})]})})]})}},38443:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var a=s(10326);s(17577);var r=s(79360),n=s(51223);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...s}){return a.jsx("div",{className:(0,n.cn)(l({variant:t}),e),...s})}},29752:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>i,SZ:()=>o,Zb:()=>l,aY:()=>d,ll:()=>c});var a=s(10326),r=s(17577),n=s(51223);let l=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let i=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let c=r.forwardRef(({className:e,...t},s)=>a.jsx("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},44794:(e,t,s)=>{"use strict";s.d(t,{_:()=>o});var a=s(10326),r=s(17577),n=s(34478),l=s(79360),i=s(51223);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...t},s)=>a.jsx(n.f,{ref:s,className:(0,i.cn)(c(),e),...t}));o.displayName=n.f.displayName},82015:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var a=s(10326),r=s(17577),n=s(51223);let l=r.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));l.displayName="Textarea"},65934:(e,t,s)=>{"use strict";s.d(t,{IX:()=>i,LR:()=>o,VD:()=>c}),s(17577);var a=s(20108),r=s(44976),n=s(10119),l=s(55137);function i(e){return(0,a.a)({queryKey:["applications",e],queryFn:()=>l.apiClient.get(`/applications/${e}`),enabled:!!e})}function c(){let e=(0,r.NL)();return(0,n.D)({mutationFn:async({applicationId:e,newStatus:t,notes:s,metadata:a})=>await l.apiClient.put(`/applications/${e}/status`,{status:t,notes:s,metadata:a}),onSuccess:t=>{e.setQueryData(["applications",t.id],t),e.invalidateQueries({queryKey:["applications"]}),e.invalidateQueries({queryKey:["projects",t.projectId,"applications"]})}})}function o(e){return(0,a.a)({queryKey:["business","applications",e],queryFn:async()=>{let t=new URLSearchParams;return e?.status?.length&&t.append("status",e.status.join(",")),await l.apiClient.get(`/applications/business?${t}`)},staleTime:3e4})}s(82252)},82252:(e,t,s)=>{"use strict";s.d(t,{iQ:()=>r});let a={draft:{label:"Draft",color:"text-gray-600",bgColor:"bg-gray-100",description:"Application is being prepared",canEdit:!0,showToTalent:!0,showToBusiness:!1},pending:{label:"Pending",color:"text-blue-600",bgColor:"bg-blue-100",description:"Application is pending review",canEdit:!1,showToTalent:!0,showToBusiness:!0},submitted:{label:"Submitted",color:"text-blue-600",bgColor:"bg-blue-100",description:"Application has been submitted and is pending review",canEdit:!1,showToTalent:!0,showToBusiness:!0},under_review:{label:"Under Review",color:"text-yellow-600",bgColor:"bg-yellow-100",description:"Client is reviewing your application",canEdit:!1,showToTalent:!0,showToBusiness:!0},shortlisted:{label:"Shortlisted",color:"text-purple-600",bgColor:"bg-purple-100",description:"You have been shortlisted for this project",canEdit:!1,showToTalent:!0,showToBusiness:!0},accepted:{label:"Accepted",color:"text-green-600",bgColor:"bg-green-100",description:"Congratulations! Your application has been accepted",canEdit:!1,showToTalent:!0,showToBusiness:!0},rejected:{label:"Not Selected",color:"text-red-600",bgColor:"bg-red-100",description:"Application was not selected for this project",canEdit:!1,showToTalent:!0,showToBusiness:!0},withdrawn:{label:"Withdrawn",color:"text-gray-600",bgColor:"bg-gray-100",description:"Application was withdrawn by talent",canEdit:!1,showToTalent:!0,showToBusiness:!0},expired:{label:"Expired",color:"text-gray-600",bgColor:"bg-gray-100",description:"Application expired due to inactivity",canEdit:!1,showToTalent:!0,showToBusiness:!0}},r=e=>a[({PENDING:"submitted",UNDER_REVIEW:"under_review",ACCEPTED:"accepted",REJECTED:"rejected",WITHDRAWN:"withdrawn"})[e]||e]||a.submitted},47711:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`C:\Users\totur\OneDrive\Documents\Wennovate Consulting\Internal Projects\LocalTalents_ca\LocalTalent-app\src\app\(dashboard)\business\projects\[id]\applications\[applicationId]\page.tsx#default`)},79763:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})},83401:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},86421:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},14526:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},96229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},48939:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))})},84625:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},41964:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))})},34478:(e,t,s)=>{"use strict";s.d(t,{f:()=>i});var a=s(17577),r=s(45226),n=s(10326),l=a.forwardRef((e,t)=>(0,n.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},45226:(e,t,s)=>{"use strict";s.d(t,{WV:()=>i,jH:()=>c});var a=s(17577),r=s(60962),n=s(34214),l=s(10326),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,n.Z8)(`Primitive.${t}`),r=a.forwardRef((e,a)=>{let{asChild:r,...n}=e,i=r?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...n,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function c(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}}};var t=require("../../../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8249,280,2325,9581,4463,4759,4281],()=>s(81721));module.exports=a})();