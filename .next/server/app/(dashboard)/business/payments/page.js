(()=>{var e={};e.id=2359,e.ids=[2359],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},32541:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(60275),t(6989),t(35866),t(65161);var r=t(23191),a=t(88716),l=t(37922),n=t.n(l),i=t(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let o=["",{children:["(dashboard)",{children:["business",{children:["payments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,60275)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\business\\payments\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6989)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,65161)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\business\\payments\\page.tsx"],u="/(dashboard)/business/payments/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/business/payments/page",pathname:"/business/payments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},57877:(e,s,t)=>{Promise.resolve().then(t.bind(t,72166))},72166:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(10326),a=t(50384),l=t(17577),n=t(29752),i=t(91664),c=t(38443),o=t(41190),d=t(29280),u=t(90216),x=t(81367),p=t(3719),m=t(48275),h=t(51223);function j(){let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(null),[j,g]=(0,l.useState)(!0),[v,y]=(0,l.useState)(""),[b,N]=(0,l.useState)("all"),[f,P]=(0,l.useState)("all"),[w,C]=(0,l.useState)({from:"",to:""}),E=async e=>{try{let s=await m.U.downloadReceipt(e,"pdf"),t=window.URL.createObjectURL(s),r=document.createElement("a");r.href=t,r.download=`receipt-${e}.pdf`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t),document.body.removeChild(r)}catch(e){console.error("Failed to download receipt:",e)}},L=e=>{switch(e?.toUpperCase()){case"COMPLETED":return"bg-green-100 text-green-800";case"PROCESSING":return"bg-yellow-100 text-yellow-800";case"PENDING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},T=e=>{switch(e){case"ESCROW_FUNDING":case"escrow_funding":return"bg-blue-100 text-blue-800";case"MILESTONE_PAYMENT":case"milestone_release":return"bg-green-100 text-green-800";case"BIWEEKLY_PAYMENT":return"bg-indigo-100 text-indigo-800";case"WITHDRAWAL":case"withdrawal":return"bg-purple-100 text-purple-800";case"REFUND":case"refund":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},_=(e||[]).filter(e=>e.description?.toLowerCase().includes(v.toLowerCase())||e.project?.title?.toLowerCase().includes(v.toLowerCase())||e.id?.toLowerCase().includes(v.toLowerCase()));return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[r.jsx(u.Z,{className:"w-6 h-6"}),"Payment History"]}),r.jsx("p",{className:"text-gray-600",children:"Track all your payments, receipts, and transactions"})]}),t&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(0,h.xG)(t.totalVolume)}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Volume"})]})}),r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.totalTransactions.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Transactions"})]})}),r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(0,h.xG)(t.averageTransaction)}),r.jsx("p",{className:"text-sm text-gray-600",children:"Average Transaction"})]})}),r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-4",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[(100*t.successRate).toFixed(1),"%"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]})})]}),r.jsx(n.Zb,{children:r.jsx(n.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(o.I,{placeholder:"Search payments...",value:v,onChange:e=>y(e.target.value),className:"pl-10"})]}),(0,r.jsxs)(d.Ph,{value:b,onValueChange:N,children:[r.jsx(d.i4,{children:r.jsx(d.ki,{placeholder:"Status"})}),(0,r.jsxs)(d.Bw,{children:[r.jsx(d.Ql,{value:"all",children:"All Statuses"}),r.jsx(d.Ql,{value:"COMPLETED",children:"Completed"}),r.jsx(d.Ql,{value:"PROCESSING",children:"Processing"}),r.jsx(d.Ql,{value:"PENDING",children:"Pending"}),r.jsx(d.Ql,{value:"FAILED",children:"Failed"}),r.jsx(d.Ql,{value:"CANCELLED",children:"Cancelled"})]})]}),(0,r.jsxs)(d.Ph,{value:f,onValueChange:P,children:[r.jsx(d.i4,{children:r.jsx(d.ki,{placeholder:"Type"})}),(0,r.jsxs)(d.Bw,{children:[r.jsx(d.Ql,{value:"all",children:"All Types"}),r.jsx(d.Ql,{value:"ESCROW_FUNDING",children:"Escrow Funding"}),r.jsx(d.Ql,{value:"MILESTONE_PAYMENT",children:"Milestone Payment"}),r.jsx(d.Ql,{value:"BIWEEKLY_PAYMENT",children:"Biweekly Payment"}),r.jsx(d.Ql,{value:"WITHDRAWAL",children:"Withdrawal"}),r.jsx(d.Ql,{value:"REFUND",children:"Refund"}),r.jsx(d.Ql,{value:"FEE",children:"Fee"})]})]}),r.jsx(o.I,{type:"date",placeholder:"From date",value:w.from,onChange:e=>C(s=>({...s,from:e.target.value}))}),r.jsx(o.I,{type:"date",placeholder:"To date",value:w.to,onChange:e=>C(s=>({...s,to:e.target.value}))})]})})}),(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{children:r.jsx(n.ll,{children:"Recent Transactions"})}),r.jsx(n.aY,{children:j?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===_.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(u.Z,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No payments found"}),r.jsx("p",{className:"text-gray-600",children:"No payments match your current filters."})]}):r.jsx("div",{className:"space-y-4",children:_.map(e=>r.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.description||`Payment #${e.id.slice(-8)}`}),r.jsx(c.C,{className:L(e.status),children:e.status}),e.type&&r.jsx(c.C,{className:T(e.type),children:e.type.replace(/_/g," ")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:["ID: ",e.id]}),e.project&&(0,r.jsxs)("span",{children:["Project: ",e.project.title]}),r.jsx("span",{children:(0,h.p6)(e.createdAt)})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:(0,h.xG)(e.amount,e.currency)}),r.jsx("div",{className:"text-xs text-gray-500",children:"Total Amount"}),e.netAmount&&Number(e.netAmount)!==Number(e.amount)&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["(Net: ",(0,h.xG)(e.netAmount,e.currency),", Fee: ",(0,h.xG)(Number(e.amount)-Number(e.netAmount||0),e.currency),")"]}),e.processedAt&&(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Processed ",(0,h.p6)(e.processedAt)]})]}),("COMPLETED"===e.status||"completed"===e.status)&&(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>E(e.id),children:[r.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Receipt"]})]})]})},e.id))})})]})]})}var g=t(26002);function v(){return r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)(a.mQ,{defaultValue:"history",className:"space-y-6",children:[(0,r.jsxs)(a.dr,{children:[r.jsx(a.SP,{value:"history",children:"Payment History"}),r.jsx(a.SP,{value:"tax",children:"Tax Documents"})]}),r.jsx(a.nU,{value:"history",children:r.jsx(j,{})}),r.jsx(a.nU,{value:"tax",children:r.jsx(g.J,{})})]})})}},60275:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\totur\OneDrive\Documents\Wennovate Consulting\Internal Projects\LocalTalents_ca\LocalTalent-app\src\app\(dashboard)\business\payments\page.tsx#default`)},81367:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(17577);let a=r.forwardRef(function({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8249,280,2325,9581,9642,8407,4254,52,4759,4281,8342],()=>t(32541));module.exports=r})();