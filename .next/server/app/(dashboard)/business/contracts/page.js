(()=>{var e={};e.id=7663,e.ids=[7663],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59113:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(54813),s(6989),s(35866),s(65161);var r=s(23191),a=s(88716),n=s(37922),l=s.n(n),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["(dashboard)",{children:["business",{children:["contracts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,54813)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\business\\contracts\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6989)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,65161)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\business\\contracts\\page.tsx"],u="/(dashboard)/business/contracts/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/business/contracts/page",pathname:"/business/contracts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},26408:(e,t,s)=>{Promise.resolve().then(s.bind(s,43811))},43811:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(10326),a=s(17577),n=s(90434),l=s(91664),i=s(29752),o=s(38443),c=s(41190),d=s(81367),u=s(3719),x=s(60882),m=s(14526),p=s(96229),h=s(51223);function g(){let[e,t]=(0,a.useState)([]),[g,f]=(0,a.useState)(!0),[j,v]=(0,a.useState)(null),[b,y]=(0,a.useState)(""),[N,w]=(0,a.useState)("all"),C=async()=>{try{f(!0);let{apiClient:e}=await Promise.resolve().then(s.bind(s,55137)),r=await e.get("/contracts");console.log("\uD83D\uDCCB Fetched contracts:",r),Array.isArray(r)&&r.forEach(e=>{console.log(`Contract ${e.id}:`,{projectType:e.project?.type,hourlyRate:e.hourlyRate,contractEstimatedHours:e.estimatedHours,applicationEstimatedHours:e.application?.estimatedHours,totalAmount:e.totalAmount,calculatedTotal:e.estimatedHours||e.application?.estimatedHours?(e.hourlyRate||0)*(e.estimatedHours||e.application?.estimatedHours):null})}),t(r)}catch(e){console.error("Failed to fetch contracts:",e),v("Failed to load contracts")}finally{f(!1)}},L=e=>{switch(e.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"pending_signatures":return"bg-yellow-100 text-yellow-800";case"draft":default:return"bg-gray-100 text-gray-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";case"disputed":return"bg-orange-100 text-orange-800"}},_=e=>{switch(e.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"submitted":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":default:return"bg-gray-100 text-gray-800";case"rejected":return"bg-red-100 text-red-800"}},k=e.filter(e=>{let t=e.title.toLowerCase().includes(b.toLowerCase())||e.project.title.toLowerCase().includes(b.toLowerCase())||e.talent.profile.displayName.toLowerCase().includes(b.toLowerCase()),s="all"===N||e.status.toLowerCase()===N.toLowerCase();return t&&s});return g?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):j?r.jsx("div",{className:"flex justify-center items-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:j}),r.jsx(l.z,{onClick:C,children:"Try Again"})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contracts"}),r.jsx("p",{className:"text-gray-600",children:"Manage your project contracts and agreements"})]})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(c.I,{placeholder:"Search contracts...",value:b,onChange:e=>y(e.target.value),className:"pl-10"})]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(l.z,{variant:"all"===N?"default":"outline",onClick:()=>w("all"),size:"sm",children:"All"}),r.jsx(l.z,{variant:"active"===N?"default":"outline",onClick:()=>w("active"),size:"sm",children:"Active"}),r.jsx(l.z,{variant:"pending_signatures"===N?"default":"outline",onClick:()=>w("pending_signatures"),size:"sm",children:"Pending"}),r.jsx(l.z,{variant:"completed"===N?"default":"outline",onClick:()=>w("completed"),size:"sm",children:"Completed"})]})]}),0===k.length?r.jsx(i.Zb,{children:(0,r.jsxs)(i.aY,{className:"text-center py-12",children:[r.jsx(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No contracts found"}),r.jsx("p",{className:"text-gray-600",children:0===e.length?"You don't have any contracts yet. Create your first contract from an accepted application.":"No contracts match your current filters."})]})}):r.jsx("div",{className:"grid gap-6",children:k.map(e=>(0,r.jsxs)(i.Zb,{className:"hover:shadow-md transition-shadow",children:[r.jsx(i.Ol,{children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(i.ll,{className:"text-lg",children:e.title}),r.jsx(o.C,{className:L(e.status),children:e.status.replace("_"," ").toUpperCase()})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(u.Z,{className:"h-4 w-4"}),r.jsx("span",{children:e.project.title})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(x.Z,{className:"h-4 w-4"}),r.jsx("span",{children:e.talent.profile.displayName})]}),"HOURLY"===e.project.type&&e.hourlyRate&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(m.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:[(0,h.xG)(e.hourlyRate),"/hr"]})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(l.z,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)(n.default,{href:`/business/contracts/${e.id}`,children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"View"]})})})]})}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Total Value"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:(()=>{let t=e.estimatedHours||e.application?.estimatedHours;return"HOURLY"===e.project.type&&t?(0,h.xG)((e.hourlyRate||0)*t):"HOURLY"===e.project.type?`${(0,h.xG)(e.hourlyRate||0)}/hr`:(0,h.xG)(e.totalAmount)})()}),"HOURLY"===e.project.type&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,h.xG)(e.hourlyRate||0),"/hr",(e.estimatedHours||e.application?.estimatedHours)&&` \xd7 ${e.estimatedHours||e.application?.estimatedHours} hrs`]})]}),e.startDate&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Start Date"}),r.jsx("p",{className:"text-sm text-gray-600",children:(0,h.p6)(new Date(e.startDate))})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Created"}),r.jsx("p",{className:"text-sm text-gray-600",children:(0,h.SY)(new Date(e.createdAt))})]})]}),e.milestones&&e.milestones.length>0&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Milestones"}),(0,r.jsxs)("div",{className:"space-y-2",children:[e.milestones.slice(0,3).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(o.C,{className:_(e.status),variant:"secondary",children:e.status.replace("_"," ")}),r.jsx("span",{className:"text-sm",children:e.title})]}),r.jsx("span",{className:"text-sm font-medium",children:(0,h.xG)(e.amount)})]},e.id)),e.milestones.length>3&&(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["+",e.milestones.length-3," more milestones"]})]})]})]})]},e.id))})]})}},38443:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(10326);s(17577);var a=s(79360),n=s(51223);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...s}){return r.jsx("div",{className:(0,n.cn)(l({variant:t}),e),...s})}},29752:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>i,SZ:()=>c,Zb:()=>l,aY:()=>d,ll:()=>o});var r=s(10326),a=s(17577),n=s(51223);let l=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let i=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let o=a.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},41190:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var r=s(10326),a=s(17577),n=s(51223);let l=a.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));l.displayName="Input"},54813:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\totur\OneDrive\Documents\Wennovate Consulting\Internal Projects\LocalTalents_ca\LocalTalent-app\src\app\(dashboard)\business\contracts\page.tsx#default`)},14526:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},96229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},81367:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8249,280,2325,9581,4759,4281],()=>s(59113));module.exports=r})();