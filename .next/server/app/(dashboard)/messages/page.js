(()=>{var e={};e.id=6909,e.ids=[6909],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},81474:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>d}),t(21473),t(6989),t(35866),t(65161);var a=t(23191),r=t(88716),n=t(37922),i=t.n(n),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["(dashboard)",{children:["messages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,21473)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\messages\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6989)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,65161)),"C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\totur\\OneDrive\\Documents\\Wennovate Consulting\\Internal Projects\\LocalTalents_ca\\LocalTalent-app\\src\\app\\(dashboard)\\messages\\page.tsx"],u="/(dashboard)/messages/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/messages/page",pathname:"/messages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49569:(e,s,t)=>{Promise.resolve().then(t.bind(t,79794))},79794:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var a=t(10326),r=t(17577),n=t(41190),i=t(38443),l=t(91664),c=t(7710);let d=r.forwardRef(function({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))});var o=t(81367),u=t(60882),m=t(51223);function x({conversations:e,selectedConversationId:s,currentUserId:t,onSelectConversation:x,onArchiveConversation:p,onDeleteConversation:h,isLoading:g=!1}){let[f,v]=(0,r.useState)(""),[j,b]=(0,r.useState)("all"),y=e.filter(e=>{let s=e.participants.find(e=>e.id!==t),a=!f||e.projectTitle.toLowerCase().includes(f.toLowerCase())||s?.name.toLowerCase().includes(f.toLowerCase()),r="all"===j||"unread"===j&&e.unreadCount>0;return a&&r}).sort((e,s)=>{let t=e.lastMessage?.sentAt||e.updatedAt;return(s.lastMessage?.sentAt||s.updatedAt).getTime()-t.getTime()}),w=e.reduce((e,s)=>e+s.unreadCount,0);return g?a.jsx("div",{className:"h-full flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"h-full flex flex-col bg-white border-r border-gray-200",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(c.Z,{className:"h-5 w-5 mr-2"}),"Messages",w>0&&a.jsx(i.C,{className:"ml-2 bg-red-500",children:w})]}),a.jsx(l.z,{variant:"ghost",size:"sm",children:a.jsx(d,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(o.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx(n.I,{placeholder:"Search conversations...",value:f,onChange:e=>v(e.target.value),className:"pl-10"})]}),a.jsx("div",{className:"flex space-x-1 mt-3",children:[{key:"all",label:"All",count:e.length},{key:"unread",label:"Unread",count:e.filter(e=>e.unreadCount>0).length}].map(e=>(0,a.jsxs)("button",{onClick:()=>b(e.key),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${j===e.key?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[e.label,e.count>0&&(0,a.jsxs)("span",{className:"ml-1 text-xs",children:["(",e.count,")"]})]},e.key))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:0===y.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[a.jsx(c.Z,{className:"h-12 w-12 text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conversations"}),a.jsx("p",{className:"text-gray-500 text-sm",children:f?"No conversations match your search.":"Start a conversation by applying to a project or posting one."})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:y.map(e=>{let r=e.participants.find(e=>e.id!==t),n=e.id===s,l=e.lastMessage?.sentAt||e.updatedAt;return a.jsx("div",{onClick:()=>x(e),className:`p-4 cursor-pointer transition-colors hover:bg-gray-50 ${n?"bg-blue-50 border-r-2 border-blue-500":""}`,children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[r?.avatar?a.jsx("img",{src:r.avatar,alt:r.name,className:"w-12 h-12 rounded-full"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(u.Z,{className:"h-6 w-6 text-gray-400"})}),r?.isOnline&&a.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:`text-sm font-medium truncate ${e.unreadCount>0?"text-gray-900":"text-gray-700"}`,children:r?.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:(0,m.SY)(l)}),e.unreadCount>0&&a.jsx(i.C,{className:"bg-blue-500 text-white text-xs px-1.5 py-0.5 min-w-[1.25rem] h-5 flex items-center justify-center",children:e.unreadCount>99?"99+":e.unreadCount})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-2 truncate",children:e.projectTitle}),e.lastMessage&&(0,a.jsxs)("p",{className:`text-sm truncate ${e.unreadCount>0?"font-medium text-gray-900":"text-gray-600"}`,children:[e.lastMessage.senderId===t&&a.jsx("span",{className:"text-gray-400",children:"You: "}),"file"===e.lastMessage.messageType?"\uD83D\uDCCE Attachment":e.lastMessage.content]})]})]})},e.id)})})}),a.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:[e.length," conversation",1!==e.length?"s":""]}),w>0&&(0,a.jsxs)("span",{children:[w," unread"]})]})})]})}var p=t(82015),h=t(61994),g=t(73891),f=t(3719),v=t(72591),j=t(81061);let b=r.forwardRef(function({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))});var y=t(77841);function w({conversation:e,messages:s,currentUserId:t,currentUserType:n,onSendMessage:i,onMarkAsRead:c,onTyping:o,isLoading:u=!1}){let[x,w]=(0,r.useState)(""),[N,C]=(0,r.useState)([]),[T,k]=(0,r.useState)(!1),[A,L]=(0,r.useState)(!1),[D,I]=(0,r.useState)(!1),[Z,M]=(0,r.useState)(null),S=(0,r.useRef)(null),E=(0,r.useRef)(null),P=(0,r.useRef)(null),O=(0,r.useRef)(),q=e=>{w(e),A||(L(!0),o?.(!0)),O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{L(!1),o?.(!1)},1e3)},R=async()=>{if(x.trim()||0!==N.length)try{k(!0),await i(x.trim(),N),w(""),C([]),M(null),P.current?.focus()}catch(e){console.error("Failed to send message:",e)}finally{k(!1)}},_=e=>{C(s=>s.filter((s,t)=>t!==e))},z=e=>e.senderId!==t?null:e.readAt?(0,a.jsxs)("div",{className:"flex",children:[a.jsx(h.Z,{className:"h-4 w-4 text-blue-500 -mr-2"}),a.jsx(h.Z,{className:"h-4 w-4 text-blue-500"})]}):a.jsx(h.Z,{className:"h-4 w-4 text-gray-400"}),$=e.participants.find(e=>e.id!==t);return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[a.jsx("div",{className:"border-b border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[$?.avatar?a.jsx("img",{src:$.avatar,alt:$.name,className:"w-10 h-10 rounded-full"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-gray-600",children:$?.name.charAt(0)})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:$?.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx("span",{children:e.projectTitle}),$?.isOnline&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:"•"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Online"})]})]})]})]})]}),a.jsx(l.z,{variant:"ghost",size:"sm",children:a.jsx(d,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:u?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):(0,a.jsxs)(a.Fragment,{children:[s.map((e,r)=>{let n=e.senderId===t,i=0===r||s[r-1].senderId!==e.senderId;return"system"===e.messageType?a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-gray-100 text-gray-600 text-xs px-3 py-1 rounded-full",children:e.content})},e.id):a.jsx("div",{className:`flex ${n?"justify-end":"justify-start"}`,children:(0,a.jsxs)("div",{className:`flex space-x-2 max-w-xs lg:max-w-md ${n?"flex-row-reverse space-x-reverse":""}`,children:[i&&!n&&a.jsx("div",{className:"flex-shrink-0",children:e.senderAvatar?a.jsx("img",{src:e.senderAvatar,alt:e.senderName,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-medium text-gray-600",children:e.senderName.charAt(0)})})}),(0,a.jsxs)("div",{className:`flex flex-col ${n?"items-end":"items-start"}`,children:[Z&&e.replyToId===Z.id&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-1 px-3",children:["Replying to: ",Z.content.substring(0,50),"..."]}),(0,a.jsxs)("div",{className:`rounded-lg px-3 py-2 ${n?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),e.attachments&&e.attachments.length>0&&a.jsx("div",{className:"mt-2 space-y-1",children:e.attachments.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-white bg-opacity-20 rounded",children:[e.fileType.startsWith("image/")?a.jsx(g.Z,{className:"h-4 w-4"}):a.jsx(f.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:e.fileName})]},e.id))})]}),(0,a.jsxs)("div",{className:`flex items-center space-x-1 mt-1 text-xs text-gray-500 ${n?"flex-row-reverse space-x-reverse":""}`,children:[a.jsx("span",{children:(0,m.SY)(e.sentAt)}),n&&z(e),e.editedAt&&a.jsx("span",{className:"italic",children:"(edited)"})]})]})]})},e.id)}),A&&a.jsx("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[$?.name," is typing..."]})]})}),a.jsx("div",{ref:S})]})}),Z&&a.jsx("div",{className:"border-t border-gray-200 p-2 bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-8 bg-blue-500 rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Replying to ",Z.senderName]}),a.jsx("p",{className:"text-sm text-gray-700 truncate max-w-xs",children:Z.content})]})]}),a.jsx(l.z,{variant:"ghost",size:"sm",onClick:()=>M(null),children:a.jsx(v.Z,{className:"h-4 w-4"})})]})}),N.length>0&&a.jsx("div",{className:"border-t border-gray-200 p-2 bg-gray-50",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-white rounded px-2 py-1 text-sm",children:[e.type.startsWith("image/")?a.jsx(g.Z,{className:"h-4 w-4 text-gray-400"}):a.jsx(f.Z,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"truncate max-w-xs",children:e.name}),a.jsx("button",{onClick:()=>_(s),className:"text-gray-400 hover:text-red-500",children:a.jsx(v.Z,{className:"h-3 w-3"})})]},s))})}),a.jsx("div",{className:"border-t border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,a.jsxs)("div",{className:"flex space-x-1",children:[a.jsx("input",{ref:E,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt",onChange:e=>{let s=Array.from(e.target.files||[]).filter(e=>["image/jpeg","image/png","image/gif","application/pdf","application/msword","text/plain"].includes(e.type)?!(e.size>10485760)||(alert(`File ${e.name} is too large (max 10MB)`),!1):(alert(`File type ${e.type} is not supported`),!1));C(e=>[...e,...s])},className:"hidden"}),a.jsx(l.z,{variant:"ghost",size:"sm",onClick:()=>E.current?.click(),children:a.jsx(j.Z,{className:"h-4 w-4"})}),a.jsx(l.z,{variant:"ghost",size:"sm",onClick:()=>I(!D),children:a.jsx(b,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex-1",children:a.jsx(p.g,{ref:P,value:x,onChange:e=>q(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),R())},placeholder:"Type a message...",rows:1,className:"resize-none min-h-[40px] max-h-32"})}),a.jsx(l.z,{onClick:R,disabled:!x.trim()&&0===N.length||T,size:"sm",children:T?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(y.Z,{className:"h-4 w-4"})})]})})]})}var N=t(25561);let C=[{id:"conv-1",projectId:"proj-1",projectTitle:"E-commerce Website Development",participants:[{id:"business-1",name:"Vancouver Retail Co.",avatar:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=100&h=100&fit=crop&crop=face",type:"business",isOnline:!0},{id:"talent-1",name:"Alex Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",type:"talent",isOnline:!1,lastSeen:new Date("2024-01-20T14:30:00")}],lastMessage:{id:"msg-5",conversationId:"conv-1",senderId:"business-1",senderName:"Vancouver Retail Co.",senderType:"business",content:"Great! Let's schedule a call to discuss the project requirements in detail.",sentAt:new Date("2024-01-20T15:45:00"),messageType:"text"},unreadCount:2,createdAt:new Date("2024-01-18T10:30:00"),updatedAt:new Date("2024-01-20T15:45:00")},{id:"conv-2",projectId:"proj-2",projectTitle:"Mobile App UI/UX Design",participants:[{id:"business-2",name:"FitTech Solutions",avatar:"https://images.unsplash.com/photo-1549923746-c502d488b3ea?w=100&h=100&fit=crop&crop=face",type:"business",isOnline:!1,lastSeen:new Date("2024-01-19T16:20:00")},{id:"talent-1",name:"Alex Chen",type:"talent",isOnline:!0}],lastMessage:{id:"msg-8",conversationId:"conv-2",senderId:"talent-1",senderName:"Alex Chen",senderType:"talent",content:"I've uploaded the initial wireframes for your review. Please let me know your thoughts!",sentAt:new Date("2024-01-19T16:20:00"),messageType:"text"},unreadCount:0,createdAt:new Date("2024-01-17T14:15:00"),updatedAt:new Date("2024-01-19T16:20:00")},{id:"conv-3",projectId:"proj-3",projectTitle:"React Native Mobile App",participants:[{id:"business-3",name:"InnovateLab",avatar:"https://images.unsplash.com/photo-1572021335469-31706a17aaef?w=100&h=100&fit=crop&crop=face",type:"business",isOnline:!0},{id:"talent-1",name:"Alex Chen",type:"talent",isOnline:!0}],lastMessage:{id:"msg-12",conversationId:"conv-3",senderId:"business-3",senderName:"InnovateLab",senderType:"business",content:"The interview went great! We'd like to move forward with your proposal.",sentAt:new Date("2024-01-21T11:15:00"),messageType:"text"},unreadCount:1,createdAt:new Date("2024-01-16T09:00:00"),updatedAt:new Date("2024-01-21T11:15:00")}];function T(){let{user:e}=(0,N.a)(),[s,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(C),[l,d]=(0,r.useState)([]),[o,u]=(0,r.useState)(!1),m=async(t,a)=>{if(!s||!e)return;let r={id:`msg-${Date.now()}`,conversationId:s.id,senderId:e.id,senderName:e.profile?.displayName||`${e.profile?.firstName} ${e.profile?.lastName}`||e.email,senderAvatar:e.profile?.avatar,senderType:"admin"===e.userType?"business":e.userType,content:t,sentAt:new Date,messageType:a&&a.length>0?"file":"text",attachments:a?.map((e,s)=>({id:`att-${Date.now()}-${s}`,fileName:e.name,fileSize:e.size,fileType:e.type,url:URL.createObjectURL(e)}))};d(e=>[...e,r]),i(e=>e.map(e=>e.id===s.id?{...e,lastMessage:r,updatedAt:new Date}:e)),console.log("Sending message:",r)};return e?(0,a.jsxs)("div",{className:"h-screen flex",children:[a.jsx("div",{className:"w-80 flex-shrink-0",children:a.jsx(x,{conversations:n,selectedConversationId:s?.id,currentUserId:e.id,onSelectConversation:e=>{t(e),e.unreadCount>0&&i(s=>s.map(s=>s.id===e.id?{...s,unreadCount:0}:s))},isLoading:!1})}),a.jsx("div",{className:"flex-1",children:s?a.jsx(w,{conversation:s,messages:l,currentUserId:e.id,currentUserType:"admin"===e.userType?"business":e.userType,onSendMessage:m,onMarkAsRead:s=>{d(t=>t.map(t=>s.includes(t.id)&&t.senderId!==e?.id?{...t,readAt:new Date}:t))},onTyping:e=>{console.log("Typing:",e)},isLoading:o}):a.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(c.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),a.jsx("p",{className:"text-gray-500",children:"Choose a conversation from the sidebar to start messaging."})]})})})]}):a.jsx("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Please log in"}),a.jsx("p",{className:"text-gray-500",children:"You need to be logged in to view messages."})]})})}},38443:(e,s,t)=>{"use strict";t.d(s,{C:()=>l});var a=t(10326);t(17577);var r=t(79360),n=t(51223);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...t}){return a.jsx("div",{className:(0,n.cn)(i({variant:s}),e),...t})}},41190:(e,s,t)=>{"use strict";t.d(s,{I:()=>i});var a=t(10326),r=t(17577),n=t(51223);let i=r.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Input"},82015:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var a=t(10326),r=t(17577),n=t(51223);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Textarea"},21473:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\totur\OneDrive\Documents\Wennovate Consulting\Internal Projects\LocalTalents_ca\LocalTalent-app\src\app\(dashboard)\messages\page.tsx#default`)},81367:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(17577);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},77841:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(17577);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))})},81061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(17577);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))})},73891:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(17577);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8249,280,2325,9581,4759,4281],()=>t(81474));module.exports=a})();