"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4297],{94108:function(e,t,s){s.d(t,{i:function(){return N}});var r=s(57437),a=s(2265),n=s(79820),i=s(12381),l=s(69174),d=s(40279),c=s(23675),o=s(75060),m=s(95937),u=s(74291),x=s(20322),f=s(30036),p=s(1442),h=s(77165),g=s(43836),j=s(47842),v=s(93448),b=s(26305);function N(e){let{milestoneId:t,userRole:s,canEdit:N,onUpdate:y}=e,[w,C]=(0,a.useState)([]),[T,R]=(0,a.useState)(!0),[Z,k]=(0,a.useState)(!1),[D,E]=(0,a.useState)(null),[S,A]=(0,a.useState)(!1),[z,_]=(0,a.useState)({title:"",description:"",fileUrl:""});(0,a.useEffect)(()=>{I()},[t]);let I=async()=>{try{R(!0);let e=await b.apiClient.get("/milestones/".concat(t,"/deliverables"));console.log("Deliverables response:",e);let s=Array.isArray(e.deliverables)?e.deliverables:Array.isArray(e)?e:[];C(s)}catch(e){console.error("Error fetching deliverables:",e),C([])}finally{R(!1)}},P=async()=>{if(z.title&&z.description)try{A(!0);let e=z.fileUrl;if(D){let t=new FormData;t.append("file",D),e=(await b.apiClient.post("/upload/deliverable",t,{headers:{"Content-Type":"multipart/form-data"}})).fileUrl}await b.apiClient.post("/milestones/".concat(t,"/deliverables"),{title:z.title,description:z.description,fileUrl:e}),_({title:"",description:"",fileUrl:""}),E(null),k(!1),await I(),null==y||y()}catch(e){console.error("Error creating deliverable:",e)}finally{A(!1)}},F=async e=>{try{await b.apiClient.put("/deliverables/".concat(e,"/submit")),await I(),null==y||y()}catch(e){console.error("Error submitting deliverable:",e)}},V=async(e,t,s)=>{try{await b.apiClient.put("/deliverables/".concat(e,"/review"),{action:t,rejectionReason:s}),await I(),null==y||y()}catch(e){console.error("Error reviewing deliverable:",e)}},Y=e=>{let t={PENDING:{variant:"secondary",icon:x.Z,text:"Pending"},SUBMITTED:{variant:"default",icon:f.Z,text:"Submitted"},APPROVED:{variant:"success",icon:p.Z,text:"Approved"},REJECTED:{variant:"destructive",icon:h.Z,text:"Rejected"}}[e],s=t.icon;return(0,r.jsxs)(l.C,{variant:t.variant,className:"flex items-center gap-1",children:[(0,r.jsx)(s,{className:"h-3 w-3"}),t.text]})};return T?(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]})})}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Deliverables"}),"talent"===s&&N&&(0,r.jsxs)(u.Vq,{open:Z,onOpenChange:k,children:[(0,r.jsx)(u.hg,{asChild:!0,children:(0,r.jsxs)(i.z,{size:"sm",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Add Deliverable"]})}),(0,r.jsxs)(u.cZ,{className:"max-w-md",children:[(0,r.jsxs)(u.fK,{children:[(0,r.jsx)(u.$N,{children:"Create New Deliverable"}),(0,r.jsx)(u.Be,{children:"Add a deliverable item for this milestone."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{htmlFor:"title",children:"Title"}),(0,r.jsx)(d.I,{id:"title",value:z.title,onChange:e=>_(t=>({...t,title:e.target.value})),placeholder:"Enter deliverable title"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{htmlFor:"description",children:"Description"}),(0,r.jsx)(c.g,{id:"description",value:z.description,onChange:e=>_(t=>({...t,description:e.target.value})),placeholder:"Describe what will be delivered",rows:3})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o._,{htmlFor:"file",children:"Attachment (Optional)"}),(0,r.jsx)(d.I,{id:"file",type:"file",onChange:e=>{var t;return E((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.zip"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.z,{onClick:P,disabled:S||!z.title||!z.description,className:"flex-1",children:S?"Creating...":"Create Deliverable"}),(0,r.jsx)(i.z,{variant:"outline",onClick:()=>k(!1),disabled:S,children:"Cancel"})]})]})]})]})]}),0===w.length?(0,r.jsx)(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-6 text-center text-gray-500",children:[(0,r.jsx)(f.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,r.jsx)("p",{children:"No deliverables added yet."}),"talent"===s&&N&&(0,r.jsx)("p",{className:"text-sm mt-2",children:"Add deliverables to track your progress on this milestone."})]})}):(0,r.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("h4",{className:"font-medium",children:e.title}),Y(e.status)]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),e.fileUrl&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4"}),(0,r.jsx)("a",{href:e.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"View Attachment"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[(0,r.jsxs)("span",{children:["Created: ",(0,v.p6)(e.createdAt)]}),e.submittedAt&&(0,r.jsxs)("span",{children:["Submitted: ",(0,v.p6)(e.submittedAt)]}),e.approvedAt&&(0,r.jsxs)("span",{children:["Approved: ",(0,v.p6)(e.approvedAt)]})]}),"REJECTED"===e.status&&e.rejectionReason&&(0,r.jsxs)(m.bZ,{className:"mt-3",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4"}),(0,r.jsxs)(m.X,{children:[(0,r.jsx)("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:["talent"===s&&"PENDING"===e.status&&N&&(0,r.jsx)(i.z,{size:"sm",onClick:()=>F(e.id),children:"Submit"}),"business"===s&&"SUBMITTED"===e.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.z,{size:"sm",onClick:()=>V(e.id,"approve"),children:"Approve"}),(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>{let t=prompt("Please provide a reason for rejection:");t&&V(e.id,"reject",t)},children:"Reject"})]})]})]})})},e.id))})]})}},11532:function(e,t,s){s.d(t,{e:function(){return k}});var r=s(57437),a=s(2265),n=s(79820),i=s(12381),l=s(69174),d=s(15291),c=s(33804),o=s(20322),m=s(1442),u=s(77165),x=s(41077),f=s(43836),p=s(51351),h=s(93448),g=s(26305),j=s(29501),v=s(13590),b=s(67119),N=s(40279),y=s(23675),w=s(75060),C=s(95937),T=s(47842);let R=b.Ry({date:b.Z_().min(1,"Date is required"),startTime:b.Z_().min(1,"Start time is required"),endTime:b.Z_().min(1,"End time is required"),description:b.Z_().min(10,"Description must be at least 10 characters"),category:b.Km(["development","design","testing","meeting","research","documentation","other"])});function Z(e){let{contractId:t,onSuccess:s,onCancel:l}=e,[c,u]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[p,h]=(0,a.useState)(!1),{register:b,handleSubmit:Z,formState:{errors:k},setValue:D,watch:E,reset:S}=(0,j.cI)({resolver:(0,v.F)(R),defaultValues:{date:new Date().toISOString().split("T")[0],category:"development"}}),A=((e,t)=>{if(!e||!t)return 0;let s=new Date("2000-01-01T".concat(e,":00")),r=new Date("2000-01-01T".concat(t,":00"));return r<=s?0:Math.round((r.getTime()-s.getTime())/36e5*100)/100})(E("startTime"),E("endTime")),z=async e=>{try{u(!0),f(null);let r={...e,hoursWorked:A,contractId:t};await g.apiClient.post("/contracts/".concat(t,"/time-entries"),r),h(!0),S(),setTimeout(()=>{h(!1),null==s||s()},1500)}catch(e){var r,a;f((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Failed to submit time entry")}finally{u(!1)}};return p?(0,r.jsx)(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-6 text-center",children:[(0,r.jsx)(m.Z,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-700 mb-2",children:"Time Entry Submitted!"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Your time entry has been recorded and is pending approval."})]})}):(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5"}),"Log Time Entry"]})}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("form",{onSubmit:Z(z),className:"space-y-4",children:[x&&(0,r.jsxs)(C.bZ,{variant:"destructive",children:[(0,r.jsx)(T.Z,{className:"h-4 w-4"}),(0,r.jsx)(C.X,{children:x})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(w._,{htmlFor:"date",children:"Date"}),(0,r.jsx)(N.I,{id:"date",type:"date",...b("date"),max:new Date().toISOString().split("T")[0]}),k.date&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.date.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w._,{htmlFor:"startTime",children:"Start Time"}),(0,r.jsx)(N.I,{id:"startTime",type:"time",...b("startTime")}),k.startTime&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.startTime.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w._,{htmlFor:"endTime",children:"End Time"}),(0,r.jsx)(N.I,{id:"endTime",type:"time",...b("endTime")}),k.endTime&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.endTime.message})]})]}),A>0&&(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-blue-700",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"font-medium",children:["Hours Worked: ",A]})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w._,{htmlFor:"category",children:"Category"}),(0,r.jsxs)(d.Ph,{onValueChange:e=>D("category",e),children:[(0,r.jsx)(d.i4,{children:(0,r.jsx)(d.ki,{placeholder:"Select work category"})}),(0,r.jsxs)(d.Bw,{children:[(0,r.jsx)(d.Ql,{value:"development",children:"Development"}),(0,r.jsx)(d.Ql,{value:"design",children:"Design"}),(0,r.jsx)(d.Ql,{value:"testing",children:"Testing"}),(0,r.jsx)(d.Ql,{value:"meeting",children:"Meeting"}),(0,r.jsx)(d.Ql,{value:"research",children:"Research"}),(0,r.jsx)(d.Ql,{value:"documentation",children:"Documentation"}),(0,r.jsx)(d.Ql,{value:"other",children:"Other"})]})]}),k.category&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.category.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w._,{htmlFor:"description",children:"Work Description"}),(0,r.jsx)(y.g,{id:"description",...b("description"),placeholder:"Describe what you worked on during this time...",rows:3}),k.description&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:k.description.message})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.z,{type:"submit",disabled:c||A<=0,className:"flex-1",children:c?"Submitting...":"Submit Time Entry"}),l&&(0,r.jsx)(i.z,{type:"button",variant:"outline",onClick:l,disabled:c,children:"Cancel"})]})]})})]})}function k(e){let{contractId:t,userRole:s,canEdit:j}=e,[v,b]=(0,a.useState)([]),[N,y]=(0,a.useState)(null),[w,C]=(0,a.useState)(!0),[T,R]=(0,a.useState)(!1),[k,D]=(0,a.useState)("current"),[E,S]=(0,a.useState)("all");(0,a.useEffect)(()=>{A()},[t,k,E]);let A=async()=>{try{C(!0);let e=new URLSearchParams({period:k,status:"all"!==E?E:""}),s=await g.apiClient.get("/contracts/".concat(t,"/time-entries?").concat(e));b(s.timeEntries||[]),y(s.summary||null)}catch(e){console.error("Error fetching time entries:",e)}finally{C(!1)}},z=async e=>{try{await g.apiClient.put("/time-entries/".concat(e,"/approve")),await A()}catch(e){console.error("Error approving time entry:",e)}},_=async(e,t)=>{try{await g.apiClient.put("/time-entries/".concat(e,"/reject"),{reason:t}),await A()}catch(e){console.error("Error rejecting time entry:",e)}},I=async()=>{try{let e=new URLSearchParams({period:k,format:"pdf"}),s=await g.apiClient.get("/contracts/".concat(t,"/timesheet/export?").concat(e),{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([s])),a=document.createElement("a");a.href=r,a.setAttribute("download","timesheet-".concat(t,"-").concat(k,".pdf")),document.body.appendChild(a),a.click(),a.remove()}catch(e){console.error("Error exporting timesheet:",e)}},P=e=>{let t={PENDING:{variant:"secondary",icon:o.Z,text:"Pending"},APPROVED:{variant:"success",icon:m.Z,text:"Approved"},REJECTED:{variant:"destructive",icon:u.Z,text:"Rejected"},PAID:{variant:"default",icon:m.Z,text:"Paid"}}[e];if(!t)return console.warn("Unknown time entry status: ".concat(e)),(0,r.jsx)(l.C,{variant:"secondary",children:e});let s=t.icon;return(0,r.jsxs)(l.C,{variant:t.variant,className:"flex items-center gap-1",children:[(0,r.jsx)(s,{className:"h-3 w-3"}),t.text]})},F=e=>{let t={development:"bg-blue-100 text-blue-800",design:"bg-purple-100 text-purple-800",testing:"bg-green-100 text-green-800",meeting:"bg-yellow-100 text-yellow-800",research:"bg-indigo-100 text-indigo-800",documentation:"bg-gray-100 text-gray-800",other:"bg-orange-100 text-orange-800"};return t[e]||t.other};return T&&"talent"===s&&j?(0,r.jsx)(Z,{contractId:t,onSuccess:()=>{R(!1),A()},onCancel:()=>R(!1)}):(0,r.jsxs)("div",{className:"space-y-6",children:[N&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 text-blue-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Total Hours"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:N.totalHours})]})]})})}),(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 text-green-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Approved Hours"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:N.approvedHours})]})]})})}),(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 text-yellow-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Hours"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:N.pendingHours})]})]})})}),(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Total Earnings"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:(0,h.xG)(N.totalEarnings)})]})]})})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5"}),"Timesheet"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["talent"===s&&j&&(0,r.jsxs)(i.z,{onClick:()=>R(!0),children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Add Time Entry"]}),(0,r.jsxs)(i.z,{variant:"outline",onClick:I,children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),(0,r.jsxs)(n.aY,{children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)(d.Ph,{value:k,onValueChange:D,children:[(0,r.jsx)(d.i4,{children:(0,r.jsx)(d.ki,{})}),(0,r.jsxs)(d.Bw,{children:[(0,r.jsx)(d.Ql,{value:"current",children:"Current Period"}),(0,r.jsx)(d.Ql,{value:"previous",children:"Previous Period"}),(0,r.jsx)(d.Ql,{value:"all",children:"All Time"})]})]})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)(d.Ph,{value:E,onValueChange:S,children:[(0,r.jsx)(d.i4,{children:(0,r.jsx)(d.ki,{})}),(0,r.jsxs)(d.Bw,{children:[(0,r.jsx)(d.Ql,{value:"all",children:"All Statuses"}),(0,r.jsx)(d.Ql,{value:"pending",children:"Pending Only"}),(0,r.jsx)(d.Ql,{value:"approved",children:"Approved Only"}),(0,r.jsx)(d.Ql,{value:"rejected",children:"Rejected Only"})]})]})})]}),w?(0,r.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"h-12 bg-gray-200 rounded"},t))}):0===v.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,r.jsx)(o.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,r.jsx)("p",{children:"No time entries found for the selected period."}),"talent"===s&&j&&(0,r.jsx)(i.z,{className:"mt-4",onClick:()=>R(!0),children:"Add Your First Time Entry"})]}):(0,r.jsxs)(c.iA,{children:[(0,r.jsx)(c.xD,{children:(0,r.jsxs)(c.SC,{children:[(0,r.jsx)(c.ss,{children:"Date"}),(0,r.jsx)(c.ss,{children:"Time"}),(0,r.jsx)(c.ss,{children:"Hours"}),(0,r.jsx)(c.ss,{children:"Category"}),(0,r.jsx)(c.ss,{children:"Description"}),(0,r.jsx)(c.ss,{children:"Status"}),"business"===s&&(0,r.jsx)(c.ss,{children:"Actions"})]})}),(0,r.jsx)(c.RM,{children:v.map(e=>(0,r.jsxs)(c.SC,{children:[(0,r.jsx)(c.pj,{children:(0,h.p6)(e.date)}),(0,r.jsx)(c.pj,{className:"font-mono text-sm",children:e.startTime&&e.endTime?"".concat(e.startTime," - ").concat(e.endTime):"-"}),(0,r.jsxs)(c.pj,{className:"font-semibold",children:["string"==typeof e.hours?parseFloat(e.hours):e.hours,"h"]}),(0,r.jsx)(c.pj,{children:e.category?(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(F(e.category)),children:e.category}):(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"-"})}),(0,r.jsxs)(c.pj,{className:"max-w-xs",children:[(0,r.jsx)("p",{className:"truncate",title:e.description,children:e.description}),"REJECTED"===e.status&&e.rejectionReason&&(0,r.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",e.rejectionReason]})]}),(0,r.jsx)(c.pj,{children:P(e.status)}),"business"===s&&(0,r.jsx)(c.pj,{children:"PENDING"===e.status&&(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)(i.z,{size:"sm",onClick:()=>z(e.id),children:"Approve"}),(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>{let t=prompt("Reason for rejection:");t&&_(e.id,t)},children:"Reject"})]})})]},e.id))})]})]})]})]})}},95937:function(e,t,s){s.d(t,{Cd:function(){return c},X:function(){return o},bZ:function(){return d}});var r=s(57437),a=s(2265),n=s(90535),i=s(93448);let l=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:a}),s),...n})});d.displayName="Alert";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...a})});c.displayName="AlertTitle";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...a})});o.displayName="AlertDescription"},69174:function(e,t,s){s.d(t,{C:function(){return l}});var r=s(57437);s(2265);var a=s(90535),n=s(93448);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},12381:function(e,t,s){s.d(t,{z:function(){return c}});var r=s(57437),a=s(2265),n=s(37053),i=s(90535),l=s(93448);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-white hover:bg-success/90",warning:"bg-warning text-white hover:bg-warning/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:c=!1,...o}=e,m=c?n.g7:"button";return(0,r.jsx)(m,{className:(0,l.cn)(d({variant:a,size:i,className:s})),ref:t,...o})});c.displayName="Button"},79820:function(e,t,s){s.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var r=s(57437),a=s(2265),n=s(93448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},74291:function(e,t,s){s.d(t,{$N:function(){return p},Be:function(){return h},Vq:function(){return d},cN:function(){return f},cZ:function(){return u},fK:function(){return x},hg:function(){return c}});var r=s(57437),a=s(2265),n=s(49027),i=s(32489),l=s(93448);let d=n.fC,c=n.xz,o=n.h_;n.x8;let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});m.displayName=n.aV.displayName;let u=a.forwardRef((e,t)=>{let{className:s,children:a,...d}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...d,children:[a,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.VY.displayName;let x=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let f=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};f.displayName="DialogFooter";let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});p.displayName=n.Dx.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});h.displayName=n.dk.displayName},40279:function(e,t,s){s.d(t,{I:function(){return i}});var r=s(57437),a=s(2265),n=s(93448);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},75060:function(e,t,s){s.d(t,{_:function(){return c}});var r=s(57437),a=s(2265),n=s(6394),i=s(90535),l=s(93448);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,l.cn)(d(),s),...a})});c.displayName=n.f.displayName},15291:function(e,t,s){s.d(t,{Bw:function(){return p},Ph:function(){return o},Ql:function(){return h},i4:function(){return u},ki:function(){return m}});var r=s(57437),a=s(2265),n=s(33911),i=s(40875),l=s(22135),d=s(30401),c=s(93448);let o=n.fC;n.ZA;let m=n.B4,u=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(n.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[a,(0,r.jsx)(n.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.xz.displayName;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});x.displayName=n.u_.displayName;let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=n.$G.displayName;let p=a.forwardRef((e,t)=>{let{className:s,children:a,position:i="popper",...l}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsxs)(n.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,r.jsx)(x,{}),(0,r.jsx)(n.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(f,{})]})})});p.displayName=n.VY.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=n.__.displayName;let h=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(n.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(n.eT,{children:a})]})});h.displayName=n.ck.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=n.Z0.displayName},33804:function(e,t,s){s.d(t,{RM:function(){return d},SC:function(){return c},iA:function(){return i},pj:function(){return m},ss:function(){return o},xD:function(){return l}});var r=s(57437),a=s(2265),n=s(93448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...a})})});i.displayName="Table";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...a})});l.displayName="TableHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...a})});d.displayName="TableBody",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})}).displayName="TableFooter";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});c.displayName="TableRow";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});o.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});m.displayName="TableCell",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...a})}).displayName="TableCaption"},23675:function(e,t,s){s.d(t,{g:function(){return i}});var r=s(57437),a=s(2265),n=s(93448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a})});i.displayName="Textarea"},93448:function(e,t,s){s.d(t,{SY:function(){return d},cn:function(){return n},p6:function(){return l},xG:function(){return i}});var r=s(61994),a=s(53335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CAD";return new Intl.NumberFormat("en-CA",{style:"currency",currency:t}).format(e)}function l(e){if(!e)return"Invalid date";let t=new Date(e);return isNaN(t.getTime())?"Invalid date":new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"long",day:"numeric"}).format(t)}function d(e){if(!e)return"Invalid date";let t=new Date,s=new Date(e);if(isNaN(s.getTime()))return"Invalid date";let r=Math.floor((t.getTime()-s.getTime())/1e3);return r<60?"just now":r<3600?"".concat(Math.floor(r/60),"m ago"):r<86400?"".concat(Math.floor(r/3600),"h ago"):r<2592e3?"".concat(Math.floor(r/86400),"d ago"):l(e)}}}]);