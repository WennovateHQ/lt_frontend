(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9147,6305],{35490:function(e,s,t){Promise.resolve().then(t.bind(t,1027))},1027:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return R}});var a=t(57437),l=t(2265),n=t(99376),i=t(27648),c=t(12381),r=t(71924),o=t(69174),d=t(23675),x=t(75060),m=t(79820),h=t(19672),u=t(43767),p=t(1442),j=t(77165),f=t(338),g=t(83365),v=t(42548),N=t(16546),y=t(58894),b=t(83727),w=t(65812),C=t(90990),S=t(93448),k=t(20322),I=t(43836);function A(e){let{applicationId:s,projectId:n}=e,[r,o]=(0,l.useState)(null),[d,x]=(0,l.useState)(!0),[m,u]=(0,l.useState)(null);(0,l.useEffect)(()=>{j()},[s]);let j=async()=>{try{x(!0);let{apiClient:e}=await Promise.resolve().then(t.bind(t,26305)),a=await e.get("/applications/".concat(s,"/contract"));console.log("Contract response:",a),a.hasContract&&a.contractId?o({id:a.contractId,status:a.contractStatus||"UNKNOWN",title:"Contract",createdAt:new Date().toISOString(),businessSignedAt:a.isFullySigned?new Date().toISOString():void 0,talentSignedAt:a.isFullySigned?new Date().toISOString():void 0}):o(null)}catch(s){var e;(null===(e=s.response)||void 0===e?void 0:e.status)===404?o(null):(console.error("Failed to check for contract:",s),u("Failed to check contract status"))}finally{x(!1)}};if(d)return(0,a.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})});if(m)return(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("p",{className:"text-red-600 text-sm",children:m}),(0,a.jsx)(c.z,{variant:"outline",size:"sm",onClick:j,className:"mt-2",children:"Try Again"})]});if(!r)return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(c.z,{asChild:!0,className:"w-full",children:(0,a.jsxs)(i.default,{href:"/business/projects/".concat(n,"/contracts/create?applicationId=").concat(s),children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Create Contract"]})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Create a contract to formalize the agreement"})]});let f=(e=>{if(!e)return{label:"Unknown",color:"text-gray-600",icon:h.Z};switch(e.toLowerCase()){case"draft":return{label:"Draft",color:"text-gray-600",icon:h.Z};case"pending_signatures":return{label:"Waiting for Signatures",color:"text-yellow-600",icon:k.Z};case"active":return{label:"Active",color:"text-green-600",icon:p.Z};case"completed":return{label:"Completed",color:"text-blue-600",icon:p.Z};default:return{label:e,color:"text-gray-600",icon:h.Z}}})(r.status),g=f.icon;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)(g,{className:"h-4 w-4 ".concat(f.color)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Contract Created"}),(0,a.jsx)("p",{className:"text-xs ".concat(f.color),children:f.label})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(c.z,{variant:"outline",size:"sm",asChild:!0,className:"w-full",children:(0,a.jsxs)(i.default,{href:"/business/contracts/".concat(r.id),children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"View Contract"]})}),"pending_signatures"===r.status&&(0,a.jsxs)("div",{className:"text-xs text-center text-gray-500 mt-1",children:[r.businessSignedAt&&!r.talentSignedAt&&"Waiting for talent to sign",!r.businessSignedAt&&"Waiting for signatures"]}),"active"===r.status&&(0,a.jsxs)(c.z,{variant:"outline",size:"sm",className:"w-full",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Manage Project"]})]})]})}function Z(e){var s,i,r;let{application:k,talentProfile:I,onStatusUpdate:Z,onScheduleInterview:z,onSendMessage:R,onRefresh:T}=e,[D,P]=(0,l.useState)(null),[L,O]=(0,l.useState)(""),[_,F]=(0,l.useState)(!1),[W,B]=(0,l.useState)(!1),[U,E]=(0,l.useState)(!1),[M,Y]=(0,l.useState)(null),[H,V]=(0,l.useState)(!1),G=(0,n.useRouter)(),q=(0,C.VD)(),Q=(0,w.iQ)(k.status);(0,l.useEffect)(()=>{"accepted"===k.status.toLowerCase()&&J()},[k.status,k.id]);let J=async()=>{try{V(!0);let{apiClient:e}=await Promise.resolve().then(t.bind(t,26305)),s=await e.get("/applications/".concat(k.id,"/contract"));Y(s)}catch(e){console.error("Failed to fetch contract status:",e),Y({hasContract:!1,canMessage:!1,needsContract:!0})}finally{V(!1)}},K=async e=>{P(e),"accepted"!==e&&"rejected"!==e&&await X(e)},X=async(e,s,t)=>{try{F(!0),await q.mutateAsync({applicationId:k.id,newStatus:e,notes:s,metadata:t}),null==Z||Z(e,s),P(null),O(""),setTimeout(()=>{(null==T?void 0:T())||window.location.reload()},1e3)}catch(e){console.error("Failed to update application status:",e)}finally{F(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[I.avatar?(0,a.jsx)("img",{src:I.avatar,alt:I.displayName||"Talent",className:"w-16 h-16 rounded-full"}):(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)(f.Z,{className:"h-8 w-8 text-gray-400"})}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1",children:(0,a.jsx)(o.C,{className:Q.bgColor+" "+Q.color,children:Q.label})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:I.displayName||"".concat(I.firstName||""," ").concat(I.lastName||"").trim()||I.email||"Talent"}),(0,a.jsx)("button",{onClick:()=>{E(!U)},className:"text-gray-400 hover:text-red-500",children:U?(0,a.jsx)(y.Z,{className:"h-5 w-5 text-red-500"}):(0,a.jsx)(g.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,a.jsx)("button",{onClick:()=>{let e=window.location.pathname;window.location.href="/business/talent/".concat(I.id,"?returnTo=").concat(encodeURIComponent(e))},className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"View Full Profile"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[I.rating&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 text-yellow-400"}),(0,a.jsx)("span",{children:I.rating.toFixed(1)}),(0,a.jsxs)("span",{children:["(",I.completedProjects||0," projects)"]})]}),(0,a.jsx)("span",{children:"•"})]}),(0,a.jsx)("span",{children:(null===(s=I.location)||void 0===s?void 0:s.city)||"Location not specified"}),I.responseTime&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Responds in ",I.responseTime]})]})]}),I.successRate&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Success Rate:"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[I.successRate,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Applied ",(0,S.SY)(k.createdAt||k.appliedAt)]}),k.viewedByClient&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-500 mt-1",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Viewed"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsxs)(m.ll,{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Proposal Summary"})]})}),(0,a.jsxs)(m.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"hourly"===k.rateType?"Proposed Rate:":"Proposed Budget:"}),(0,a.jsx)("p",{className:"font-medium text-lg",children:"hourly"===k.rateType?"".concat((0,S.xG)(k.proposedRate||0),"/hr"):(0,S.xG)(k.proposedBudget||0)})]}),k.estimatedHours&&"hourly"===k.rateType&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Estimated Hours:"}),(0,a.jsxs)("p",{className:"font-medium",children:[k.estimatedHours,"h"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Timeline:"}),(0,a.jsx)("p",{className:"font-medium",children:k.timeline||(null===(i=k.project)||void 0===i?void 0:i.duration)||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Start Date:"}),(0,a.jsx)("p",{className:"font-medium",children:k.startDate?(0,S.p6)(k.startDate):(null===(r=k.project)||void 0===r?void 0:r.startDate)?(0,S.p6)(k.project.startDate):"Not specified"})]})]}),"hourly"===k.rateType&&k.estimatedHours&&k.proposedRate&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Estimated Project Value:"}),(0,a.jsx)("span",{className:"font-semibold text-blue-600",children:(0,S.xG)(k.proposedRate*k.estimatedHours)})]})}),"fixed"===k.rateType&&k.proposedBudget&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Project Budget:"}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:(0,S.xG)(k.proposedBudget)})]})})]})]}),(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsxs)(m.ll,{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Cover Letter"})]})}),(0,a.jsx)(m.aY,{children:(0,a.jsxs)("div",{className:"prose prose-sm max-w-none",children:[(0,a.jsx)("p",{className:"text-gray-700 ".concat(W?"":"line-clamp-4"),children:k.coverLetter}),k.coverLetter.length>200&&(0,a.jsx)("button",{onClick:()=>B(!W),className:"text-blue-600 hover:text-blue-700 text-sm mt-2",children:W?"Show less":"Read more"})]})})]}),k.proposedApproach&&(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsx)(m.ll,{children:"Proposed Approach"})}),(0,a.jsx)(m.aY,{children:(0,a.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-gray-700 font-sans",children:k.proposedApproach})})})]}),k.questions&&(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsx)(m.ll,{children:"Questions from Candidate"})}),(0,a.jsx)(m.aY,{children:(0,a.jsxs)("div",{className:"border-l-4 border-blue-200 pl-4",children:[(0,a.jsx)("p",{className:"text-gray-700 font-medium",children:"Additional Questions/Comments:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2 whitespace-pre-wrap",children:k.questions})]})})]}),k.attachments&&k.attachments.length>0&&(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsx)(m.ll,{children:"Attachments"})}),(0,a.jsx)(m.aY,{children:(0,a.jsx)("div",{className:"space-y-2",children:k.attachments.map((e,s)=>{let t="string"==typeof e?e.split("/").pop()||"attachment-".concat(s+1):e.fileName||"attachment-".concat(s+1),l="string"==typeof e?e:e.url;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:t}),"object"==typeof e&&e.fileSize&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",(e.fileSize/1024/1024).toFixed(1)," MB)"]})]}),(0,a.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>{let e="http://localhost:5000/api".replace("/api",""),s=l.startsWith("http")?l:"".concat(e).concat(l);console.log("\uD83D\uDCE5 Download URL:",s),window.open(s,"_blank")},children:"Download"})]},e.id||t||s)})})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsx)(m.ll,{children:"Actions"})}),(0,a.jsxs)(m.aY,{className:"space-y-3",children:[(()=>{let e=k.status;switch("string"==typeof e?e.toLowerCase():e){case"pending":case"submitted":case"under_review":return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)(c.z,{variant:"outline",onClick:()=>K("shortlisted"),disabled:_,className:"w-full",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Shortlist"]}),(0,a.jsxs)(c.z,{variant:"outline",onClick:()=>K("accepted"),disabled:_,className:"w-full text-green-600 hover:text-green-700",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Accept Candidate"]}),(0,a.jsxs)(c.z,{variant:"outline",onClick:()=>K("rejected"),disabled:_,className:"w-full text-red-600 hover:text-red-700",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Decline"]})]});case"shortlisted":return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)(c.z,{onClick:()=>K("accepted"),disabled:_,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Accept Candidate"]}),(0,a.jsxs)(c.z,{variant:"outline",onClick:()=>K("rejected"),disabled:_,className:"w-full text-red-600 hover:text-red-700",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Decline"]})]});case"accepted":return(0,a.jsx)(A,{applicationId:k.id,projectId:k.projectId});default:return null}})(),"accepted"!==k.status.toLowerCase()?null:H?(0,a.jsxs)(c.z,{disabled:!0,className:"w-full",variant:"outline",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Checking Contract..."]}):M?M.needsContract?(0,a.jsxs)(c.z,{onClick:()=>{G.push("/business/projects/".concat(k.projectId,"/contracts/create?applicationId=").concat(k.id))},className:"w-full",variant:"outline",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Create Contract"]}):M.hasContract&&!M.canMessage?(0,a.jsxs)(c.z,{disabled:!0,className:"w-full",variant:"outline",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Waiting for Signatures"]}):M.canMessage&&M.contractId?(0,a.jsxs)(c.z,{onClick:async()=>{if(R)R();else try{G.push("/business/messages?conversationId=".concat(M.contractId))}catch(e){console.error("Failed to open conversation:",e),alert("Failed to open conversation. Please try again.")}},className:"w-full",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Send Message"]}):null:null]})]}),(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsx)(m.ll,{children:"Skills"})}),(0,a.jsx)(m.aY,{children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:(()=>{let e=I.skills||[];return 0===e.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No skills listed"}):e.map((e,s)=>{var t;let l=(null===(t=e.skill)||void 0===t?void 0:t.name)||e.name||e.skillName||"Skill ".concat(s+1),n=e.level?" (Level ".concat(e.level,")"):"";return(0,a.jsxs)(o.C,{variant:"secondary",children:[l,n]},e.id||e.skillId||s)})})()})})]}),(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsx)(m.ll,{children:"Rate Information"})}),(0,a.jsxs)(m.aY,{className:"space-y-3",children:[I.hourlyRate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Hourly Rate:"}),(0,a.jsxs)("p",{className:"font-medium",children:[(0,S.xG)(I.hourlyRate),"/hr"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"This Proposal:"}),(0,a.jsx)("p",{className:"font-medium text-lg",children:"hourly"===k.rateType?"".concat((0,S.xG)(k.proposedRate||0),"/hr"):(0,S.xG)(k.proposedBudget||0)})]})]})]})]})]}),("accepted"===D||"rejected"===D)&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(m.Zb,{className:"w-full max-w-md",children:[(0,a.jsx)(m.Ol,{children:(0,a.jsx)(m.ll,{children:"accepted"===D?"Accept Candidate":"Decline Application"})}),(0,a.jsxs)(m.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"action-notes",children:"accepted"===D?"Welcome Message":"Feedback (Optional)"}),(0,a.jsx)(d.g,{id:"action-notes",value:L,onChange:e=>O(e.target.value),placeholder:"accepted"===D?"Welcome to the team! Here's what happens next...":"Thank you for your interest. We've decided to move forward with another candidate..."})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(c.z,{onClick:()=>X(D,L),disabled:_,className:"accepted"===D?"bg-green-600 hover:bg-green-700":"",children:"accepted"===D?"Accept Candidate":"Decline Application"}),(0,a.jsx)(c.z,{variant:"outline",onClick:()=>P(null),children:"Cancel"})]})]})]})})]})}let z={id:"talent-1",firstName:"Alex",lastName:"Chen",displayName:"Alex Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",rating:4.9,completedProjects:23,skills:["React","Node.js","MongoDB","Stripe Integration","E-commerce","JavaScript","TypeScript","CSS","HTML"],hourlyRate:{min:65,max:85},location:"Vancouver, BC",responseTime:"2 hours",successRate:96};function R(){var e,s,t,o,d,x,m;let h=(0,n.useParams)(),u=(0,n.useRouter)(),[p,j]=(0,l.useState)(null),f=h.id,g=h.applicationId,{data:v,isLoading:N,error:y,refetch:b}=(0,C.IX)(g);(0,l.useEffect)(()=>{if(v&&(null==v?void 0:v.talent)){var e;let s=v.talent,t=s.profile||{},a=t.location,l=(null===(e=t.skills)||void 0===e?void 0:e.map(e=>({id:e.id,name:e.skill.name,level:e.level,experience:e.experience})))||[],n=a?"".concat(a.city||"",", ").concat(a.province||"",", ").concat(a.country||"").replace(/^,\s*|,\s*$/g,"").replace(/,\s*,/g,","):"Location not specified";j({id:s.id,firstName:t.firstName||"Unknown",lastName:t.lastName||"User",displayName:t.displayName||"".concat(t.firstName||"Unknown"," ").concat(t.lastName||"User"),avatar:t.avatar||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",skills:l,hourlyRate:t.hourlyRate?Number(t.hourlyRate):void 0,location:n})}else j(z)},[v]);let w=async(e,s)=>{console.log("Status updated:",e,s)},S=async e=>{console.log("Interview scheduled for:",e)};return N?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.default,{href:"/business/projects/".concat(f,"/applications"),children:(0,a.jsxs)(c.z,{variant:"ghost",size:"sm",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 mr-2"}),"Back to Applications"]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Application Review"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[(null==v?void 0:null===(e=v.project)||void 0===e?void 0:e.title)||"Loading..."," • ",(null==v?void 0:null===(o=v.project)||void 0===o?void 0:null===(t=o.business)||void 0===t?void 0:null===(s=t.profile)||void 0===s?void 0:s.companyName)||(null==v?void 0:null===(m=v.project)||void 0===m?void 0:null===(x=m.business)||void 0===x?void 0:null===(d=x.profile)||void 0===d?void 0:d.displayName)||"Loading..."]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.default,{href:"/business/projects/".concat(f,"/applications"),children:(0,a.jsx)(c.z,{variant:"outline",children:"View All Applications"})}),(0,a.jsx)(i.default,{href:"/business/projects/".concat(f),children:(0,a.jsx)(c.z,{variant:"outline",children:"View Project"})})]})]}),v&&p?(0,a.jsx)(Z,{application:v,talentProfile:p,onStatusUpdate:w,onScheduleInterview:S,onSendMessage:()=>{console.log("Opening message interface for talent:",null==p?void 0:p.id),(null==p?void 0:p.id)?u.push("/business/messages?talentId=".concat(p.id,"&applicationId=").concat(g)):alert("Unable to start conversation - talent information not available")},onRefresh:()=>b()}):(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading application details..."}),y&&(0,a.jsx)("p",{className:"text-red-600 mt-2",children:y instanceof Error?y.message:String(y)})]})})]})}},75060:function(e,s,t){"use strict";t.d(s,{_:function(){return o}});var a=t(57437),l=t(2265),n=t(6394),i=t(90535),c=t(93448);let r=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.f,{ref:s,className:(0,c.cn)(r(),t),...l})});o.displayName=n.f.displayName},23675:function(e,s,t){"use strict";t.d(s,{g:function(){return i}});var a=t(57437),l=t(2265),n=t(93448);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});i.displayName="Textarea"},26305:function(e,s,t){"use strict";t.d(s,{apiClient:function(){return n}});var a=t(83464);class l{async get(e,s){return(await this.client.get(e,s)).data}async post(e,s,t){return(await this.client.post(e,s,t)).data}async put(e,s,t){return(await this.client.put(e,s,t)).data}async patch(e,s,t){return(await this.client.patch(e,s,t)).data}async delete(e,s){return(await this.client.delete(e,s)).data}async getBlob(e,s){return(await this.client.get(e,{...s,responseType:"blob"})).data}constructor(){this.client=a.Z.create({baseURL:"http://localhost:5000/api",timeout:1e4,withCredentials:!0}),this.client.interceptors.request.use(e=>{let s=localStorage.getItem("token")||sessionStorage.getItem("token")||localStorage.getItem("localtalents_token")||localStorage.getItem("accessToken")||localStorage.getItem("localtalents_accessToken");return console.log("\uD83D\uDD0D API Client: Request interceptor",{url:e.url,hasToken:!!s}),s?(e.headers.Authorization="Bearer ".concat(s),console.log("✅ API Client: Added Authorization header")):console.log("❌ API Client: No token found in any storage location"),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var s,t;let l=e.config;if((null===(s=e.response)||void 0===s?void 0:s.status)===401&&!l._retry){l._retry=!0;try{let e=localStorage.getItem("refreshToken");if(e){let{accessToken:s}=(await a.Z.post("".concat(this.client.defaults.baseURL,"/auth/refresh"),{refreshToken:e})).data.tokens;return localStorage.setItem("token",s),l.headers.Authorization="Bearer ".concat(s),this.client(l)}}catch(s){localStorage.removeItem("token"),localStorage.removeItem("refreshToken");let e=window.location.pathname;return(e.startsWith("/business")||e.startsWith("/talent")||e.startsWith("/admin"))&&(window.location.href="/login"),Promise.reject(s)}}if((null===(t=e.response)||void 0===t?void 0:t.status)===401){let e=window.location.pathname,s=e.startsWith("/business")||e.startsWith("/talent")||e.startsWith("/admin");localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),s&&(window.location.href="/login")}return Promise.reject(e)})}}let n=new l}},function(e){e.O(0,[6137,3464,2972,7954,4561,7761,8962,2971,2117,1744],function(){return e(e.s=35490)}),_N_E=e.O()}]);