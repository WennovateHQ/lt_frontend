(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5853],{84282:function(e,t,n){Promise.resolve().then(n.bind(n,58575))},27648:function(e,t,n){"use strict";n.d(t,{default:function(){return r.a}});var s=n(72972),r=n.n(s)},99376:function(e,t,n){"use strict";var s=n(35475);n.o(s,"useParams")&&n.d(t,{useParams:function(){return s.useParams}}),n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})},58575:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var s=n(57437),r=n(2265),l=n(73635),a=n(99376),i=n(45710),o=n(27648),c=n(12381),d=n(79820),u=n(69174),m=n(71924),p=n(83365),x=n(89681),h=n(56422),f=n(41077);let v=r.forwardRef(function(e,t){let{title:n,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))});var g=n(34823),j=n(59055),b=n(20322),y=n(13363),w=n(58894),N=n(93448);let k={remote:"bg-green-100 text-green-800",hybrid:"bg-blue-100 text-blue-800",onsite:"bg-purple-100 text-purple-800"};function D(){var e,t,n,l,D,C,A,E,R;let{user:L}=(0,i.a)(),S=(0,a.useParams)();(0,a.useRouter)();let[Z,T]=(0,r.useState)(null),[P,I]=(0,r.useState)(!0),[O,M]=(0,r.useState)(null),[B,W]=(0,r.useState)(!1),[z,F]=(0,r.useState)(!1),[_,V]=(0,r.useState)(null),Y=async e=>{try{let t=await fetch("http://localhost:5000/api/applications/my",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!t.ok){console.error("Failed to fetch applications:",t.status);return}let n=await t.json();console.log("\uD83D\uDD0D User applications:",n);let s=n.find(t=>t.projectId===e);s?(console.log("✅ User has already applied to this project:",s),F(!0),V(s)):(console.log("ℹ️ User has not applied to this project yet"),F(!1),V(null))}catch(e){console.error("❌ Error checking application status:",e)}},H=async e=>{var t,n;console.log("\uD83D\uDD0D Fetching opportunity details for ID:",e),console.log("\uD83D\uDD0D Token storage check:",{token:!!localStorage.getItem("token"),sessionToken:!!sessionStorage.getItem("token"),prefixedToken:!!localStorage.getItem("localtalents_token"),accessToken:!!localStorage.getItem("accessToken"),prefixedAccessToken:!!localStorage.getItem("localtalents_accessToken"),refreshToken:!!localStorage.getItem("refreshToken"),tokenPreview:(null===(t=localStorage.getItem("token"))||void 0===t?void 0:t.substring(0,30))+"..."});try{let t=await fetch("http://localhost:5000/api/projects/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch opportunity: ".concat(t.status));let s=await t.json();console.log("✅ API Response received:",s);let r=s.project||s;return console.log("✅ Opportunity data loaded:",r),console.log("\uD83D\uDD0D Data structure check:",{hasTitle:!!r.title,hasDescription:!!r.description,hasBusiness:!!r.business,hasSkills:!!r.skills,skillsType:typeof r.skills,skillsLength:null===(n=r.skills)||void 0===n?void 0:n.length,hasBudget:!!(r.budgetMin&&r.budgetMax)}),r}catch(e){throw console.error("❌ Error fetching opportunity:",e),e}};if((0,r.useEffect)(()=>{(async()=>{if(S.id)try{I(!0),M(null);let e=await H(S.id);T(e),await Y(S.id)}catch(e){console.error("❌ Error loading opportunity:",e),M("Failed to load opportunity details")}finally{I(!1)}})()},[S.id]),P)return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4"}),(0,s.jsx)("div",{className:"h-64 bg-gray-200 rounded mb-4"}),(0,s.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})});if(O||!Z)return(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-red-600 mb-4",children:O||"Opportunity not found"}),(0,s.jsx)(o.default,{href:"/talent/opportunities",children:(0,s.jsx)(c.z,{children:"Back to Opportunities"})})]});let G={title:(null==Z?void 0:Z.title)||(null==Z?void 0:Z.name)||"Project Title",company:(null==Z?void 0:null===(t=Z.business)||void 0===t?void 0:null===(e=t.profile)||void 0===e?void 0:e.companyName)||(null==Z?void 0:null===(l=Z.business)||void 0===l?void 0:null===(n=l.profile)||void 0===n?void 0:n.displayName)||"Company Name",description:(null==Z?void 0:Z.description)||"No description available",budget:(null==Z?void 0:Z.budgetMin)&&(null==Z?void 0:Z.budgetMax)?{min:Z.budgetMin,max:Z.budgetMax}:{min:50,max:150},location:(null==Z?void 0:Z.city)||(null==Z?void 0:Z.location)||((null==Z?void 0:Z.isRemote)?"Remote":"On-site"),province:null==Z?void 0:Z.province,workArrangement:(null==Z?void 0:Z.isRemote)?"remote":(null==Z?void 0:Z.workType)||(null==Z?void 0:Z.workArrangement)||"onsite",timeline:(null==Z?void 0:Z.timeline)||(null==Z?void 0:Z.duration)||"Flexible",skills:(null==Z?void 0:Z.skills)||[],applicationsCount:(null==Z?void 0:null===(D=Z._count)||void 0===D?void 0:D.applications)||(null==Z?void 0:Z.applicationsCount)||0,contractsCount:(null==Z?void 0:null===(C=Z._count)||void 0===C?void 0:C.contracts)||0,postedAt:(null==Z?void 0:Z.createdAt)||new Date().toISOString(),publishedAt:null==Z?void 0:Z.publishedAt,updatedAt:null==Z?void 0:Z.updatedAt,status:(null==Z?void 0:Z.status)||"PUBLISHED",type:null==Z?void 0:Z.type,hourlyRate:null==Z?void 0:Z.hourlyRate,experienceLevel:null==Z?void 0:Z.experienceLevel,startDate:null==Z?void 0:Z.startDate,endDate:null==Z?void 0:Z.endDate,isRemote:null==Z?void 0:Z.isRemote,businessId:null==Z?void 0:Z.businessId,projectId:null==Z?void 0:Z.id};return console.log("\uD83D\uDCCA Display data processed:",G),console.log("\uD83D\uDD0D Skills processing:",{originalSkills:null==Z?void 0:Z.skills,processedSkills:G.skills,skillsCount:(null===(A=G.skills)||void 0===A?void 0:A.length)||0}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(o.default,{href:"/talent/opportunities",children:(0,s.jsxs)(c.z,{variant:"ghost",size:"sm",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Back to Opportunities"]})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>{W(!B)},children:B?(0,s.jsx)(w.Z,{className:"h-5 w-5 text-red-500"}):(0,s.jsx)(p.Z,{className:"h-5 w-5"})})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ll,{className:"text-2xl mb-2",children:G.title}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:G.company})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[G.location,G.province&&"Remote"!==G.location&&(0,s.jsxs)("span",{children:[", ",G.province]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Posted ",(0,N.SY)(G.postedAt)]})]}),G.publishedAt&&G.publishedAt!==G.postedAt&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(v,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Published ",(0,N.SY)(G.publishedAt)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(u.C,{className:G.applicationsCount>0?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",children:G.applicationsCount>0?"Reviewing Applications":"Not Yet Reviewed"}),G.type&&(0,s.jsx)(u.C,{variant:"outline",children:"FIXED_PRICE"===G.type?"Fixed Price":"Hourly"}),G.experienceLevel&&(0,s.jsxs)(u.C,{variant:"outline",className:"flex items-center gap-1",children:[(0,s.jsx)(g.Z,{className:"h-3 w-3"}),G.experienceLevel]}),(null==Z?void 0:Z.industry)&&(0,s.jsx)(u.C,{variant:"outline",children:Z.industry})]})]})})}),(0,s.jsxs)(d.aY,{children:[(0,s.jsxs)("div",{className:"prose max-w-none",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Project Description"}),(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:G.description})]}),(null==Z?void 0:Z.additionalRequirements)&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,s.jsxs)("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[(0,s.jsx)(j.Z,{className:"h-5 w-5 text-blue-600"}),"Additional Requirements"]}),(0,s.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:Z.additionalRequirements})]}),(G.startDate||G.endDate||G.timeline)&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"}),"Project Timeline"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[G.startDate&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Start Date:"}),(0,s.jsx)("div",{className:"font-medium",children:(0,N.p6)(G.startDate)})]}),G.endDate&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"End Date:"}),(0,s.jsx)("div",{className:"font-medium",children:(0,N.p6)(G.endDate)})]}),G.timeline&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Duration:"}),(0,s.jsx)("div",{className:"font-medium",children:G.timeline})]})]})]})]})]}),G.skills.length>0&&(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(y.Z,{className:"h-5 w-5"}),"Required Skills"]})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:G.skills.map((e,t)=>{var n;return(0,s.jsxs)(u.C,{variant:e.required?"default":"secondary",className:e.required?"bg-blue-600 text-white":"",children:[(null===(n=e.skill)||void 0===n?void 0:n.name)||e.name||("string"==typeof e?e:"Unknown Skill"),e.required&&(0,s.jsx)("span",{className:"ml-1 text-xs",children:"*"}),e.level&&(0,s.jsxs)("span",{className:"ml-1 text-xs",children:["(",e.level,"/5)"]})]},e.id||t)})}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,s.jsx)(j.Z,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"* Required skills"})]})]})})]}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-5 w-5"}),"About the Client"]})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(null==Z?void 0:null===(R=Z.business)||void 0===R?void 0:null===(E=R.profile)||void 0===E?void 0:E.avatar)?(0,s.jsx)("img",{src:Z.business.profile.avatar,alt:G.company,className:"w-12 h-12 rounded-full object-cover"}):(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:(0,s.jsx)(x.Z,{className:"h-6 w-6 text-gray-500"})}),(0,s.jsx)("div",{children:(0,s.jsx)("h4",{className:"font-medium",children:G.company})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm pt-3 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Projects Posted:"}),(0,s.jsx)("div",{className:"font-medium",children:"View Profile"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Member Since:"}),(0,s.jsx)("div",{className:"font-medium",children:(0,N.p6)(G.postedAt)})]})]})]})})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)(d.ll,{children:"Project Details"})}),(0,s.jsxs)(d.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:(null==Z?void 0:Z.type)==="HOURLY"?"Hourly Rate":"Project Budget"}),(0,s.jsx)("span",{className:"font-medium",children:(null==Z?void 0:Z.type)==="HOURLY"?(null==Z?void 0:Z.hourlyRate)?"".concat((0,N.xG)(Z.hourlyRate),"/hr"):G.budget.min&&G.budget.max?"".concat((0,N.xG)(G.budget.min),"-").concat((0,N.xG)(G.budget.max),"/hr"):"".concat((0,N.xG)(G.budget.min||G.budget.max),"/hr"):"".concat((0,N.xG)(G.budget.min)," - ").concat((0,N.xG)(G.budget.max))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Timeline"}),(0,s.jsx)("span",{className:"font-medium",children:G.timeline})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Applications"}),(0,s.jsx)("span",{className:"font-medium",children:G.applicationsCount})]}),G.contractsCount>0&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Active Contracts"}),(0,s.jsx)("span",{className:"font-medium",children:G.contractsCount})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Work Type"}),(0,s.jsx)(u.C,{className:k[G.workArrangement],children:"remote"===G.workArrangement?"Remote":"hybrid"===G.workArrangement?"Hybrid":"On-site"})]}),(null==Z?void 0:Z.experienceLevel)&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Experience Level"}),(0,s.jsx)("span",{className:"font-medium",children:Z.experienceLevel})]}),(null==Z?void 0:Z.type)&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Project Type"}),(0,s.jsx)("span",{className:"font-medium",children:"FIXED_PRICE"===Z.type?"Fixed Price":"Hourly"})]}),(null==Z?void 0:Z.industry)&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Industry"}),(0,s.jsx)("span",{className:"font-medium",children:Z.industry})]}),(null==Z?void 0:Z.locationNotes)&&(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600 block mb-2",children:"Location Notes"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:Z.locationNotes})]}),(null==Z?void 0:Z.attachments)&&Z.attachments.length>0&&(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600 block mb-2",children:"Project Attachments"}),(0,s.jsx)("div",{className:"space-y-2",children:Z.attachments.map((e,t)=>{let n=e.split("/").pop()||e,r=e.startsWith("http")?e:"http://localhost:5000/".concat(e);return(0,s.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:[(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),n]},t)})})]}),(0,s.jsxs)("div",{className:"pt-4 border-t space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{children:"Project ID:"}),(0,s.jsx)("span",{className:"font-mono",children:G.projectId})]}),G.updatedAt&&G.updatedAt!==G.postedAt&&(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{children:"Last Updated:"}),(0,s.jsx)("span",{children:(0,N.SY)(G.updatedAt)})]})]})]})]}),(0,s.jsx)(d.Zb,{children:(0,s.jsx)(d.aY,{className:"p-6 space-y-4",children:z&&_?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(v,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-blue-900 mb-1",children:"You've Applied!"}),(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:["You submitted your application on ",(0,N.p6)(_.createdAt)]}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)(u.C,{className:"PENDING"===_.status?"bg-yellow-100 text-yellow-800":"REVIEWED"===_.status?"bg-blue-100 text-blue-800":"SHORTLISTED"===_.status?"bg-purple-100 text-purple-800":"ACCEPTED"===_.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:["Status: ",_.status]})})]})]})}),(0,s.jsx)(c.z,{className:"w-full",size:"lg",disabled:!0,variant:"secondary",children:"Already Applied"}),(0,s.jsx)(o.default,{href:"/talent/applications",children:(0,s.jsx)(c.z,{className:"w-full",size:"sm",variant:"outline",children:"View My Applications"})})]}):(0,s.jsx)(o.default,{href:"/talent/opportunities/".concat(S.id,"/apply"),children:(0,s.jsx)(c.z,{className:"w-full",size:"lg",children:"Apply for this Project"})})})})]})]})]})}function C(){return(0,s.jsx)(l.a,{requiredUserType:"talent",children:(0,s.jsx)(D,{})})}},73635:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var s=n(57437),r=n(2265),l=n(99376),a=n(45710);function i(e){let{children:t,requiredUserType:n,fallbackPath:i="/login"}=e,{user:o,loading:c}=(0,a.a)(),d=(0,l.useRouter)();return((0,r.useEffect)(()=>{if(!c){if(!o){console.log("\uD83D\uDD12 AuthGuard: No authenticated user, redirecting to login"),d.push(i);return}if(n&&o.userType.toLowerCase()!==n.toLowerCase()){console.log("\uD83D\uDD12 AuthGuard: User type ".concat(o.userType," not authorized for ").concat(n," pages"));let e="admin"===o.userType.toLowerCase()?"/admin":"business"===o.userType.toLowerCase()?"/business":"/talent";d.push(e);return}console.log("✅ AuthGuard: User authorized",{userType:o.userType,requiredType:n})}},[o,c,n,d,i]),c)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):!o||n&&o.userType.toLowerCase()!==n.toLowerCase()?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Redirecting..."})]})}):(0,s.jsx)(s.Fragment,{children:t})}},69174:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var s=n(57437);n(2265);var r=n(90535),l=n(93448);let a=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(a({variant:n}),t),...r})}},12381:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var s=n(57437),r=n(2265),l=n(37053),a=n(90535),i=n(93448);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-white hover:bg-success/90",warning:"bg-warning text-white hover:bg-warning/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:n,variant:r,size:a,asChild:c=!1,...d}=e,u=c?l.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:r,size:a,className:n})),ref:t,...d})});c.displayName="Button"},79820:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return a},aY:function(){return d},ll:function(){return o}});var s=n(57437),r=n(2265),l=n(93448);let a=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})});a.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",n),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",n),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",n),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",n),...r})}).displayName="CardFooter"},93448:function(e,t,n){"use strict";n.d(t,{SY:function(){return o},cn:function(){return l},p6:function(){return i},xG:function(){return a}});var s=n(61994),r=n(53335);function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,s.W)(t))}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CAD";return new Intl.NumberFormat("en-CA",{style:"currency",currency:t}).format(e)}function i(e){if(!e)return"Invalid date";let t=new Date(e);return isNaN(t.getTime())?"Invalid date":new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"long",day:"numeric"}).format(t)}function o(e){if(!e)return"Invalid date";let t=new Date,n=new Date(e);if(isNaN(n.getTime()))return"Invalid date";let s=Math.floor((t.getTime()-n.getTime())/1e3);return s<60?"just now":s<3600?"".concat(Math.floor(s/60),"m ago"):s<86400?"".concat(Math.floor(s/3600),"h ago"):s<2592e3?"".concat(Math.floor(s/86400),"d ago"):i(e)}},34823:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))});t.Z=r},71924:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});t.Z=r},13363:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))});t.Z=r},89681:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))});t.Z=r},41077:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))});t.Z=r},20322:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=r},83365:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))});t.Z=r},59055:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))});t.Z=r},56422:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))});t.Z=r},58894:function(e,t,n){"use strict";var s=n(2265);let r=s.forwardRef(function(e,t){let{title:n,titleId:r,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))});t.Z=r},98575:function(e,t,n){"use strict";n.d(t,{F:function(){return l},e:function(){return a}});var s=n(2265);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let n=!1,s=e.map(e=>{let s=r(e,t);return n||"function"!=typeof s||(n=!0),s});if(n)return()=>{for(let t=0;t<s.length;t++){let n=s[t];"function"==typeof n?n():r(e[t],null)}}}}function a(...e){return s.useCallback(l(...e),e)}},37053:function(e,t,n){"use strict";n.d(t,{Z8:function(){return a},g7:function(){return i}});var s=n(2265),r=n(98575),l=n(57437);function a(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:n,...l}=e;if(s.isValidElement(n)){let e,a;let i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref,o=function(e,t){let n={...t};for(let s in t){let r=e[s],l=t[s];/^on[A-Z]/.test(s)?r&&l?n[s]=(...e)=>{let t=l(...e);return r(...e),t}:r&&(n[s]=r):"style"===s?n[s]={...r,...l}:"className"===s&&(n[s]=[r,l].filter(Boolean).join(" "))}return{...e,...n}}(l,n.props);return n.type!==s.Fragment&&(o.ref=t?(0,r.F)(t,i):i),s.cloneElement(n,o)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=s.forwardRef((e,n)=>{let{children:r,...a}=e,i=s.Children.toArray(r),o=i.find(c);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...a,ref:n,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,l.jsx)(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var i=a("Slot"),o=Symbol("radix.slottable");function c(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},90535:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var s=n(61994);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=s.W,a=(e,t)=>n=>{var s;if((null==t?void 0:t.variants)==null)return l(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(e=>{let t=null==n?void 0:n[e],s=null==i?void 0:i[e];if(null===t)return null;let l=r(t)||r(s);return a[e][l]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,s]=t;return void 0===s||(e[n]=s),e},{});return l(e,o,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:n,className:s,...r}=t;return Object.entries(r).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...c}[t]):({...i,...c})[t]===n})?[...e,n,s]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[6137,3464,2972,5710,2971,2117,1744],function(){return e(e.s=84282)}),_N_E=e.O()}]);