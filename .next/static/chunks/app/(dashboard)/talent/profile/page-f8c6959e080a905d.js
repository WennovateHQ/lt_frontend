(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9973],{49884:function(e,a,s){Promise.resolve().then(s.bind(s,93753))},93753:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return G}});var t=s(57437),l=s(2265),r=s(45710),i=s(73635),n=s(12381),o=s(79820),c=s(69174),d=s(42548),u=s(69390),m=s(13363),x=s(34823),p=s(16546),h=s(56422),v=s(47842),g=s(338),j=s(13652),f=s(1442),y=s(12594),N=s(26305),b=s(14438),w=s(40279),C=s(23675),k=s(75060),S=s(15291),D=s(58569);function A(e){var a,s,r,i;let{profile:n,setProfile:c,updateProfile:d,updateLocation:u,updateAvailability:m,isEditing:x}=e;console.log("OverviewTab profile:",n),console.log("OverviewTab isEditing:",x),console.log("OverviewTab availability:",null==n?void 0:n.availability);let[p,h]=(0,l.useState)((null==n?void 0:null===(s=n.availability)||void 0===s?void 0:null===(a=s.hoursPerWeek)||void 0===a?void 0:a.toString())||"40"),[v,g]=(0,l.useState)((null==n?void 0:null===(r=n.availability)||void 0===r?void 0:r.startDate)||new Date().toISOString().split("T")[0]);return n&&!n.availability&&(n.availability={status:"AVAILABLE",hoursPerWeek:40,startDate:new Date().toISOString().split("T")[0]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsx)(o.ll,{children:"Basic Information"})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("img",{src:n.avatar,alt:"".concat(n.firstName," ").concat(n.lastName),className:"w-20 h-20 rounded-full"}),(0,t.jsx)("div",{className:"flex-1",children:x?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(w.I,{value:n.firstName,onChange:e=>c(a=>({...a,profile:{...a.profile,firstName:e.target.value}})),placeholder:"First Name"}),(0,t.jsx)(w.I,{value:n.lastName,onChange:e=>c(a=>({...a,profile:{...a.profile,lastName:e.target.value}})),placeholder:"Last Name"})]}),(0,t.jsx)(w.I,{value:n.title,onChange:e=>c(a=>({...a,profile:{...a.profile,title:e.target.value}})),placeholder:"Professional Title"})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:[n.firstName," ",n.lastName]}),(0,t.jsx)("p",{className:"text-gray-600",children:n.title})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Email"}),x?(0,t.jsx)(w.I,{type:"email",value:n.email,onChange:e=>c(a=>({...a,email:e.target.value}))}):(0,t.jsx)("p",{className:"text-gray-900",children:n.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Phone"}),x?(0,t.jsx)(w.I,{value:n.phone,onChange:e=>c(a=>({...a,profile:{...a.profile,phone:e.target.value}}))}):(0,t.jsx)("p",{className:"text-gray-900",children:n.phone})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)(k._,{children:"Location"}),x?(0,t.jsx)(D.B,{value:n.location,onChange:(e,a)=>{let s={city:e,province:a,country:"Canada"};c(e=>({...e,profile:{...e.profile,location:s}})),u&&u(s)},placeholder:"Search for your city..."}):(0,t.jsx)("p",{className:"text-gray-900",children:n.location})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Professional Bio"}),x?(0,t.jsx)(C.g,{value:n.bio,onChange:e=>c(a=>({...a,profile:{...a.profile,bio:e.target.value}})),rows:4,placeholder:"Tell clients about your experience, expertise, and what makes you unique..."}):(0,t.jsx)("p",{className:"text-gray-700",children:n.bio})]})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsx)(o.ll,{children:"Availability & Status"})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Current Status"}),x?(0,t.jsxs)(S.Ph,{value:(null===(i=n.availability)||void 0===i?void 0:i.status)||"AVAILABLE",onValueChange:e=>{let a={...n.availability,status:e};c(e=>({...e,availability:a})),m&&m(a)},children:[(0,t.jsx)(S.i4,{children:(0,t.jsx)(S.ki,{placeholder:"Select status"})}),(0,t.jsxs)(S.Bw,{children:[(0,t.jsx)(S.Ql,{value:"AVAILABLE",children:"Available"}),(0,t.jsx)(S.Ql,{value:"BUSY",children:"Busy"}),(0,t.jsx)(S.Ql,{value:"UNAVAILABLE",children:"Unavailable"})]})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("AVAILABLE"===n.availability.status?"bg-green-500":"BUSY"===n.availability.status?"bg-red-500":"bg-yellow-500")}),(0,t.jsx)("span",{className:"capitalize font-medium",children:n.availability.status})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(k._,{children:["Hours per Week ",x?"(EDITING MODE)":"(VIEW MODE)"]}),x?(0,t.jsx)("input",{type:"number",min:"1",max:"80",value:p,onChange:e=>{var a,s;console.log("Hours per week onChange triggered:",e.target.value),h(e.target.value);let t=parseInt(e.target.value)||40,l={status:(null===(a=n.availability)||void 0===a?void 0:a.status)||"AVAILABLE",hoursPerWeek:t,startDate:(null===(s=n.availability)||void 0===s?void 0:s.startDate)||new Date().toISOString().split("T")[0]};console.log("Setting availability data:",l),c(e=>({...e,availability:l}))},onBlur:e=>{var a,s;console.log("Hours per week onBlur triggered:",e.target.value);let t=parseInt(e.target.value)||40,l={status:(null===(a=n.availability)||void 0===a?void 0:a.status)||"AVAILABLE",hoursPerWeek:t,startDate:(null===(s=n.availability)||void 0===s?void 0:s.startDate)||new Date().toISOString().split("T")[0]};m&&m(l)},placeholder:"40",disabled:!1,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}):(0,t.jsxs)("p",{className:"text-gray-900",children:[n.availability.hoursPerWeek," hours"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(k._,{children:["Available From ",x?"(EDITING MODE)":"(VIEW MODE)"]}),x?(0,t.jsx)("input",{type:"date",value:v,onChange:e=>{var a;console.log("Available from onChange triggered:",e.target.value),g(e.target.value);let s={status:(null===(a=n.availability)||void 0===a?void 0:a.status)||"AVAILABLE",hoursPerWeek:parseInt(p)||40,startDate:e.target.value};console.log("Setting availability data (date):",s),c(e=>({...e,availability:s}))},onBlur:e=>{var a;console.log("Available from onBlur triggered:",e.target.value);let s={status:(null===(a=n.availability)||void 0===a?void 0:a.status)||"AVAILABLE",hoursPerWeek:parseInt(p)||40,startDate:e.target.value};m&&m(s)},disabled:!1,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}):(0,t.jsx)("p",{className:"text-gray-900",children:n.availability.startDate})]})]})]})]})]})}var P=s(60828),E=s(18930),I=s(81211);function L(e){let{profile:a,handleSkillsChange:s,isEditing:r}=e,i=()=>(null==a?void 0:a.skills)?a.skills.map(e=>{var a,s;return{name:(null===(a=e.skill)||void 0===a?void 0:a.name)||e.name||e,level:e.level||3,years:e.experience||e.years||1,category:(null===(s=e.skill)||void 0===s?void 0:s.category)||e.category||"General"}}):[],[d,u]=(0,l.useState)(i()),[m,x]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1);l.useEffect(()=>{console.log("\uD83D\uDD04 Skills: Profile changed, updating skills from profile:",null==a?void 0:a.skills);let e=i();console.log("\uD83D\uDD04 Skills: Parsed skills:",e),u(e),h(!1)},[null==a?void 0:a.skills]),l.useEffect(()=>{!r&&p&&(console.log("\uD83D\uDD04 Skills: Saving changes to backend...",d),s(d),h(!1))},[r,p]);let v=e=>{u(d.filter((a,s)=>s!==e)),h(!0)},g=(e,a,s)=>{u(d.map((t,l)=>l===e?{...t,[a]:s}:t)),h(!0)},j=e=>["","Beginner","Intermediate","Advanced","Expert","Master"][e]||"Intermediate",f=e=>["","bg-red-100 text-red-800","bg-yellow-100 text-yellow-800","bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-purple-100 text-purple-800"][e]||"bg-blue-100 text-blue-800";return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o.ll,{children:"Skills & Experience"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[p&&r&&(0,t.jsx)(c.C,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Unsaved Changes"}),p&&r&&(0,t.jsx)(n.z,{onClick:()=>{console.log("\uD83D\uDD04 Skills: Manual save triggered",d),s(d),h(!1)},size:"sm",variant:"outline",children:"Save Skills Now"})]})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Add your skills with experience level and years of experience",p&&r&&(0,t.jsx)("span",{className:"text-yellow-600 ml-2",children:'• Click "Save Changes" to save your updates'})]})]}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[r&&(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("h5",{className:"font-medium mb-3",children:"Add Skills"}),(0,t.jsx)(P.L,{selectedSkills:d.map(e=>e.name),onSkillsChange:e=>{let a=(0,I.XQ)();u(e.map(e=>{let s=d.find(a=>a.name===e);if(s)return s;let t=a.find(a=>a.name.toLowerCase()===e.toLowerCase());return{name:e,level:3,years:1,category:(null==t?void 0:t.category)||"General"}})),h(!0)},maxSkills:20,showCategories:!0,showPopular:!0,allowCustomSkills:!0,placeholder:"Search for skills to add..."})]})}),(0,t.jsx)("div",{className:"space-y-3",children:d.map((e,a)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"font-medium text-lg",children:e.name}),r&&(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>v(a),className:"text-red-600 hover:text-red-800",children:(0,t.jsx)(E.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{className:"text-sm font-medium",children:"Experience Level"}),r?(0,t.jsxs)(S.Ph,{value:e.level.toString(),onValueChange:e=>g(a,"level",parseInt(e)),children:[(0,t.jsx)(S.i4,{children:(0,t.jsx)(S.ki,{})}),(0,t.jsxs)(S.Bw,{children:[(0,t.jsx)(S.Ql,{value:"1",children:"Beginner"}),(0,t.jsx)(S.Ql,{value:"2",children:"Intermediate"}),(0,t.jsx)(S.Ql,{value:"3",children:"Advanced"}),(0,t.jsx)(S.Ql,{value:"4",children:"Expert"}),(0,t.jsx)(S.Ql,{value:"5",children:"Master"})]})]}):(0,t.jsx)(c.C,{className:"".concat(f(e.level)," mt-1"),children:j(e.level)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{className:"text-sm font-medium",children:"Years of Experience"}),r?(0,t.jsx)(w.I,{type:"number",min:"0",max:"50",value:e.years,onChange:e=>g(a,"years",parseInt(e.target.value)||0),className:"mt-1"}):(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.years," ",1===e.years?"year":"years"]})]})]})]},a))}),0===d.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("p",{children:"No skills added yet."}),r&&(0,t.jsx)("p",{className:"text-sm mt-1",children:"Add your first skill above to get started."})]}),d.length>0&&(0,t.jsx)(o.Zb,{className:"bg-blue-50 border-blue-200 mt-6",children:(0,t.jsx)(o.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:d.length})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900",children:"Skills Summary"}),(0,t.jsxs)("p",{className:"text-sm text-blue-800 mt-1",children:["You have ",d.length," skills with an average of"," ",Math.round(d.reduce((e,a)=>e+a.years,0)/d.length)," years experience.",d.filter(e=>e.level>=4).length>0&&" You have ".concat(d.filter(e=>e.level>=4).length," expert-level skills.")]})]})]})})})]})]})})}var Z=s(43836),U=s(87233),z=s(77165),F=s(19967);function O(e){let{profile:a,addPortfolioItem:s,updatePortfolioItem:r,removePortfolioItem:i,isEditing:u}=e,[x,p]=(0,l.useState)({}),h=(0,l.useRef)({});(0,l.useEffect)(()=>()=>{Object.values(x).forEach(e=>{e.imageUrl&&e.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(e.imageUrl)})},[x]);let v=e=>{p(a=>({...a,[e.id]:{...e}}))},g=(e,a,s)=>{p(t=>({...t,[e]:{...t[e],[a]:s}}))},j=e=>{let a=x[e];if(a){a.imageUrl&&a.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(a.imageUrl);let{imageFile:s,isUploadingImage:t,...l}=a;r(e,l),p(a=>{let s={...a};return delete s[e],s})}},f=e=>{p(a=>{let s=a[e];s&&s.imageUrl&&s.imageUrl.startsWith("blob:")&&URL.revokeObjectURL(s.imageUrl);let t={...a};return delete t[e],t})},y=async(e,s)=>{try{g(e,"isUploadingImage",!0),console.log("\uD83D\uDCF8 Starting portfolio image upload...",{fileName:s.name,size:s.size});let a=new FormData;a.append("image",s);let t=await N.apiClient.post("/users/portfolio/upload-image",a,{headers:{"Content-Type":"multipart/form-data"}});console.log("✅ Portfolio image uploaded successfully:",t),g(e,"imageUrl",t.imageUrl),g(e,"imageFile",null),g(e,"isUploadingImage",!1)}catch(t){console.error("❌ Portfolio image upload failed:",t),g(e,"isUploadingImage",!1);let s=a.portfolio.find(a=>a.id===e);s?g(e,"imageUrl",s.imageUrl):g(e,"imageUrl",null),alert("Failed to upload image. Please try again.")}},b=e=>x[e.id]||e,k=e=>x.hasOwnProperty(e);return(0,t.jsxs)("div",{className:"space-y-6",children:[u&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(n.z,{onClick:s,children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Add Portfolio Item"]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.portfolio.map(e=>{var a;let s=b(e),l=k(e.id);return(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)(o.ll,{className:"text-lg",children:l?(0,t.jsx)(w.I,{value:s.title,onChange:a=>g(e.id,"title",a.target.value),placeholder:"Project Title"}):s.title}),(0,t.jsx)("div",{className:"flex gap-2",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>j(e.id),className:"text-green-600 hover:text-green-800",children:(0,t.jsx)(U.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>f(e.id),className:"text-gray-600 hover:text-gray-800",children:(0,t.jsx)(z.Z,{className:"h-4 w-4"})})]}):(0,t.jsxs)(t.Fragment,{children:[u&&(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>v(e),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),u&&(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>i(e.id),className:"text-red-500 hover:text-red-700",children:(0,t.jsx)(z.Z,{className:"h-4 w-4"})})]})})]})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg overflow-hidden relative",style:{aspectRatio:"1 / 1"},children:[s.imageUrl?(0,t.jsx)("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(F.Z,{className:"h-12 w-12 mx-auto mb-2"}),(0,t.jsx)("p",{children:"No image"})]})}),l&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:[s.isUploadingImage?(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm",children:"Uploading..."})]}):(0,t.jsxs)(n.z,{variant:"secondary",size:"sm",onClick:()=>{var a;return null===(a=h.current[e.id])||void 0===a?void 0:a.click()},children:[(0,t.jsx)(F.Z,{className:"h-4 w-4 mr-2"}),"Upload Image"]}),(0,t.jsx)("input",{ref:a=>{a&&(h.current[e.id]=a)},type:"file",accept:"image/*",className:"hidden",onChange:a=>{var s;let t=null===(s=a.target.files)||void 0===s?void 0:s[0];t&&y(e.id,t)}})]})]}),(0,t.jsx)("div",{children:l?(0,t.jsx)(C.g,{value:s.description,onChange:a=>g(e.id,"description",a.target.value),placeholder:"Describe this project, your role, and key achievements...",rows:3}):(0,t.jsx)("p",{className:"text-gray-700 text-sm",children:s.description})}),(0,t.jsx)("div",{children:l?(0,t.jsx)(w.I,{value:s.projectUrl||"",onChange:a=>g(e.id,"projectUrl",a.target.value),placeholder:"https://project-url.com"}):s.projectUrl&&(0,t.jsxs)("a",{href:s.projectUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 mr-1"}),"View Live Project"]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Technologies Used"}),l?(0,t.jsx)(w.I,{value:Array.isArray(s.technologies)?s.technologies.join(", "):"",onChange:a=>g(e.id,"technologies",a.target.value.split(",").map(e=>e.trim()).filter(e=>e)),placeholder:"React, Node.js, MongoDB (comma separated)"}):(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(a=s.technologies)||void 0===a?void 0:a.map((e,a)=>(0,t.jsx)(c.C,{variant:"outline",className:"text-xs",children:e},a))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Completion Date"}),l?(0,t.jsx)(w.I,{type:"date",value:s.completedAt?"string"==typeof s.completedAt?s.completedAt.split("T")[0]:(()=>{let e=new Date(s.completedAt),a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return"".concat(a,"-").concat(t,"-").concat(l)})():"",onChange:a=>g(e.id,"completedAt",a.target.value)}):(0,t.jsx)("div",{className:"text-sm text-gray-700",children:s.completedAt?"string"==typeof s.completedAt?new Date(s.completedAt).toLocaleDateString():s.completedAt.toLocaleDateString():"Not set"})]})]})]},e.id)})}),0===a.portfolio.length&&(0,t.jsx)(o.Zb,{className:"border-dashed border-2 border-gray-300",children:(0,t.jsxs)(o.aY,{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"text-gray-400 mb-4",children:(0,t.jsx)(m.Z,{className:"h-12 w-12 mx-auto"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No portfolio items yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Showcase your best work to attract more clients"}),u&&(0,t.jsxs)(n.z,{onClick:s,children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Add Your First Project"]})]})})]})}var R=s(30036);function _(e){let{profile:a,addCredential:s,updateCredential:r,removeCredential:i,isEditing:u}=e,[m,p]=(0,l.useState)(a.credentials||[]),[h,v]=(0,l.useState)(!1),[g,j]=(0,l.useState)({});(0,l.useEffect)(()=>{console.log("\uD83D\uDD04 Credentials: Profile changed, updating credentials from profile:",a.credentials),p(a.credentials||[]),v(!1)},[a.credentials]),(0,l.useEffect)(()=>{!u&&h&&(console.log("\uD83D\uDD04 Credentials: Saving changes to backend...",m),y())},[u,h]);let y=async()=>{try{for(let e of m)if(e.isModified){let{isModified:a,...s}=e;await r(e.id,s)}v(!1)}catch(e){console.error("Error saving credentials:",e)}},b=(e,a)=>{p(s=>s.map(s=>s.id===e?{...s,...a,isModified:!0}:s)),v(!0)},C=async(e,a)=>{let s=new FormData;return Array.from(a).forEach(e=>{s.append("attachments",e)}),await N.apiClient.post("/users/credentials/".concat(e,"/upload-attachments"),s,{headers:{"Content-Type":"multipart/form-data"}})},S=async(e,a)=>{if(a&&0!==a.length&&0!==Array.from(a).filter(e=>["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)?!(e.size>5242880)||(alert("File ".concat(e.name," is too large (max 5MB)")),!1):(alert("File ".concat(e.name," is not a supported format (PDF, DOC, DOCX, JPG, PNG only)")),!1)).length)try{j(a=>({...a,[e]:!0}));let s=await C(e,a);console.log("✅ Files uploaded successfully:",s),m.find(a=>a.id===e)&&b(e,{attachments:s.credential.attachments})}catch(e){console.error("❌ File upload failed:",e),alert("Failed to upload files. Please try again.")}finally{j(a=>({...a,[e]:!1}))}},D=async(e,a)=>{try{console.log("\uD83D\uDDD1️ Removing attachment:",{credentialId:e,attachmentIndex:a});let s=await N.apiClient.delete("/users/credentials/".concat(e,"/attachments/").concat(a));console.log("✅ Attachment removed successfully:",s),b(e,{attachments:s.credential.attachments})}catch(e){console.error("❌ Failed to remove attachment:",e),alert("Failed to remove attachment. Please try again.")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(o.Zb,{children:(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o.ll,{children:"Credentials & Education"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[h&&u&&(0,t.jsx)(c.C,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Unsaved Changes"}),h&&u&&(0,t.jsx)(n.z,{onClick:()=>{console.log("\uD83D\uDD04 Credentials: Manual save triggered",m),y()},size:"sm",variant:"outline",children:"Save Credentials Now"}),u&&(0,t.jsxs)(n.z,{onClick:s,children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Add Credential"]})]})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Add your educational background and professional certifications",h&&u&&(0,t.jsx)("span",{className:"text-yellow-600 ml-2",children:'• Click "Save Changes" to save your updates'})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:m.map(e=>{var a,s,l,r,m,p,h,v,j,y,N,C,A;return(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)(o.ll,{className:"text-lg",children:(null===(a=e.type)||void 0===a?void 0:a.toLowerCase())==="education"?"Education":(null===(s=e.type)||void 0===s?void 0:s.toLowerCase())==="certification"?"Certification":(null===(l=e.type)||void 0===l?void 0:l.toLowerCase())==="license"?"License":(null===(r=e.type)||void 0===r?void 0:r.toLowerCase())==="course"?"Course":(null===(m=e.type)||void 0===m?void 0:m.toLowerCase())==="award"?"Award":"Credential"})]}),u&&(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>i(e.id),className:"text-red-500 hover:text-red-700",children:(0,t.jsx)(z.Z,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Type"}),u?(0,t.jsxs)("select",{value:(null===(p=e.type)||void 0===p?void 0:p.toLowerCase())||"certification",onChange:a=>b(e.id,{type:a.target.value}),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm",children:[(0,t.jsx)("option",{value:"degree",children:"Degree"}),(0,t.jsx)("option",{value:"certification",children:"Certification"}),(0,t.jsx)("option",{value:"license",children:"License"}),(0,t.jsx)("option",{value:"course",children:"Course"}),(0,t.jsx)("option",{value:"award",children:"Award"})]}):(0,t.jsx)(c.C,{variant:(null===(h=e.type)||void 0===h?void 0:h.toLowerCase())==="education"?"default":"secondary",className:"mt-1",children:(null===(v=e.type)||void 0===v?void 0:v.toLowerCase())==="certification"?"Certification":(null===(j=e.type)||void 0===j?void 0:j.toLowerCase())==="education"?"Degree":(null===(y=e.type)||void 0===y?void 0:y.toLowerCase())==="license"?"License":(null===(N=e.type)||void 0===N?void 0:N.toLowerCase())==="course"?"Course":(null===(C=e.type)||void 0===C?void 0:C.toLowerCase())==="award"?"Award":e.type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Title"}),u?(0,t.jsx)(w.I,{value:e.title,onChange:a=>b(e.id,{title:a.target.value}),placeholder:"e.g., Bachelor of Computer Science"}):(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),e.verified&&(0,t.jsx)(f.Z,{className:"h-4 w-4 text-green-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Institution"}),u?(0,t.jsx)(w.I,{value:e.issuer||"",onChange:a=>b(e.id,{issuer:a.target.value}),placeholder:"e.g., University of British Columbia"}):(0,t.jsx)("span",{className:"text-gray-900",children:e.issuer})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Year Obtained"}),u?(0,t.jsx)(w.I,{type:"number",value:e.issuedDate?new Date(e.issuedDate).getFullYear():"",onChange:a=>{let s=parseInt(a.target.value);s&&b(e.id,{issuedDate:new Date(s,0,1).toISOString()})},min:"1950",max:new Date().getFullYear()}):(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:e.issuedDate?new Date(e.issuedDate).getFullYear():""})]}),(null===(A=e.type)||void 0===A?void 0:A.toLowerCase())==="certification"&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Expiry Date (Optional)"}),u?(0,t.jsx)(w.I,{type:"date",value:e.expiryDate?"string"==typeof e.expiryDate?e.expiryDate.split("T")[0]:e.expiryDate.toISOString().split("T")[0]:"",onChange:a=>b(e.id,{expiryDate:a.target.value?a.target.value:null})}):e.expiryDate&&(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Expires: ",new Date(e.expiryDate).toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Description (Optional)"}),u?(0,t.jsx)("textarea",{value:e.description||"",onChange:a=>b(e.id,{description:a.target.value}),placeholder:"Brief description of the credential...",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm resize-none",rows:3}):e.description&&(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:e.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Credential URL (Optional)"}),u?(0,t.jsx)(w.I,{type:"url",value:e.credentialUrl||"",onChange:a=>b(e.id,{credentialUrl:a.target.value}),placeholder:"https://example.com/verify-credential"}):e.credentialUrl&&(0,t.jsx)("a",{href:e.credentialUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 mt-1 block text-sm",children:"View Credential"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Supporting Documents"}),u&&(0,t.jsx)("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:g[e.id]?(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Uploading files..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.Z,{className:"mx-auto h-8 w-8 text-gray-400"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("label",{htmlFor:"file-upload-".concat(e.id),className:"cursor-pointer",children:[(0,t.jsx)("span",{className:"text-blue-600 hover:text-blue-500 font-medium",children:"Click to upload"}),(0,t.jsx)("span",{className:"text-gray-500",children:" or drag and drop"}),(0,t.jsx)("input",{id:"file-upload-".concat(e.id),type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:a=>S(e.id,a.target.files),className:"sr-only"})]})}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, DOCX, JPG, PNG up to 5MB each"})]})}),e.attachments&&e.attachments.length>0&&(0,t.jsx)("div",{className:"mt-2 space-y-2",children:e.attachments.map((a,s)=>{let l="string"==typeof a,r=l?a.split("/").pop()||"Document":a.name,i=l?a:a.url,o=l?"":a.size;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:r}),o&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",o,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>window.open(i,"_blank"),title:"View attachment",children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})}),u&&(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>D(e.id,s),className:"text-red-500 hover:text-red-700",title:"Remove attachment",children:(0,t.jsx)(z.Z,{className:"h-4 w-4"})})]})]},s)})})]})]})]},e.id)})}),0===m.length&&(0,t.jsx)(o.Zb,{className:"border-dashed border-2 border-gray-300",children:(0,t.jsxs)(o.aY,{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"text-gray-400 mb-4",children:(0,t.jsx)(x.Z,{className:"h-12 w-12 mx-auto"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No credentials added yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Add your education, certifications, and licenses to build credibility"}),u&&(0,t.jsxs)(n.z,{onClick:s,children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Add Your First Credential"]})]})})]})}var B=s(59055);function T(e){var a,s,r,i,d,u,m,x,h,v;let{profile:g,setProfile:j,updateRateStructure:f,updateAvailability:y,isEditing:N}=e,[b,C]=(0,l.useState)((null==g?void 0:null===(a=g.hourlyRate)||void 0===a?void 0:a.toString())||""),[D,A]=(0,l.useState)((null==g?void 0:null===(r=g.availability)||void 0===r?void 0:null===(s=r.hoursPerWeek)||void 0===s?void 0:s.toString())||"40"),[P,E]=(0,l.useState)((null==g?void 0:null===(i=g.availability)||void 0===i?void 0:i.startDate)||new Date().toISOString().split("T")[0]),[I,L]=(0,l.useState)((null==g?void 0:null===(d=g.availability)||void 0===d?void 0:d.status)||"AVAILABLE"),[Z,U]=(0,l.useState)(!1);(0,l.useEffect)(()=>{var e,a,s,t,l;C((null==g?void 0:null===(e=g.hourlyRate)||void 0===e?void 0:e.toString())||""),A((null==g?void 0:null===(s=g.availability)||void 0===s?void 0:null===(a=s.hoursPerWeek)||void 0===a?void 0:a.toString())||"40"),E((null==g?void 0:null===(t=g.availability)||void 0===t?void 0:t.startDate)||new Date().toISOString().split("T")[0]),L((null==g?void 0:null===(l=g.availability)||void 0===l?void 0:l.status)||"AVAILABLE"),U(!1)},[g]),(0,l.useEffect)(()=>{!N&&Z&&z()},[N,Z]);let z=async()=>{try{let e=parseInt(b)||0,a={status:I,hoursPerWeek:parseInt(D)||40,startDate:P};j(s=>({...s,hourlyRate:e,availability:a})),f&&await f({hourlyRate:e}),y&&await y(a),U(!1)}catch(e){console.error("Error saving rates and availability:",e),alert("Failed to save changes. Please try again.")}},F=(e,a)=>{U(!0),"hourlyRate"===e?C(a):"status"===e?L(a):"hoursPerWeek"===e?A(a):"startDate"===e&&E(a)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(o.Zb,{children:(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o.ll,{children:"Rates & Availability"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[Z&&N&&(0,t.jsx)(c.C,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Unsaved Changes"}),Z&&N&&(0,t.jsx)(n.z,{onClick:z,size:"sm",variant:"outline",children:"Save Changes Now"})]})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Set your hourly rate and availability preferences",Z&&N&&(0,t.jsx)("span",{className:"text-yellow-600 ml-2",children:'• Click "Save Changes" to save your updates'})]})]})}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)(o.ll,{children:"Hourly Rate"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Set your standard hourly rate"})]}),(0,t.jsx)(o.aY,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{className:"text-base font-medium",children:"Standard Hourly Rate"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Your base rate for most projects"}),N?(0,t.jsx)("div",{className:"max-w-xs",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),(0,t.jsx)(w.I,{type:"number",placeholder:"75",value:b,onChange:e=>F("hourlyRate",e.target.value),className:"pl-8"}),(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:"/hour"})]})}):(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(c.C,{variant:"outline",className:"text-lg px-3 py-1",children:["$",g.hourlyRate||0,"/hour"]})})]})})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{children:"Availability & Status"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your current availability and capacity"})]}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Current Status"}),N?(0,t.jsxs)(S.Ph,{value:I,onValueChange:e=>F("status",e),children:[(0,t.jsx)(S.i4,{children:(0,t.jsx)(S.ki,{placeholder:"Select status"})}),(0,t.jsxs)(S.Bw,{children:[(0,t.jsx)(S.Ql,{value:"AVAILABLE",children:"Available"}),(0,t.jsx)(S.Ql,{value:"BUSY",children:"Busy"}),(0,t.jsx)(S.Ql,{value:"UNAVAILABLE",children:"Unavailable"})]})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null===(u=g.availability)||void 0===u?void 0:u.status)==="AVAILABLE"?"bg-green-500":(null===(m=g.availability)||void 0===m?void 0:m.status)==="BUSY"?"bg-red-500":"bg-yellow-500")}),(0,t.jsx)("span",{className:"capitalize font-medium",children:(null===(x=g.availability)||void 0===x?void 0:x.status)||"Available"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Hours per Week"}),N?(0,t.jsx)(w.I,{type:"number",min:"1",max:"80",value:D,onChange:e=>F("hoursPerWeek",e.target.value),placeholder:"40"}):(0,t.jsxs)("p",{className:"text-gray-900",children:[(null===(h=g.availability)||void 0===h?void 0:h.hoursPerWeek)||40," hours"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Available From"}),N?(0,t.jsx)(w.I,{type:"date",value:P,onChange:e=>F("startDate",e.target.value)}):(0,t.jsx)("p",{className:"text-gray-900",children:(null===(v=g.availability)||void 0===v?void 0:v.startDate)||"Not set"})]})]})]})]}),(0,t.jsx)(o.Zb,{className:"bg-blue-50 border-blue-200",children:(0,t.jsx)(o.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(B.Z,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900",children:"Rate Setting Tips"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 mt-2 space-y-1",children:[(0,t.jsx)("li",{children:"• Research market rates in BC for your skill level"}),(0,t.jsx)("li",{children:"• Consider your experience, expertise, and unique value"}),(0,t.jsx)("li",{children:"• Start with a competitive base rate and adjust based on demand"}),(0,t.jsx)("li",{children:"• Factor in your overhead costs and desired profit margin"}),(0,t.jsx)("li",{children:"• Review and update your rates regularly as you gain experience"})]})]})]})})})]})}var Y=s(39289),M=s(89681);function W(e){var a,s,r,i,d;let{profile:u,setProfile:x,updateWorkPreferences:p,updateLocation:v,addIndustryExperience:g,updateIndustryExperience:j,removeIndustryExperience:f,isEditing:y}=e,[N,b]=(0,l.useState)({arrangements:(null==u?void 0:null===(a=u.workPreferences)||void 0===a?void 0:a.arrangements)||[],travelRadius:(null==u?void 0:null===(s=u.workPreferences)||void 0===s?void 0:s.travelRadius)||25,onSitePercentage:(null==u?void 0:null===(r=u.workPreferences)||void 0===r?void 0:r.onSitePercentage)||50,preferredLocations:(null==u?void 0:null===(i=u.workPreferences)||void 0===i?void 0:i.preferredLocations)||[]}),[C,S]=(0,l.useState)((null==u?void 0:null===(d=u.workPreferences)||void 0===d?void 0:d.industryExperience)||(null==u?void 0:u.industryExperience)||[]),[A,P]=(0,l.useState)(!1);(0,l.useEffect)(()=>{var e,a,s,t,l;b({arrangements:(null==u?void 0:null===(e=u.workPreferences)||void 0===e?void 0:e.arrangements)||[],travelRadius:(null==u?void 0:null===(a=u.workPreferences)||void 0===a?void 0:a.travelRadius)||25,onSitePercentage:(null==u?void 0:null===(s=u.workPreferences)||void 0===s?void 0:s.onSitePercentage)||50,preferredLocations:(null==u?void 0:null===(t=u.workPreferences)||void 0===t?void 0:t.preferredLocations)||[]}),S((null==u?void 0:null===(l=u.workPreferences)||void 0===l?void 0:l.industryExperience)||(null==u?void 0:u.industryExperience)||[]),P(!1)},[u]),(0,l.useEffect)(()=>{!y&&A&&E()},[y,A]);let E=async()=>{try{if(x(e=>({...e,workPreferences:N,industryExperience:C})),p){let e={...N,industryExperience:C};await p(e)}console.log("✅ Preferences saved:",{workPreferences:N,industryExperience:C}),P(!1)}catch(e){console.error("Error saving preferences:",e),alert("Failed to save preferences. Please try again.")}},I=(e,a)=>{P(!0),b(s=>({...s,[e]:a}))},L=e=>{let a=N.arrangements;I("arrangements",a.includes(e)?a.filter(a=>a!==e):[...a,e])},U=e=>{e.trim()&&!N.preferredLocations.includes(e.trim())&&I("preferredLocations",[...N.preferredLocations,e.trim()])},F=e=>{I("preferredLocations",N.preferredLocations.filter(a=>a!==e))},O=()=>{let e={industry:"",years:1,projects:1};P(!0),S(a=>[...a,e])},R=(e,a,s)=>{P(!0),S(t=>t.map((t,l)=>l===e?{...t,[a]:s}:t))},_=e=>{P(!0),S(a=>a.filter((a,s)=>s!==e))},T=["Technology","Healthcare","Finance","E-commerce","Education","Manufacturing","Real Estate","Hospitality","Non-profit","Government","Media & Entertainment","Agriculture","Energy","Transportation","Professional Services","Retail"];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(o.Zb,{children:(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o.ll,{children:"Work Preferences & Experience"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[A&&y&&(0,t.jsx)(c.C,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Unsaved Changes"}),A&&y&&(0,t.jsx)(n.z,{onClick:E,size:"sm",variant:"outline",children:"Save Changes Now"})]})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Set your work arrangement preferences and industry experience",A&&y&&(0,t.jsx)("span",{className:"text-yellow-600 ml-2",children:'• Click "Save Changes" to save your updates'})]})]})}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)(o.ll,{children:"Work Arrangements"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Select your preferred work arrangements and flexibility"})]}),(0,t.jsxs)(o.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{className:"text-base font-medium",children:"Preferred Arrangements"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Select all that apply"}),y?(0,t.jsx)("div",{className:"space-y-3",children:["on-site","hybrid","remote"].map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",id:e,checked:N.arrangements.includes(e),onChange:()=>L(e),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)(k._,{htmlFor:e,className:"capitalize cursor-pointer",children:e.replace("-"," ")})]},e))}):(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:N.arrangements.map((e,a)=>(0,t.jsx)(c.C,{variant:"secondary",className:"capitalize",children:e.replace("-"," ")},a))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{className:"text-base font-medium",children:"Travel Radius"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Maximum distance willing to travel"}),y?(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)("div",{className:"flex items-center space-x-4",children:[10,25,50,100].map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"radio",id:"radius-".concat(e),name:"travelRadius",value:e,checked:N.travelRadius===e,onChange:e=>I("travelRadius",parseInt(e.target.value)),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,t.jsxs)(k._,{htmlFor:"radius-".concat(e),className:"cursor-pointer",children:[e," km"]})]},e))})}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Y.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"font-medium",children:[N.travelRadius," km"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{className:"text-base font-medium",children:"On-site Percentage (Hybrid)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Preferred on-site time for hybrid work"}),y?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(w.I,{type:"range",min:"0",max:"100",step:"10",value:N.onSitePercentage,onChange:e=>I("onSitePercentage",parseInt(e.target.value)),className:"w-full"}),(0,t.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[N.onSitePercentage,"% on-site"]})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(M.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"font-medium",children:[N.onSitePercentage,"% on-site"]})]})]})]})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Z,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)(o.ll,{children:"Preferred Locations"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Cities and areas where you prefer to work"})]}),(0,t.jsxs)(o.aY,{className:"space-y-4",children:[y&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Add Location"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(D.B,{value:"",onChange:(e,a)=>{U("".concat(e,", ").concat(a))},placeholder:"Search for cities to add to your preferred locations..."})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Selected Locations"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:N.preferredLocations.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-1 bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm",children:[(0,t.jsx)(h.Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:e}),y&&(0,t.jsx)("button",{onClick:()=>F(e),className:"ml-1 text-blue-500 hover:text-blue-700",children:(0,t.jsx)(z.Z,{className:"h-3 w-3"})})]},a))})]})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(M.Z,{className:"h-5 w-5 text-purple-600"}),(0,t.jsx)(o.ll,{children:"Industry Experience"})]}),y&&(0,t.jsxs)(n.z,{onClick:O,size:"sm",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Add Industry"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Your experience across different industries"})]}),(0,t.jsx)(o.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[C.map((e,a)=>(0,t.jsx)("div",{className:"border rounded-lg p-4",children:y?(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Industry"}),(0,t.jsxs)("select",{value:e.industry,onChange:e=>R(a,"industry",e.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md text-sm",children:[(0,t.jsx)("option",{value:"",children:"Select industry..."}),T.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Years of Experience"}),(0,t.jsx)(w.I,{type:"number",min:"0",max:"50",value:e.years,onChange:e=>R(a,"years",parseInt(e.target.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k._,{children:"Projects Completed"}),(0,t.jsx)(w.I,{type:"number",min:"0",value:e.projects,onChange:e=>R(a,"projects",parseInt(e.target.value))})]})]}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>_(a),className:"text-red-500 hover:text-red-700 ml-2",children:(0,t.jsx)(z.Z,{className:"h-4 w-4"})})]})}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.industry}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.projects," projects completed"]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("p",{className:"font-medium text-gray-900",children:[e.years," years"]})})]})},a)),0===C.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(M.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("p",{children:"No industry experience added yet"}),y&&(0,t.jsxs)(n.z,{onClick:O,className:"mt-2",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Add Your First Industry"]})]})]})})]}),(0,t.jsx)(o.Zb,{className:"bg-green-50 border-green-200",children:(0,t.jsx)(o.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(B.Z,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-green-900",children:"Work Preferences Tips"}),(0,t.jsxs)("ul",{className:"text-sm text-green-800 mt-2 space-y-1",children:[(0,t.jsx)("li",{children:"• Be flexible with arrangements to get more opportunities"}),(0,t.jsx)("li",{children:"• Consider your commute time when setting travel radius"}),(0,t.jsx)("li",{children:"• Industry experience helps with specialized project matching"}),(0,t.jsx)("li",{children:"• Multiple location preferences increase your project pool"}),(0,t.jsx)("li",{children:"• Hybrid work is popular with BC businesses"})]})]})]})})})]})}function V(){var e,a,s,i,w,C,k,S,D,P,E,I,Z,U,z,F,R,B,Y;let{user:M}=(0,r.a)(),[V,G]=(0,l.useState)(null),[Q,H]=(0,l.useState)(!0),[q,$]=(0,l.useState)(null),[J,X]=(0,l.useState)(!1),[K,ee]=(0,l.useState)("overview"),ea=(0,l.useRef)(null),es=async()=>{try{H(!0);let e=await N.apiClient.get("/users/profile");G(e.user),$(null)}catch(e){console.error("Error loading profile:",e),$("Failed to load profile"),b.Am.error("Failed to load profile")}finally{H(!1)}},et=async()=>{try{await N.apiClient.post("/users/portfolio",{title:"New Project",description:"Project description",projectUrl:"",imageUrl:"",technologies:[]}),await es(),b.Am.success("Portfolio item added")}catch(e){console.error("Error adding portfolio item:",e),b.Am.error("Failed to add portfolio item")}},el=async(e,a)=>{try{await N.apiClient.put("/users/portfolio/".concat(e),a),await es(),b.Am.success("Portfolio item updated")}catch(e){console.error("Error updating portfolio item:",e),b.Am.error("Failed to update portfolio item")}},er=async e=>{try{await N.apiClient.delete("/users/portfolio/".concat(e)),await es(),b.Am.success("Portfolio item removed")}catch(e){console.error("Error removing portfolio item:",e),b.Am.error("Failed to remove portfolio item")}},ei=async e=>{var a,s,t,l;let r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(r)try{console.log("\uD83D\uDCF8 Uploading avatar:",{name:r.name,size:r.size,type:r.type});let e=new FormData;e.append("avatar",r,r.name),console.log("\uD83D\uDCE6 FormData created with avatar field");let a=await N.apiClient.post("/users/avatar",e);console.log("✅ Avatar uploaded successfully:",a),await es(),b.Am.success("Profile picture updated successfully!")}catch(e){console.error("Error uploading avatar:",e),console.error("Error response:",null===(s=e.response)||void 0===s?void 0:s.data),b.Am.error((null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.error)||"Failed to upload profile picture")}},en=async e=>{try{console.log("\uD83D\uDD04 Profile: handleSkillsChange called with skills:",e),await N.apiClient.put("/users/skills",{skills:e}),await es(),b.Am.success("Skills updated")}catch(e){console.error("Error updating skills:",e),b.Am.error("Failed to update skills"),await es()}},eo=async e=>{try{await N.apiClient.put("/users/profile",e),await es(),b.Am.success("Profile updated")}catch(e){console.error("Error updating profile:",e),b.Am.error("Failed to update profile")}},ec=async e=>{try{await N.apiClient.put("/users/location",e),await es(),b.Am.success("Location updated")}catch(e){console.error("Error updating location:",e),b.Am.error("Failed to update location")}},ed=async e=>{try{await N.apiClient.put("/users/availability",e),await es(),b.Am.success("Availability updated")}catch(e){console.error("Error updating availability:",e),b.Am.error("Failed to update availability")}},eu=async()=>{if(J){if(eN)try{let e={firstName:eN.firstName,lastName:eN.lastName,title:eN.title,bio:eN.bio,phone:eN.phone};await eo(e),X(!1)}catch(e){}}else X(!0)},em=async()=>{try{let e={title:"New Credential",issuer:"Institution Name",description:"",credentialUrl:"",issuedDate:new Date().toISOString().split("T")[0],expiryDate:null,type:"CERTIFICATION"};await N.apiClient.post("/users/credentials",e),await es(),b.Am.success("Credential added")}catch(e){console.error("Error adding credential:",e),b.Am.error("Failed to add credential")}},ex=async(e,a)=>{try{let s={...a};a.institution&&(s.issuer=a.institution,delete s.institution),a.year&&(s.issuedDate="".concat(a.year,"-01-01"),delete s.year),await N.apiClient.put("/users/credentials/".concat(e),s),await es(),b.Am.success("Credential updated")}catch(e){console.error("Error updating credential:",e),b.Am.error("Failed to update credential")}},ep=async e=>{try{await N.apiClient.delete("/users/credentials/".concat(e)),await es(),b.Am.success("Credential removed")}catch(e){console.error("Error removing credential:",e),b.Am.error("Failed to remove credential")}},eh=async e=>{try{await N.apiClient.put("/users/rate-structure",e),await es(),b.Am.success("Rate structure updated")}catch(e){console.error("Error updating rate structure:",e),b.Am.error("Failed to update rate structure")}},ev=async e=>{try{await N.apiClient.put("/users/work-preferences",e),await es(),b.Am.success("Work preferences updated")}catch(e){console.error("Error updating work preferences:",e),b.Am.error("Failed to update work preferences")}},eg=async e=>{try{await N.apiClient.post("/users/industry-experience",e),await es(),b.Am.success("Industry experience added")}catch(e){console.error("Error adding industry experience:",e),b.Am.error("Failed to add industry experience")}},ej=async(e,a)=>{try{await N.apiClient.put("/users/industry-experience/".concat(e),a),await es(),b.Am.success("Industry experience updated")}catch(e){console.error("Error updating industry experience:",e),b.Am.error("Failed to update industry experience")}},ef=async e=>{try{await N.apiClient.delete("/users/industry-experience/".concat(e)),await es(),b.Am.success("Industry experience removed")}catch(e){console.error("Error removing industry experience:",e),b.Am.error("Failed to remove industry experience")}};(0,l.useEffect)(()=>{M&&es()},[M]);let ey=[{id:"overview",name:"Overview",icon:d.Z},{id:"skills",name:"Skills",icon:u.Z},{id:"portfolio",name:"Portfolio",icon:m.Z},{id:"credentials",name:"Credentials",icon:x.Z},{id:"rates",name:"Rates & Availability",icon:p.Z},{id:"preferences",name:"Work Preferences",icon:h.Z}],eN=V?{firstName:(null===(e=V.profile)||void 0===e?void 0:e.firstName)||"",lastName:(null===(a=V.profile)||void 0===a?void 0:a.lastName)||"",email:V.email||"",phone:(null===(s=V.profile)||void 0===s?void 0:s.phone)||"",title:(null===(i=V.profile)||void 0===i?void 0:i.title)||"",bio:(null===(w=V.profile)||void 0===w?void 0:w.bio)||"",avatar:(null===(C=V.profile)||void 0===C?void 0:C.avatar)||"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(null==M?void 0:M.id),location:(null===(k=V.profile)||void 0===k?void 0:k.location)?"".concat(V.profile.location.city,", ").concat(V.profile.location.province):"Location not set",skills:(null===(D=V.profile)||void 0===D?void 0:null===(S=D.skills)||void 0===S?void 0:S.map(e=>{var a;return{name:(null===(a=e.skill)||void 0===a?void 0:a.name)||e.name||e,level:e.level||1,years:e.experience||0}}))||[],skillsDetailed:{primary:(null===(E=V.profile)||void 0===E?void 0:null===(P=E.skills)||void 0===P?void 0:P.slice(0,8).map(e=>{var a;return(null===(a=e.skill)||void 0===a?void 0:a.name)||e.name||e}))||[],secondary:(null===(Z=V.profile)||void 0===Z?void 0:null===(I=Z.skills)||void 0===I?void 0:I.slice(8).map(e=>{var a;return(null===(a=e.skill)||void 0===a?void 0:a.name)||e.name||e}))||[],learning:[]},portfolio:V.portfolioItems||[],credentials:(null===(U=V.profile)||void 0===U?void 0:U.credentials)||[],industryExperience:(null===(z=V.profile)||void 0===z?void 0:z.industryExperience)||[],rateStructure:(null===(F=V.profile)||void 0===F?void 0:F.rateStructure)?{hourly:{webDevelopment:{min:Number(V.profile.rateStructure.webDevelopmentMin)||0,max:Number(V.profile.rateStructure.webDevelopmentMax)||0},consulting:{min:Number(V.profile.rateStructure.consultingMin)||0,max:Number(V.profile.rateStructure.consultingMax)||0},maintenance:{min:Number(V.profile.rateStructure.maintenanceMin)||0,max:Number(V.profile.rateStructure.maintenanceMax)||0}},fixed:{smallProject:{min:Number(V.profile.rateStructure.smallProjectMin)||0,max:Number(V.profile.rateStructure.smallProjectMax)||0},mediumProject:{min:Number(V.profile.rateStructure.mediumProjectMin)||0,max:Number(V.profile.rateStructure.mediumProjectMax)||0},largeProject:{min:Number(V.profile.rateStructure.largeProjectMin)||0,max:Number(V.profile.rateStructure.largeProjectMax)||0}}}:{hourly:{webDevelopment:{min:0,max:0},consulting:{min:0,max:0},maintenance:{min:0,max:0}},fixed:{smallProject:{min:0,max:0},mediumProject:{min:0,max:0},largeProject:{min:0,max:0}}},workPreferences:(null===(R=V.profile)||void 0===R?void 0:R.workPreferences)||{arrangements:[],projectTypes:[],industries:[],preferredLocations:[],teamSize:"",communicationStyle:"",workingHours:""},availability:(null===(B=V.profile)||void 0===B?void 0:B.availability)?{status:V.profile.availability.status||"AVAILABLE",hoursPerWeek:V.profile.availability.hoursPerWeek||40,startDate:V.profile.availability.startDate?new Date(V.profile.availability.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}:{status:"AVAILABLE",hoursPerWeek:40,startDate:new Date().toISOString().split("T")[0]},hourlyRate:(null===(Y=V.profile)||void 0===Y?void 0:Y.hourlyRate)||0,joinedDate:V.createdAt?new Date(V.createdAt).toLocaleDateString():"N/A"}:null;return Q?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):q?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(v.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-red-600 mb-4",children:q}),(0,t.jsx)(n.z,{onClick:es,children:"Try Again"})]})}):V&&eN?(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,t.jsx)(o.Zb,{children:(0,t.jsx)(o.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>{var e;return null===(e=ea.current)||void 0===e?void 0:e.click()},children:[(0,t.jsx)("img",{src:eN.avatar,alt:"".concat(eN.firstName," ").concat(eN.lastName),className:"w-16 h-16 rounded-full object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(j.Z,{className:"h-8 w-8 text-white"})})]}),(0,t.jsx)("input",{ref:ea,type:"file",accept:"image/*",onChange:ei,className:"hidden"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[eN.firstName," ",eN.lastName]}),(0,t.jsx)("p",{className:"text-gray-600",children:eN.title}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,t.jsxs)(c.C,{variant:"secondary",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),"Verified"]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:eN.location})]})]})]}),(0,t.jsxs)(n.z,{onClick:eu,variant:J?"default":"outline",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),J?"Save Changes":"Edit Profile"]})]})})}),(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:ey.map(e=>{let a=e.icon;return(0,t.jsxs)("button",{onClick:()=>ee(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat(K===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)(a,{className:"h-4 w-4"}),e.name]},e.id)})})}),(0,t.jsxs)("div",{className:"mt-6",children:["overview"===K&&(0,t.jsx)(A,{profile:eN,setProfile:G,updateProfile:eo,updateLocation:ec,updateAvailability:ed,isEditing:J}),"skills"===K&&(0,t.jsx)(L,{profile:eN,handleSkillsChange:en,isEditing:J}),"portfolio"===K&&(0,t.jsx)(O,{profile:eN,addPortfolioItem:et,updatePortfolioItem:el,removePortfolioItem:er,isEditing:J}),"credentials"===K&&(0,t.jsx)(_,{profile:eN,addCredential:em,updateCredential:ex,removeCredential:ep,isEditing:J}),"rates"===K&&(0,t.jsx)(T,{profile:eN,setProfile:G,updateRateStructure:eh,updateAvailability:ed,isEditing:J}),"preferences"===K&&(0,t.jsx)(W,{profile:eN,setProfile:G,updateWorkPreferences:ev,updateLocation:ec,addIndustryExperience:eg,updateIndustryExperience:ej,removeIndustryExperience:ef,isEditing:J})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(g.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No profile data found"})]})})}function G(){return(0,t.jsx)(i.a,{requiredUserType:"talent",children:(0,t.jsx)(V,{})})}},73635:function(e,a,s){"use strict";s.d(a,{a:function(){return n}});var t=s(57437),l=s(2265),r=s(99376),i=s(45710);function n(e){let{children:a,requiredUserType:s,fallbackPath:n="/login"}=e,{user:o,loading:c}=(0,i.a)(),d=(0,r.useRouter)();return((0,l.useEffect)(()=>{if(!c){if(!o){console.log("\uD83D\uDD12 AuthGuard: No authenticated user, redirecting to login"),d.push(n);return}if(s&&o.userType.toLowerCase()!==s.toLowerCase()){console.log("\uD83D\uDD12 AuthGuard: User type ".concat(o.userType," not authorized for ").concat(s," pages"));let e="admin"===o.userType.toLowerCase()?"/admin":"business"===o.userType.toLowerCase()?"/business":"/talent";d.push(e);return}console.log("✅ AuthGuard: User authorized",{userType:o.userType,requiredType:s})}},[o,c,s,d,n]),c)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):!o||s&&o.userType.toLowerCase()!==s.toLowerCase()?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Redirecting..."})]})}):(0,t.jsx)(t.Fragment,{children:a})}},15291:function(e,a,s){"use strict";s.d(a,{Bw:function(){return h},Ph:function(){return d},Ql:function(){return v},i4:function(){return m},ki:function(){return u}});var t=s(57437),l=s(2265),r=s(33911),i=s(40875),n=s(22135),o=s(30401),c=s(93448);let d=r.fC;r.ZA;let u=r.B4,m=l.forwardRef((e,a)=>{let{className:s,children:l,...n}=e;return(0,t.jsxs)(r.xz,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[l,(0,t.jsx)(r.JO,{asChild:!0,children:(0,t.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=r.xz.displayName;let x=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.u_,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=r.u_.displayName;let p=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.$G,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})})});p.displayName=r.$G.displayName;let h=l.forwardRef((e,a)=>{let{className:s,children:l,position:i="popper",...n}=e;return(0,t.jsx)(r.h_,{children:(0,t.jsxs)(r.VY,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...n,children:[(0,t.jsx)(x,{}),(0,t.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(p,{})]})})});h.displayName=r.VY.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.__,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=r.__.displayName;let v=l.forwardRef((e,a)=>{let{className:s,children:l,...i}=e;return(0,t.jsxs)(r.ck,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.wU,{children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(r.eT,{children:l})]})});v.displayName=r.ck.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=r.Z0.displayName}},function(e){e.O(0,[6137,3464,4690,7983,4200,4799,6324,5710,822,828,2971,2117,1744],function(){return e(e.s=49884)}),_N_E=e.O()}]);