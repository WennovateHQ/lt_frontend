(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7552],{38614:function(e,s,r){Promise.resolve().then(r.bind(r,20783))},27648:function(e,s,r){"use strict";r.d(s,{default:function(){return t.a}});var n=r(72972),t=r.n(n)},99376:function(e,s,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(s,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(s,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(s,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(s,{useSearchParams:function(){return n.useSearchParams}})},20783:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return c}});var n=r(57437),t=r(2265),a=r(99376),i=r(27648),l=r(45710);function c(){return(0,n.jsx)(t.Suspense,{fallback:(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}),children:(0,n.jsx)(o,{})})}function o(){let[e,s]=(0,t.useState)("loading"),[r,c]=(0,t.useState)(""),[o,u]=(0,t.useState)(null),d=(0,a.useSearchParams)(),f=(0,a.useRouter)(),{verifyEmail:m}=(0,l.a)();(0,t.useEffect)(()=>{let e=d.get("token");if(!e){s("error"),c("Invalid verification link. No token provided.");return}h(e)},[d]);let h=async e=>{try{s("loading");let r=await m(e);r.success?(s("success"),c(r.message||"Email verified successfully!"),u(r.user),setTimeout(()=>{if(r.user){let e="business"===r.user.userType?"/business":"/talent";f.push(e)}else f.push("/login")},3e3)):(s("error"),c(r.message||"Email verification failed"))}catch(e){s("error"),c(e.message||"Email verification failed")}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full ".concat((()=>{switch(e){case"loading":return"bg-blue-100";case"success":return"bg-green-100";case"error":return"bg-red-100"}})()," mb-6"),children:(()=>{switch(e){case"loading":return(0,n.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});case"success":return(0,n.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return(0,n.jsx)("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}})()}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:(()=>{switch(e){case"loading":return"Verifying Your Email...";case"success":return"Email Verified Successfully!";case"error":return"Verification Failed"}})()}),(0,n.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:r}),"success"===e&&o&&(0,n.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,n.jsx)("div",{className:"ml-3",children:(0,n.jsxs)("p",{className:"text-sm text-green-700",children:[(0,n.jsxs)("strong",{children:["Welcome, ",o.firstName,"!"]})," Your account is now active. You'll be redirected to your dashboard shortly."]})})]})}),"error"===e&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,n.jsx)("div",{className:"ml-3",children:(0,n.jsx)("p",{className:"text-sm text-red-700",children:"The verification link may have expired or is invalid. Please try registering again or contact support."})})]})}),(0,n.jsxs)("div",{className:"space-y-4",children:["success"===e&&(0,n.jsx)("button",{onClick:()=>{let e=(null==o?void 0:o.userType)==="business"?"/business":"/talent";f.push(e)},className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Go to Dashboard"}),"error"===e&&(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(i.default,{href:"/register",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Register Again"}),(0,n.jsx)(i.default,{href:"/login",className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Login"})]}),"loading"===e&&(0,n.jsx)("div",{className:"text-sm text-gray-500",children:"Please wait while we verify your email address..."})]})]})})})}}},function(e){e.O(0,[3464,2972,5710,2971,2117,1744],function(){return e(e.s=38614)}),_N_E=e.O()}]);