(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3251,6305],{13251:function(e,t,s){Promise.resolve().then(s.bind(s,52257))},52257:function(e,t,s){"use strict";s.d(t,{DisputeCenter:function(){return C}});var a=s(57437),n=s(2265),r=s(79820),i=s(12381),l=s(69174),c=s(40279),o=s(23675),d=s(15291),u=s(17168),m=s(74291),p=s(47842),x=s(43836),f=s(1442),h=s(20322),g=s(43767),j=s(19672),y=s(69613),v=s(26305);class b{async getDisputes(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[s,a]=e;null!=a&&t.append(s,a.toString())}),v.apiClient.get("/disputes?".concat(t.toString()))}async getDispute(e){return v.apiClient.get("/disputes/".concat(e))}async createDispute(e){return v.apiClient.post("/disputes",e)}async updateDispute(e,t){return v.apiClient.put("/disputes/".concat(e),t)}async submitDispute(e){return v.apiClient.post("/disputes/".concat(e,"/submit"))}async withdrawDispute(e,t){return v.apiClient.post("/disputes/".concat(e,"/withdraw"),{reason:t})}async uploadEvidence(e,t,s,a){let n=new FormData;return n.append("file",t),n.append("description",s),n.append("type",a),v.apiClient.post("/disputes/".concat(e,"/evidence"),n,{headers:{"Content-Type":"multipart/form-data"}})}async deleteEvidence(e,t){return v.apiClient.delete("/disputes/".concat(e,"/evidence/").concat(t))}async sendMessage(e,t,s){let a=new FormData;return a.append("content",t),s&&s.forEach((e,t)=>{a.append("attachment_".concat(t),e)}),v.apiClient.post("/disputes/".concat(e,"/messages"),a,{headers:{"Content-Type":"multipart/form-data"}})}async getMessages(e){return v.apiClient.get("/disputes/".concat(e,"/messages"))}async getDisputeTemplates(e){return v.apiClient.get("/disputes/templates".concat(e?"?type=".concat(e):""))}async getDisputeTemplate(e){return v.apiClient.get("/disputes/templates/".concat(e))}async requestMediation(e,t){return v.apiClient.post("/disputes/".concat(e,"/request-mediation"),{preferredTimes:t})}async getMediationSessions(e){return v.apiClient.get("/disputes/".concat(e,"/mediation-sessions"))}async scheduleMediationSession(e,t){return v.apiClient.post("/disputes/".concat(e,"/mediation-sessions"),t)}async proposeResolution(e,t){return v.apiClient.post("/disputes/".concat(e,"/propose-resolution"),t)}async acceptResolution(e){return v.apiClient.post("/disputes/".concat(e,"/accept-resolution"))}async rejectResolution(e,t){return v.apiClient.post("/disputes/".concat(e,"/reject-resolution"),{reason:t})}async respondToDispute(e,t){return v.apiClient.post("/disputes/".concat(e,"/respond"),t)}async escalateDispute(e,t){return v.apiClient.post("/disputes/".concat(e,"/escalate"),{reason:t})}async getDisputeStats(e,t){let s=new URLSearchParams;return e&&s.append("dateFrom",e),t&&s.append("dateTo",t),v.apiClient.get("/disputes/stats?".concat(s.toString()))}async assignMediator(e,t){return v.apiClient.post("/disputes/".concat(e,"/assign-mediator"),{mediatorId:t})}async updateDisputeStatus(e,t,s){return v.apiClient.post("/disputes/".concat(e,"/status"),{status:t,notes:s})}async updateDisputePriority(e,t){return v.apiClient.post("/disputes/".concat(e,"/priority"),{priority:t})}async resolveDispute(e,t){return v.apiClient.post("/disputes/".concat(e,"/resolve"),t)}async getAvailableMediators(){return v.apiClient.get("/disputes/mediators")}async bulkUpdateDisputes(e,t){return v.apiClient.post("/disputes/bulk-update",{disputeIds:e,updates:t})}}let N=new b;var w=s(93448);function C(){let[e,t]=(0,n.useState)([]),[s,c]=(0,n.useState)(!0),[o,u]=(0,n.useState)(null),[y,v]=(0,n.useState)(!1),[b,C]=(0,n.useState)("all"),[R,S]=(0,n.useState)("all");(0,n.useEffect)(()=>{I()},[b,R]);let I=async()=>{try{let e={limit:50,sortBy:"createdAt",sortOrder:"desc"};"all"!==b&&(e.status=b),"all"!==R&&(e.type=R);let s=await N.getDisputes(e);t(s.disputes)}catch(e){console.error("Failed to load disputes:",e)}finally{c(!1)}},Q=e=>{switch(e){case"resolved":return"bg-green-100 text-green-800";case"under_review":case"mediation":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-blue-100 text-blue-800";case"escalated":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Z=e=>{switch(e){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},_=e=>{switch(e){case"payment":return"\uD83D\uDCB3";case"quality":return"⭐";case"timeline":return"⏰";case"scope":return"\uD83D\uDCCB";case"communication":return"\uD83D\uDCAC";case"contract_violation":return"\uD83D\uDCC4";default:return"❓"}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-6 h-6"}),"Dispute Resolution Center"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage and resolve project disputes"})]}),(0,a.jsxs)(m.Vq,{open:y,onOpenChange:v,children:[(0,a.jsx)(m.hg,{asChild:!0,children:(0,a.jsxs)(i.z,{children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"File Dispute"]})}),(0,a.jsxs)(m.cZ,{className:"max-w-2xl",children:[(0,a.jsx)(m.fK,{children:(0,a.jsx)(m.$N,{children:"File a New Dispute"})}),(0,a.jsx)(D,{onSuccess:()=>{v(!1),I()}})]})]})]}),(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(d.Ph,{value:b,onValueChange:C,children:[(0,a.jsx)(d.i4,{children:(0,a.jsx)(d.ki,{placeholder:"Filter by status"})}),(0,a.jsxs)(d.Bw,{children:[(0,a.jsx)(d.Ql,{value:"all",children:"All Statuses"}),(0,a.jsx)(d.Ql,{value:"draft",children:"Draft"}),(0,a.jsx)(d.Ql,{value:"submitted",children:"Submitted"}),(0,a.jsx)(d.Ql,{value:"under_review",children:"Under Review"}),(0,a.jsx)(d.Ql,{value:"mediation",children:"In Mediation"}),(0,a.jsx)(d.Ql,{value:"resolved",children:"Resolved"}),(0,a.jsx)(d.Ql,{value:"escalated",children:"Escalated"}),(0,a.jsx)(d.Ql,{value:"closed",children:"Closed"})]})]}),(0,a.jsxs)(d.Ph,{value:R,onValueChange:S,children:[(0,a.jsx)(d.i4,{children:(0,a.jsx)(d.ki,{placeholder:"Filter by type"})}),(0,a.jsxs)(d.Bw,{children:[(0,a.jsx)(d.Ql,{value:"all",children:"All Types"}),(0,a.jsx)(d.Ql,{value:"payment",children:"Payment Issues"}),(0,a.jsx)(d.Ql,{value:"quality",children:"Quality Concerns"}),(0,a.jsx)(d.Ql,{value:"timeline",children:"Timeline Disputes"}),(0,a.jsx)(d.Ql,{value:"scope",children:"Scope Changes"}),(0,a.jsx)(d.Ql,{value:"communication",children:"Communication Issues"}),(0,a.jsx)(d.Ql,{value:"contract_violation",children:"Contract Violations"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["Total: ",(null==e?void 0:e.length)||0]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Open: ",(e||[]).filter(e=>!["resolved","closed"].includes((null==e?void 0:e.status)||"")).length]})]})]})})}),s?(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.aY,{className:"p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Your Disputes (",(null==e?void 0:e.length)||0,")"]}),0===((null==e?void 0:e.length)||0)?(0,a.jsx)(r.Zb,{children:(0,a.jsxs)(r.aY,{className:"p-6 text-center",children:[(0,a.jsx)(f.Z,{className:"w-12 h-12 mx-auto text-green-500 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Disputes"}),(0,a.jsx)("p",{className:"text-gray-600",children:"You have no active disputes. Great work!"})]})}):(e||[]).map(e=>{var t,s,n,i,c;return(0,a.jsx)(r.Zb,{className:"cursor-pointer transition-colors ".concat((null==o?void 0:o.id)===e.id?"ring-2 ring-blue-500":"hover:bg-gray-50"),onClick:()=>u(e),children:(0,a.jsxs)(r.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:_(e.type)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:e.subject}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Case #",e.id.slice(-6)," • ",e.type.replace("_"," ")]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,a.jsx)(l.C,{className:Q(e.status),children:e.status.replace("_"," ")}),(0,a.jsx)(l.C,{className:Z(e.priority),children:e.priority})]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{children:["Against: ",e.respondent.name]}),e.amountInDispute&&(0,a.jsx)("span",{className:"font-medium",children:(0,w.xG)(e.amountInDispute)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),(0,w.p6)(e.createdAt)]}),((null===(t=e.messages)||void 0===t?void 0:t.length)||0)>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),(null===(s=e.messages)||void 0===s?void 0:s.length)||0," messages"]}),((null===(n=e.evidence)||void 0===n?void 0:n.length)||0)>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),(null===(i=e.evidence)||void 0===i?void 0:i.length)||0," files"]})]})]}),(null==e?void 0:e.resolution)&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-green-50 rounded border border-green-200",children:(0,a.jsxs)("p",{className:"text-sm text-green-800",children:[(0,a.jsx)("strong",{children:"Resolved:"})," ",null==e?void 0:null===(c=e.resolution)||void 0===c?void 0:c.summary]})})]})},e.id)})]}),(0,a.jsx)("div",{className:"space-y-4",children:o?(0,a.jsx)(k,{dispute:o,onUpdate:()=>I()}):(0,a.jsx)(r.Zb,{children:(0,a.jsxs)(r.aY,{className:"p-6 text-center",children:[(0,a.jsx)(p.Z,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Dispute"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Click on a dispute to view details and take actions"})]})})})]})]})}function D(e){let{onSuccess:t}=e,[s,r]=(0,n.useState)({type:"payment",requestedResolution:"mediation"}),[l,u]=(0,n.useState)(!1),m=async e=>{e.preventDefault(),u(!0);try{await N.createDispute(s),t()}catch(e){console.error("Failed to create dispute:",e)}finally{u(!1)}};return(0,a.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dispute Type"}),(0,a.jsxs)(d.Ph,{value:s.type,onValueChange:e=>r(t=>({...t,type:e})),children:[(0,a.jsx)(d.i4,{children:(0,a.jsx)(d.ki,{})}),(0,a.jsxs)(d.Bw,{children:[(0,a.jsx)(d.Ql,{value:"payment",children:"Payment Issues"}),(0,a.jsx)(d.Ql,{value:"quality",children:"Quality Concerns"}),(0,a.jsx)(d.Ql,{value:"timeline",children:"Timeline Disputes"}),(0,a.jsx)(d.Ql,{value:"scope",children:"Scope Changes"}),(0,a.jsx)(d.Ql,{value:"communication",children:"Communication Issues"}),(0,a.jsx)(d.Ql,{value:"contract_violation",children:"Contract Violations"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requested Resolution"}),(0,a.jsxs)(d.Ph,{value:s.requestedResolution,onValueChange:e=>r(t=>({...t,requestedResolution:e})),children:[(0,a.jsx)(d.i4,{children:(0,a.jsx)(d.ki,{})}),(0,a.jsxs)(d.Bw,{children:[(0,a.jsx)(d.Ql,{value:"refund",children:"Full Refund"}),(0,a.jsx)(d.Ql,{value:"partial_refund",children:"Partial Refund"}),(0,a.jsx)(d.Ql,{value:"completion",children:"Project Completion"}),(0,a.jsx)(d.Ql,{value:"compensation",children:"Compensation"}),(0,a.jsx)(d.Ql,{value:"mediation",children:"Mediation"}),(0,a.jsx)(d.Ql,{value:"other",children:"Other"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,a.jsx)(c.I,{value:s.subject||"",onChange:e=>r(t=>({...t,subject:e.target.value})),placeholder:"Brief description of the issue",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)(o.g,{value:s.description||"",onChange:e=>r(t=>({...t,description:e.target.value})),placeholder:"Detailed explanation of the dispute...",rows:4,required:!0})]}),("refund"===s.requestedResolution||"partial_refund"===s.requestedResolution||"compensation"===s.requestedResolution)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount in Dispute"}),(0,a.jsx)(c.I,{type:"number",value:s.amountInDispute||"",onChange:e=>r(t=>({...t,amountInDispute:parseFloat(e.target.value)})),placeholder:"0.00",min:"0",step:"0.01"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,a.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>r({}),children:"Reset"}),(0,a.jsx)(i.z,{type:"submit",disabled:l,children:l?"Creating...":"Create Dispute"})]})]})}function k(e){let{dispute:t,onUpdate:s}=e,[c,d]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1),x=async()=>{if(c.trim()){p(!0);try{await N.sendMessage(t.id,c),d(""),s()}catch(e){console.error("Failed to send message:",e)}finally{p(!1)}}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Dispute Details"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.C,{className:function(e){switch(e){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}(t.priority),children:t.priority}),(0,a.jsx)(l.C,{className:function(e){switch(e){case"resolved":return"bg-green-100 text-green-800";case"under_review":case"mediation":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-blue-100 text-blue-800";case"escalated":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}(t.status),children:t.status.replace("_"," ")})]})]})}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:t.subject}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,a.jsx)("p",{className:"font-medium",children:t.type.replace("_"," ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Created:"}),(0,a.jsx)("p",{className:"font-medium",children:(0,w.p6)(t.createdAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Complainant:"}),(0,a.jsx)("p",{className:"font-medium",children:t.complainant.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Respondent:"}),(0,a.jsx)("p",{className:"font-medium",children:t.respondent.name})]})]}),t.amountInDispute&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Amount in Dispute:"}),(0,a.jsx)("p",{className:"font-medium text-lg",children:(0,w.xG)(t.amountInDispute)})]}),t.mediator&&(0,a.jsx)("div",{className:"p-3 bg-blue-50 rounded border border-blue-200",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"Mediator Assigned:"})," ",t.mediator.name]})}),t.resolution&&(0,a.jsxs)("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:[(0,a.jsx)("h5",{className:"font-medium text-green-800 mb-2",children:"Resolution"}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:t.resolution.details}),t.resolution.financialResolution&&(0,a.jsxs)("p",{className:"text-sm text-green-700 mt-1",children:[(0,a.jsx)("strong",{children:"Financial Resolution:"})," ",(0,w.xG)(t.resolution.financialResolution.refundAmount||0),"to ",t.resolution.financialResolution.recipient]})]})]})})]}),(0,a.jsxs)(u.mQ,{defaultValue:"messages",children:[(0,a.jsxs)(u.dr,{children:[(0,a.jsxs)(u.SP,{value:"messages",children:["Messages (",t.messages.length,")"]}),(0,a.jsxs)(u.SP,{value:"evidence",children:["Evidence (",t.evidence.length,")"]})]}),(0,a.jsx)(u.nU,{value:"messages",className:"space-y-4",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{className:"text-base",children:"Communication"})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.messages.map(e=>(0,a.jsxs)("div",{className:"border-l-2 border-gray-200 pl-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.senderName}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(0,w.p6)(e.timestamp)})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.content}),e.attachments&&e.attachments.length>0&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.attachments.length," attachment(s)"]})]})]},e.id))}),!["resolved","closed"].includes(t.status)&&(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsx)(o.g,{value:c,onChange:e=>d(e.target.value),placeholder:"Type your message...",rows:3}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.z,{onClick:x,disabled:m||!c.trim(),children:m?"Sending...":"Send Message"})})]})]})]})}),(0,a.jsx)(u.nU,{value:"evidence",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{className:"text-base",children:"Evidence & Documentation"})}),(0,a.jsx)(r.aY,{children:0===t.evidence.length?(0,a.jsx)("p",{className:"text-center text-gray-600 py-4",children:"No evidence uploaded yet"}):(0,a.jsx)("div",{className:"space-y-3",children:t.evidence.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.fileName}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]})]}),(0,a.jsx)(i.z,{variant:"outline",size:"sm",children:"View"})]},e.id))})})]})})]})]})}},69174:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var a=s(57437);s(2265);var n=s(90535),r=s(93448);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white hover:bg-success/80",warning:"border-transparent bg-warning text-white hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...n}=e;return(0,a.jsx)("div",{className:(0,r.cn)(i({variant:s}),t),...n})}},12381:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var a=s(57437),n=s(2265),r=s(37053),i=s(90535),l=s(93448);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-white hover:bg-success/90",warning:"bg-warning text-white hover:bg-warning/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:o=!1,...d}=e,u=o?r.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(c({variant:n,size:i,className:s})),ref:t,...d})});o.displayName="Button"},79820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var a=s(57437),n=s(2265),r=s(93448);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});c.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},74291:function(e,t,s){"use strict";s.d(t,{$N:function(){return f},Be:function(){return h},Vq:function(){return c},cN:function(){return x},cZ:function(){return m},fK:function(){return p},hg:function(){return o}});var a=s(57437),n=s(2265),r=s(49027),i=s(32489),l=s(93448);let c=r.fC,o=r.xz,d=r.h_;r.x8;let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});u.displayName=r.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:s,children:n,...c}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(r.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...c,children:[n,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};p.displayName="DialogHeader";let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};x.displayName="DialogFooter";let f=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});f.displayName=r.Dx.displayName;let h=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...n})});h.displayName=r.dk.displayName},40279:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(57437),n=s(2265),r=s(93448);let i=n.forwardRef((e,t)=>{let{className:s,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},15291:function(e,t,s){"use strict";s.d(t,{Bw:function(){return f},Ph:function(){return d},Ql:function(){return h},i4:function(){return m},ki:function(){return u}});var a=s(57437),n=s(2265),r=s(33911),i=s(40875),l=s(22135),c=s(30401),o=s(93448);let d=r.fC;r.ZA;let u=r.B4,m=n.forwardRef((e,t)=>{let{className:s,children:n,...l}=e;return(0,a.jsxs)(r.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[n,(0,a.jsx)(r.JO,{asChild:!0,children:(0,a.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=r.xz.displayName;let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=r.u_.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=r.$G.displayName;let f=n.forwardRef((e,t)=>{let{className:s,children:n,position:i="popper",...l}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsxs)(r.VY,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,a.jsx)(p,{}),(0,a.jsx)(r.l_,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(x,{})]})})});f.displayName=r.VY.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})}).displayName=r.__.displayName;let h=n.forwardRef((e,t)=>{let{className:s,children:n,...i}=e;return(0,a.jsxs)(r.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(r.eT,{children:n})]})});h.displayName=r.ck.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...n})}).displayName=r.Z0.displayName},17168:function(e,t,s){"use strict";s.d(t,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var a=s(57437),n=s(2265),r=s(20271),i=s(93448);let l=r.fC,c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});c.displayName=r.aV.displayName;let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});o.displayName=r.xz.displayName;let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});d.displayName=r.VY.displayName},23675:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var a=s(57437),n=s(2265),r=s(93448);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});i.displayName="Textarea"},26305:function(e,t,s){"use strict";s.d(t,{apiClient:function(){return r}});var a=s(83464);class n{async get(e,t){return(await this.client.get(e,t)).data}async post(e,t,s){return(await this.client.post(e,t,s)).data}async put(e,t,s){return(await this.client.put(e,t,s)).data}async patch(e,t,s){return(await this.client.patch(e,t,s)).data}async delete(e,t){return(await this.client.delete(e,t)).data}async getBlob(e,t){return(await this.client.get(e,{...t,responseType:"blob"})).data}constructor(){this.client=a.Z.create({baseURL:"http://localhost:5000/api",timeout:1e4,withCredentials:!0}),this.client.interceptors.request.use(e=>{let t=localStorage.getItem("token")||sessionStorage.getItem("token")||localStorage.getItem("localtalents_token")||localStorage.getItem("accessToken")||localStorage.getItem("localtalents_accessToken");return console.log("\uD83D\uDD0D API Client: Request interceptor",{url:e.url,hasToken:!!t}),t?(e.headers.Authorization="Bearer ".concat(t),console.log("✅ API Client: Added Authorization header")):console.log("❌ API Client: No token found in any storage location"),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t,s;let n=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!n._retry){n._retry=!0;try{let e=localStorage.getItem("refreshToken");if(e){let{accessToken:t}=(await a.Z.post("".concat(this.client.defaults.baseURL,"/auth/refresh"),{refreshToken:e})).data.tokens;return localStorage.setItem("token",t),n.headers.Authorization="Bearer ".concat(t),this.client(n)}}catch(t){localStorage.removeItem("token"),localStorage.removeItem("refreshToken");let e=window.location.pathname;return(e.startsWith("/business")||e.startsWith("/talent")||e.startsWith("/admin"))&&(window.location.href="/login"),Promise.reject(t)}}if((null===(s=e.response)||void 0===s?void 0:s.status)===401){let e=window.location.pathname,t=e.startsWith("/business")||e.startsWith("/talent")||e.startsWith("/admin");localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),t&&(window.location.href="/login")}return Promise.reject(e)})}}let r=new n},93448:function(e,t,s){"use strict";s.d(t,{SY:function(){return c},cn:function(){return r},p6:function(){return l},xG:function(){return i}});var a=s(61994),n=s(53335);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CAD";return new Intl.NumberFormat("en-CA",{style:"currency",currency:t}).format(e)}function l(e){if(!e)return"Invalid date";let t=new Date(e);return isNaN(t.getTime())?"Invalid date":new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"long",day:"numeric"}).format(t)}function c(e){if(!e)return"Invalid date";let t=new Date,s=new Date(e);if(isNaN(s.getTime()))return"Invalid date";let a=Math.floor((t.getTime()-s.getTime())/1e3);return a<60?"just now":a<3600?"".concat(Math.floor(a/60),"m ago"):a<86400?"".concat(Math.floor(a/3600),"h ago"):a<2592e3?"".concat(Math.floor(a/86400),"d ago"):l(e)}}}]);